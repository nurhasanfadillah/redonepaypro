(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))r(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function l(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(d){if(d.ep)return;d.ep=!0;const h=l(d);fetch(d.href,h)}})();function _m(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function db(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var s=i.default;if(typeof s=="function"){var l=function r(){return this instanceof r?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};l.prototype=s.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var d=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(l,r,d.get?d:{enumerable:!0,get:function(){return i[r]}})}),l}var Ju={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function hb(){if(A0)return Pl;A0=1;var i=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function l(r,d,h){var f=null;if(h!==void 0&&(f=""+h),d.key!==void 0&&(f=""+d.key),"key"in d){h={};for(var g in d)g!=="key"&&(h[g]=d[g])}else h=d;return d=h.ref,{$$typeof:i,type:r,key:f,ref:d!==void 0?d:null,props:h}}return Pl.Fragment=s,Pl.jsx=l,Pl.jsxs=l,Pl}var O0;function fb(){return O0||(O0=1,Ju.exports=hb()),Ju.exports}var u=fb(),Xu={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function mb(){if(C0)return ye;C0=1;var i=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),N=Symbol.iterator;function C(x){return x===null||typeof x!="object"?null:(x=N&&x[N]||x["@@iterator"],typeof x=="function"?x:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,L={};function H(x,D,E){this.props=x,this.context=D,this.refs=L,this.updater=E||R}H.prototype.isReactComponent={},H.prototype.setState=function(x,D){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,D,"setState")},H.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Y(){}Y.prototype=H.prototype;function $(x,D,E){this.props=x,this.context=D,this.refs=L,this.updater=E||R}var F=$.prototype=new Y;F.constructor=$,z(F,H.prototype),F.isPureReactComponent=!0;var le=Array.isArray;function P(){}var Q={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function pe(x,D,E){var I=E.ref;return{$$typeof:i,type:x,key:D,ref:I!==void 0?I:null,props:E}}function ke(x,D){return pe(x.type,D,x.props)}function ne(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function je(x){var D={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(E){return D[E]})}var he=/\/+/g;function Z(x,D){return typeof x=="object"&&x!==null&&x.key!=null?je(""+x.key):D.toString(36)}function ge(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(P,P):(x.status="pending",x.then(function(D){x.status==="pending"&&(x.status="fulfilled",x.value=D)},function(D){x.status==="pending"&&(x.status="rejected",x.reason=D)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function _(x,D,E,I,W){var ue=typeof x;(ue==="undefined"||ue==="boolean")&&(x=null);var xe=!1;if(x===null)xe=!0;else switch(ue){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(x.$$typeof){case i:case s:xe=!0;break;case v:return xe=x._init,_(xe(x._payload),D,E,I,W)}}if(xe)return W=W(x),xe=I===""?"."+Z(x,0):I,le(W)?(E="",xe!=null&&(E=xe.replace(he,"$&/")+"/"),_(W,D,E,"",function(bt){return bt})):W!=null&&(ne(W)&&(W=ke(W,E+(W.key==null||x&&x.key===W.key?"":(""+W.key).replace(he,"$&/")+"/")+xe)),D.push(W)),1;xe=0;var He=I===""?".":I+":";if(le(x))for(var Me=0;Me<x.length;Me++)I=x[Me],ue=He+Z(I,Me),xe+=_(I,D,E,ue,W);else if(Me=C(x),typeof Me=="function")for(x=Me.call(x),Me=0;!(I=x.next()).done;)I=I.value,ue=He+Z(I,Me++),xe+=_(I,D,E,ue,W);else if(ue==="object"){if(typeof x.then=="function")return _(ge(x),D,E,I,W);throw D=String(x),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return xe}function G(x,D,E){if(x==null)return x;var I=[],W=0;return _(x,I,"","",function(ue){return D.call(E,ue,W++)}),I}function ee(x){if(x._status===-1){var D=x._result;D=D(),D.then(function(E){(x._status===0||x._status===-1)&&(x._status=1,x._result=E)},function(E){(x._status===0||x._status===-1)&&(x._status=2,x._result=E)}),x._status===-1&&(x._status=0,x._result=D)}if(x._status===1)return x._result.default;throw x._result}var J=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},te={map:G,forEach:function(x,D,E){G(x,function(){D.apply(this,arguments)},E)},count:function(x){var D=0;return G(x,function(){D++}),D},toArray:function(x){return G(x,function(D){return D})||[]},only:function(x){if(!ne(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return ye.Activity=j,ye.Children=te,ye.Component=H,ye.Fragment=l,ye.Profiler=d,ye.PureComponent=$,ye.StrictMode=r,ye.Suspense=b,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ye.__COMPILER_RUNTIME={__proto__:null,c:function(x){return Q.H.useMemoCache(x)}},ye.cache=function(x){return function(){return x.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(x,D,E){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var I=z({},x.props),W=x.key;if(D!=null)for(ue in D.key!==void 0&&(W=""+D.key),D)!se.call(D,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&D.ref===void 0||(I[ue]=D[ue]);var ue=arguments.length-2;if(ue===1)I.children=E;else if(1<ue){for(var xe=Array(ue),He=0;He<ue;He++)xe[He]=arguments[He+2];I.children=xe}return pe(x.type,W,I)},ye.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:h,_context:x},x},ye.createElement=function(x,D,E){var I,W={},ue=null;if(D!=null)for(I in D.key!==void 0&&(ue=""+D.key),D)se.call(D,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(W[I]=D[I]);var xe=arguments.length-2;if(xe===1)W.children=E;else if(1<xe){for(var He=Array(xe),Me=0;Me<xe;Me++)He[Me]=arguments[Me+2];W.children=He}if(x&&x.defaultProps)for(I in xe=x.defaultProps,xe)W[I]===void 0&&(W[I]=xe[I]);return pe(x,ue,W)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(x){return{$$typeof:g,render:x}},ye.isValidElement=ne,ye.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:ee}},ye.memo=function(x,D){return{$$typeof:p,type:x,compare:D===void 0?null:D}},ye.startTransition=function(x){var D=Q.T,E={};Q.T=E;try{var I=x(),W=Q.S;W!==null&&W(E,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(P,J)}catch(ue){J(ue)}finally{D!==null&&E.types!==null&&(D.types=E.types),Q.T=D}},ye.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ye.use=function(x){return Q.H.use(x)},ye.useActionState=function(x,D,E){return Q.H.useActionState(x,D,E)},ye.useCallback=function(x,D){return Q.H.useCallback(x,D)},ye.useContext=function(x){return Q.H.useContext(x)},ye.useDebugValue=function(){},ye.useDeferredValue=function(x,D){return Q.H.useDeferredValue(x,D)},ye.useEffect=function(x,D){return Q.H.useEffect(x,D)},ye.useEffectEvent=function(x){return Q.H.useEffectEvent(x)},ye.useId=function(){return Q.H.useId()},ye.useImperativeHandle=function(x,D,E){return Q.H.useImperativeHandle(x,D,E)},ye.useInsertionEffect=function(x,D){return Q.H.useInsertionEffect(x,D)},ye.useLayoutEffect=function(x,D){return Q.H.useLayoutEffect(x,D)},ye.useMemo=function(x,D){return Q.H.useMemo(x,D)},ye.useOptimistic=function(x,D){return Q.H.useOptimistic(x,D)},ye.useReducer=function(x,D,E){return Q.H.useReducer(x,D,E)},ye.useRef=function(x){return Q.H.useRef(x)},ye.useState=function(x){return Q.H.useState(x)},ye.useSyncExternalStore=function(x,D,E){return Q.H.useSyncExternalStore(x,D,E)},ye.useTransition=function(){return Q.H.useTransition()},ye.version="19.2.3",ye}var D0;function Sc(){return D0||(D0=1,Xu.exports=mb()),Xu.exports}var B=Sc();const gb=_m(B);var Zu={exports:{}},Vl={},Fu={exports:{}},Wu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function pb(){return R0||(R0=1,(function(i){function s(_,G){var ee=_.length;_.push(G);e:for(;0<ee;){var J=ee-1>>>1,te=_[J];if(0<d(te,G))_[J]=G,_[ee]=te,ee=J;else break e}}function l(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var G=_[0],ee=_.pop();if(ee!==G){_[0]=ee;e:for(var J=0,te=_.length,x=te>>>1;J<x;){var D=2*(J+1)-1,E=_[D],I=D+1,W=_[I];if(0>d(E,ee))I<te&&0>d(W,E)?(_[J]=W,_[I]=ee,J=I):(_[J]=E,_[D]=ee,J=D);else if(I<te&&0>d(W,ee))_[J]=W,_[I]=ee,J=I;else break e}}return G}function d(_,G){var ee=_.sortIndex-G.sortIndex;return ee!==0?ee:_.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var b=[],p=[],v=1,j=null,N=3,C=!1,R=!1,z=!1,L=!1,H=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function F(_){for(var G=l(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=_)r(p),G.sortIndex=G.expirationTime,s(b,G);else break;G=l(p)}}function le(_){if(z=!1,F(_),!R)if(l(b)!==null)R=!0,P||(P=!0,je());else{var G=l(p);G!==null&&ge(le,G.startTime-_)}}var P=!1,Q=-1,se=5,pe=-1;function ke(){return L?!0:!(i.unstable_now()-pe<se)}function ne(){if(L=!1,P){var _=i.unstable_now();pe=_;var G=!0;try{e:{R=!1,z&&(z=!1,Y(Q),Q=-1),C=!0;var ee=N;try{t:{for(F(_),j=l(b);j!==null&&!(j.expirationTime>_&&ke());){var J=j.callback;if(typeof J=="function"){j.callback=null,N=j.priorityLevel;var te=J(j.expirationTime<=_);if(_=i.unstable_now(),typeof te=="function"){j.callback=te,F(_),G=!0;break t}j===l(b)&&r(b),F(_)}else r(b);j=l(b)}if(j!==null)G=!0;else{var x=l(p);x!==null&&ge(le,x.startTime-_),G=!1}}break e}finally{j=null,N=ee,C=!1}G=void 0}}finally{G?je():P=!1}}}var je;if(typeof $=="function")je=function(){$(ne)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Z=he.port2;he.port1.onmessage=ne,je=function(){Z.postMessage(null)}}else je=function(){H(ne,0)};function ge(_,G){Q=H(function(){_(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(_){_.callback=null},i.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<_?Math.floor(1e3/_):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(_){switch(N){case 1:case 2:case 3:var G=3;break;default:G=N}var ee=N;N=G;try{return _()}finally{N=ee}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(_,G){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var ee=N;N=_;try{return G()}finally{N=ee}},i.unstable_scheduleCallback=function(_,G,ee){var J=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?J+ee:J):ee=J,_){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ee+te,_={id:v++,callback:G,priorityLevel:_,startTime:ee,expirationTime:te,sortIndex:-1},ee>J?(_.sortIndex=ee,s(p,_),l(b)===null&&_===l(p)&&(z?(Y(Q),Q=-1):z=!0,ge(le,ee-J))):(_.sortIndex=te,s(b,_),R||C||(R=!0,P||(P=!0,je()))),_},i.unstable_shouldYield=ke,i.unstable_wrapCallback=function(_){var G=N;return function(){var ee=N;N=G;try{return _.apply(this,arguments)}finally{N=ee}}}})(Wu)),Wu}var z0;function bb(){return z0||(z0=1,Fu.exports=pb()),Fu.exports}var ec={exports:{}},kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function yb(){if(U0)return kt;U0=1;var i=Sc();function s(b){var p="https://react.dev/errors/"+b;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+b+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(s(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function h(b,p,v){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:j==null?null:""+j,children:b,containerInfo:p,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(b,p){if(b==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,kt.createPortal=function(b,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(s(299));return h(b,p,null,v)},kt.flushSync=function(b){var p=f.T,v=r.p;try{if(f.T=null,r.p=2,b)return b()}finally{f.T=p,r.p=v,r.d.f()}},kt.preconnect=function(b,p){typeof b=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(b,p))},kt.prefetchDNS=function(b){typeof b=="string"&&r.d.D(b)},kt.preinit=function(b,p){if(typeof b=="string"&&p&&typeof p.as=="string"){var v=p.as,j=g(v,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(b,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:j,integrity:N,fetchPriority:C}):v==="script"&&r.d.X(b,{crossOrigin:j,integrity:N,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},kt.preinitModule=function(b,p){if(typeof b=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);r.d.M(b,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(b)},kt.preload=function(b,p){if(typeof b=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,j=g(v,p.crossOrigin);r.d.L(b,v,{crossOrigin:j,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},kt.preloadModule=function(b,p){if(typeof b=="string")if(p){var v=g(p.as,p.crossOrigin);r.d.m(b,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(b)},kt.requestFormReset=function(b){r.d.r(b)},kt.unstable_batchedUpdates=function(b,p){return b(p)},kt.useFormState=function(b,p,v){return f.H.useFormState(b,p,v)},kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},kt.version="19.2.3",kt}var M0;function xb(){if(M0)return ec.exports;M0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),ec.exports=yb(),ec.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function vb(){if(B0)return Vl;B0=1;var i=bb(),s=Sc(),l=xb();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(h(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,n=t;;){var o=a.return;if(o===null)break;var c=o.alternate;if(c===null){if(n=o.return,n!==null){a=n;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===a)return b(o),e;if(c===n)return b(o),t;c=c.sibling}throw Error(r(188))}if(a.return!==n.return)a=o,n=c;else{for(var m=!1,y=o.child;y;){if(y===a){m=!0,a=o,n=c;break}if(y===n){m=!0,n=o,a=c;break}y=y.sibling}if(!m){for(y=c.child;y;){if(y===a){m=!0,a=c,n=o;break}if(y===n){m=!0,n=c,a=o;break}y=y.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==n)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var j=Object.assign,N=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),$=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),ke=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function je(e){return e===null||typeof e!="object"?null:(e=ne&&e[ne]||e["@@iterator"],typeof e=="function"?e:null)}var he=Symbol.for("react.client.reference");function Z(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===he?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case H:return"Profiler";case L:return"StrictMode";case le:return"Suspense";case P:return"SuspenseList";case pe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case $:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case F:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:Z(e.type)||"Memo";case se:t=e._payload,e=e._init;try{return Z(e(t))}catch{}}return null}var ge=Array.isArray,_=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},J=[],te=-1;function x(e){return{current:e}}function D(e){0>te||(e.current=J[te],J[te]=null,te--)}function E(e,t){te++,J[te]=e.current,e.current=t}var I=x(null),W=x(null),ue=x(null),xe=x(null);function He(e,t){switch(E(ue,t),E(W,e),E(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ff(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ff(t),e=Wf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(I),E(I,e)}function Me(){D(I),D(W),D(ue)}function bt(e){e.memoizedState!==null&&E(xe,e);var t=I.current,a=Wf(t,e.type);t!==a&&(E(W,e),E(I,a))}function Tt(e){W.current===e&&(D(I),D(W)),xe.current===e&&(D(xe),Kl._currentValue=ee)}var ba,ka;function X(e){if(ba===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ba=t&&t[1]||"",ka=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ba+e+ka}var Ie=!1;function be(e,t){if(!e||Ie)return"";Ie=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(U){var O=U}Reflect.construct(e,[],K)}else{try{K.call()}catch(U){O=U}e.call(K.prototype)}}else{try{throw Error()}catch(U){O=U}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(U){if(U&&O&&typeof U.stack=="string")return[U.stack,O.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=n.DetermineComponentFrameRoot(),m=c[0],y=c[1];if(m&&y){var w=m.split(`
`),A=y.split(`
`);for(o=n=0;n<w.length&&!w[n].includes("DetermineComponentFrameRoot");)n++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(n===w.length||o===A.length)for(n=w.length-1,o=A.length-1;1<=n&&0<=o&&w[n]!==A[o];)o--;for(;1<=n&&0<=o;n--,o--)if(w[n]!==A[o]){if(n!==1||o!==1)do if(n--,o--,0>o||w[n]!==A[o]){var M=`
`+w[n].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=n&&0<=o);break}}}finally{Ie=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?X(a):""}function Ye(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&t!==null?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return be(e.type,!1);case 11:return be(e.type.render,!1);case 1:return be(e.type,!0);case 31:return X("Activity");default:return""}}function ua(e){try{var t="",a=null;do t+=Ye(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var ya=Object.prototype.hasOwnProperty,xs=i.unstable_scheduleCallback,xa=i.unstable_cancelCallback,Wn=i.unstable_shouldYield,V=i.unstable_requestPaint,ve=i.unstable_now,Fe=i.unstable_getCurrentPriorityLevel,ae=i.unstable_ImmediatePriority,Ve=i.unstable_UserBlockingPriority,qt=i.unstable_NormalPriority,va=i.unstable_LowPriority,At=i.unstable_IdlePriority,Zt=i.log,el=i.unstable_setDisableYieldValue,Ot=null,ft=null;function Ft(e){if(typeof Zt=="function"&&el(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Ot,e)}catch{}}var Ce=Math.clz32?Math.clz32:Qs,Ct=Math.log,Vs=Math.LN2;function Qs(e){return e>>>=0,e===0?32:31-(Ct(e)/Vs|0)|0}var at=256,Ht=262144,lr=4194304;function vs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function rr(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var o=0,c=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=n&134217727;return y!==0?(n=y&~c,n!==0?o=vs(n):(m&=y,m!==0?o=vs(m):a||(a=y&~e,a!==0&&(o=vs(a))))):(y=n&~c,y!==0?o=vs(y):m!==0?o=vs(m):a||(a=n&~e,a!==0&&(o=vs(a)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:o}function tl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dc(){var e=lr;return lr<<=1,(lr&62914560)===0&&(lr=4194304),e}function Mi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function al(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wm(e,t,a,n,o,c){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,w=e.expirationTimes,A=e.hiddenUpdates;for(a=m&~a;0<a;){var M=31-Ce(a),K=1<<M;y[M]=0,w[M]=-1;var O=A[M];if(O!==null)for(A[M]=null,M=0;M<O.length;M++){var U=O[M];U!==null&&(U.lane&=-536870913)}a&=~K}n!==0&&Rc(e,n,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(m&~t))}function Rc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Ce(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function zc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-Ce(a),o=1<<n;o&t|e[n]&t&&(e[n]|=t),a&=~o}}function Uc(e,t){var a=t&-t;return a=(a&42)!==0?1:Bi(a),(a&(e.suspendedLanes|t))!==0?0:a}function Bi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mc(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:_0(e.type))}function Bc(e,t){var a=G.p;try{return G.p=e,t()}finally{G.p=a}}var Ya=Math.random().toString(36).slice(2),yt="__reactFiber$"+Ya,Dt="__reactProps$"+Ya,Js="__reactContainer$"+Ya,qi="__reactEvents$"+Ya,eg="__reactListeners$"+Ya,tg="__reactHandles$"+Ya,Lc="__reactResources$"+Ya,sl="__reactMarker$"+Ya;function Hi(e){delete e[yt],delete e[Dt],delete e[qi],delete e[eg],delete e[tg]}function Xs(e){var t=e[yt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Js]||a[yt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=r0(e);e!==null;){if(a=e[yt])return a;e=r0(e)}return t}e=a,a=e.parentNode}return null}function Zs(e){if(e=e[yt]||e[Js]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function nl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Fs(e){var t=e[Lc];return t||(t=e[Lc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[sl]=!0}var qc=new Set,Hc={};function ws(e,t){Ws(e,t),Ws(e+"Capture",t)}function Ws(e,t){for(Hc[e]=t,e=0;e<t.length;e++)qc.add(t[e])}var ag=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ic={},Kc={};function sg(e){return ya.call(Kc,e)?!0:ya.call(Ic,e)?!1:ag.test(e)?Kc[e]=!0:(Ic[e]=!0,!1)}function ir(e,t,a){if(sg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function or(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Na(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function Wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $c(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ng(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,c.call(this,m)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ii(e){if(!e._valueTracker){var t=$c(e)?"checked":"value";e._valueTracker=ng(e,t,""+e[t])}}function Gc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=$c(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function ur(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lg=/[\n"\\]/g;function ea(e){return e.replace(lg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ki(e,t,a,n,o,c,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Wt(t)):e.value!==""+Wt(t)&&(e.value=""+Wt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?$i(e,m,Wt(t)):a!=null?$i(e,m,Wt(a)):n!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Wt(y):e.removeAttribute("name")}function Yc(e,t,a,n,o,c,m,y){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Ii(e);return}a=a!=null?""+Wt(a):"",t=t!=null?""+Wt(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}n=n??o,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=y?e.checked:!!n,e.defaultChecked=!!n,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Ii(e)}function $i(e,t,a){t==="number"&&ur(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function en(e,t,a,n){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Wt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Pc(e,t,a){if(t!=null&&(t=""+Wt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Wt(a):""}function Vc(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(r(92));if(ge(n)){if(1<n.length)throw Error(r(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Wt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Ii(e)}function tn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var rg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qc(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||rg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Jc(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var o in t)n=t[o],t.hasOwnProperty(o)&&a[o]!==n&&Qc(e,o,n)}else for(var c in t)t.hasOwnProperty(c)&&Qc(e,c,t[c])}function Gi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ig=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),og=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(e){return og.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ea(){}var Yi=null;function Pi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var an=null,sn=null;function Xc(e){var t=Zs(e);if(t&&(e=t.stateNode)){var a=e[Dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ki(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ea(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var o=n[Dt]||null;if(!o)throw Error(r(90));Ki(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Gc(n)}break e;case"textarea":Pc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&en(e,!!a.multiple,t,!1)}}}var Vi=!1;function Zc(e,t,a){if(Vi)return e(t,a);Vi=!0;try{var n=e(t);return n}finally{if(Vi=!1,(an!==null||sn!==null)&&(Zr(),an&&(t=an,e=sn,sn=an=null,Xc(t),e)))for(t=0;t<e.length;t++)Xc(e[t])}}function ll(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Dt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var Ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qi=!1;if(Ta)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){Qi=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{Qi=!1}var Pa=null,Ji=null,dr=null;function Fc(){if(dr)return dr;var e,t=Ji,a=t.length,n,o="value"in Pa?Pa.value:Pa.textContent,c=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(n=1;n<=m&&t[a-n]===o[c-n];n++);return dr=o.slice(e,1<n?1-n:void 0)}function hr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fr(){return!0}function Wc(){return!1}function Rt(e){function t(a,n,o,c,m){this._reactName=a,this._targetInst=o,this.type=n,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?fr:Wc,this.isPropagationStopped=Wc,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),t}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mr=Rt(_s),il=j({},_s,{view:0,detail:0}),ug=Rt(il),Xi,Zi,ol,gr=j({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ol&&(ol&&e.type==="mousemove"?(Xi=e.screenX-ol.screenX,Zi=e.screenY-ol.screenY):Zi=Xi=0,ol=e),Xi)},movementY:function(e){return"movementY"in e?e.movementY:Zi}}),ed=Rt(gr),cg=j({},gr,{dataTransfer:0}),dg=Rt(cg),hg=j({},il,{relatedTarget:0}),Fi=Rt(hg),fg=j({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),mg=Rt(fg),gg=j({},_s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pg=Rt(gg),bg=j({},_s,{data:0}),td=Rt(bg),yg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vg[e])?!!t[e]:!1}function Wi(){return wg}var _g=j({},il,{key:function(e){if(e.key){var t=yg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wi,charCode:function(e){return e.type==="keypress"?hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sg=Rt(_g),jg=j({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ad=Rt(jg),kg=j({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wi}),Ng=Rt(kg),Eg=j({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tg=Rt(Eg),Ag=j({},gr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Og=Rt(Ag),Cg=j({},_s,{newState:0,oldState:0}),Dg=Rt(Cg),Rg=[9,13,27,32],eo=Ta&&"CompositionEvent"in window,ul=null;Ta&&"documentMode"in document&&(ul=document.documentMode);var zg=Ta&&"TextEvent"in window&&!ul,sd=Ta&&(!eo||ul&&8<ul&&11>=ul),nd=" ",ld=!1;function rd(e,t){switch(e){case"keyup":return Rg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nn=!1;function Ug(e,t){switch(e){case"compositionend":return id(t);case"keypress":return t.which!==32?null:(ld=!0,nd);case"textInput":return e=t.data,e===nd&&ld?null:e;default:return null}}function Mg(e,t){if(nn)return e==="compositionend"||!eo&&rd(e,t)?(e=Fc(),dr=Ji=Pa=null,nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sd&&t.locale!=="ko"?null:t.data;default:return null}}var Bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function od(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bg[e.type]:t==="textarea"}function ud(e,t,a,n){an?sn?sn.push(n):sn=[n]:an=n,t=ni(t,"onChange"),0<t.length&&(a=new mr("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var cl=null,dl=null;function Lg(e){Pf(e,0)}function pr(e){var t=nl(e);if(Gc(t))return e}function cd(e,t){if(e==="change")return t}var dd=!1;if(Ta){var to;if(Ta){var ao="oninput"in document;if(!ao){var hd=document.createElement("div");hd.setAttribute("oninput","return;"),ao=typeof hd.oninput=="function"}to=ao}else to=!1;dd=to&&(!document.documentMode||9<document.documentMode)}function fd(){cl&&(cl.detachEvent("onpropertychange",md),dl=cl=null)}function md(e){if(e.propertyName==="value"&&pr(dl)){var t=[];ud(t,dl,e,Pi(e)),Zc(Lg,t)}}function qg(e,t,a){e==="focusin"?(fd(),cl=t,dl=a,cl.attachEvent("onpropertychange",md)):e==="focusout"&&fd()}function Hg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pr(dl)}function Ig(e,t){if(e==="click")return pr(t)}function Kg(e,t){if(e==="input"||e==="change")return pr(t)}function $g(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:$g;function hl(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var o=a[n];if(!ya.call(t,o)||!It(e[o],t[o]))return!1}return!0}function gd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pd(e,t){var a=gd(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gd(a)}}function bd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ur(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ur(e.document)}return t}function so(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Gg=Ta&&"documentMode"in document&&11>=document.documentMode,ln=null,no=null,fl=null,lo=!1;function xd(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lo||ln==null||ln!==ur(n)||(n=ln,"selectionStart"in n&&so(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fl&&hl(fl,n)||(fl=n,n=ni(no,"onSelect"),0<n.length&&(t=new mr("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=ln)))}function Ss(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var rn={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},ro={},vd={};Ta&&(vd=document.createElement("div").style,"AnimationEvent"in window||(delete rn.animationend.animation,delete rn.animationiteration.animation,delete rn.animationstart.animation),"TransitionEvent"in window||delete rn.transitionend.transition);function js(e){if(ro[e])return ro[e];if(!rn[e])return e;var t=rn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in vd)return ro[e]=t[a];return e}var wd=js("animationend"),_d=js("animationiteration"),Sd=js("animationstart"),Yg=js("transitionrun"),Pg=js("transitionstart"),Vg=js("transitioncancel"),jd=js("transitionend"),kd=new Map,io="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");io.push("scrollEnd");function ca(e,t){kd.set(e,t),ws(t,[e])}var br=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ta=[],on=0,oo=0;function yr(){for(var e=on,t=oo=on=0;t<e;){var a=ta[t];ta[t++]=null;var n=ta[t];ta[t++]=null;var o=ta[t];ta[t++]=null;var c=ta[t];if(ta[t++]=null,n!==null&&o!==null){var m=n.pending;m===null?o.next=o:(o.next=m.next,m.next=o),n.pending=o}c!==0&&Nd(a,o,c)}}function xr(e,t,a,n){ta[on++]=e,ta[on++]=t,ta[on++]=a,ta[on++]=n,oo|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function uo(e,t,a,n){return xr(e,t,a,n),vr(e)}function ks(e,t){return xr(e,null,null,t),vr(e)}function Nd(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var o=!1,c=e.return;c!==null;)c.childLanes|=a,n=c.alternate,n!==null&&(n.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-Ce(a),e=c.hiddenUpdates,n=e[o],n===null?e[o]=[t]:n.push(t),t.lane=a|536870912),c):null}function vr(e){if(50<Ul)throw Ul=0,xu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var un={};function Qg(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,t,a,n){return new Qg(e,t,a,n)}function co(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Aa(e,t){var a=e.alternate;return a===null?(a=Kt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ed(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function wr(e,t,a,n,o,c){var m=0;if(n=e,typeof e=="function")co(e)&&(m=1);else if(typeof e=="string")m=Wp(e,a,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pe:return e=Kt(31,a,t,o),e.elementType=pe,e.lanes=c,e;case z:return Ns(a.children,o,c,t);case L:m=8,o|=24;break;case H:return e=Kt(12,a,t,o|2),e.elementType=H,e.lanes=c,e;case le:return e=Kt(13,a,t,o),e.elementType=le,e.lanes=c,e;case P:return e=Kt(19,a,t,o),e.elementType=P,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:m=10;break e;case Y:m=9;break e;case F:m=11;break e;case Q:m=14;break e;case se:m=16,n=null;break e}m=29,a=Error(r(130,e===null?"null":typeof e,"")),n=null}return t=Kt(m,a,t,o),t.elementType=e,t.type=n,t.lanes=c,t}function Ns(e,t,a,n){return e=Kt(7,e,n,t),e.lanes=a,e}function ho(e,t,a){return e=Kt(6,e,null,t),e.lanes=a,e}function Td(e){var t=Kt(18,null,null,0);return t.stateNode=e,t}function fo(e,t,a){return t=Kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ad=new WeakMap;function aa(e,t){if(typeof e=="object"&&e!==null){var a=Ad.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ua(t)},Ad.set(e,t),t)}return{value:e,source:t,stack:ua(t)}}var cn=[],dn=0,_r=null,ml=0,sa=[],na=0,Va=null,wa=1,_a="";function Oa(e,t){cn[dn++]=ml,cn[dn++]=_r,_r=e,ml=t}function Od(e,t,a){sa[na++]=wa,sa[na++]=_a,sa[na++]=Va,Va=e;var n=wa;e=_a;var o=32-Ce(n)-1;n&=~(1<<o),a+=1;var c=32-Ce(t)+o;if(30<c){var m=o-o%5;c=(n&(1<<m)-1).toString(32),n>>=m,o-=m,wa=1<<32-Ce(t)+o|a<<o|n,_a=c+e}else wa=1<<c|a<<o|n,_a=e}function mo(e){e.return!==null&&(Oa(e,1),Od(e,1,0))}function go(e){for(;e===_r;)_r=cn[--dn],cn[dn]=null,ml=cn[--dn],cn[dn]=null;for(;e===Va;)Va=sa[--na],sa[na]=null,_a=sa[--na],sa[na]=null,wa=sa[--na],sa[na]=null}function Cd(e,t){sa[na++]=wa,sa[na++]=_a,sa[na++]=Va,wa=t.id,_a=t.overflow,Va=e}var xt=null,Je=null,De=!1,Qa=null,la=!1,po=Error(r(519));function Ja(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(aa(t,e)),po}function Dd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[yt]=e,t[Dt]=n,a){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(a=0;a<Bl.length;a++)Te(Bl[a],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),Yc(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),Vc(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Xf(t.textContent,a)?(n.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),n.onScroll!=null&&Te("scroll",t),n.onScrollEnd!=null&&Te("scrollend",t),n.onClick!=null&&(t.onclick=Ea),t=!0):t=!1,t||Ja(e,!0)}function Rd(e){for(xt=e.return;xt;)switch(xt.tag){case 5:case 31:case 13:la=!1;return;case 27:case 3:la=!0;return;default:xt=xt.return}}function hn(e){if(e!==xt)return!1;if(!De)return Rd(e),De=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||zu(e.type,e.memoizedProps)),a=!a),a&&Je&&Ja(e),Rd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Je=l0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Je=l0(e)}else t===27?(t=Je,us(e.type)?(e=qu,qu=null,Je=e):Je=t):Je=xt?ia(e.stateNode.nextSibling):null;return!0}function Es(){Je=xt=null,De=!1}function bo(){var e=Qa;return e!==null&&(Bt===null?Bt=e:Bt.push.apply(Bt,e),Qa=null),e}function gl(e){Qa===null?Qa=[e]:Qa.push(e)}var yo=x(null),Ts=null,Ca=null;function Xa(e,t,a){E(yo,t._currentValue),t._currentValue=a}function Da(e){e._currentValue=yo.current,D(yo)}function xo(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function vo(e,t,a,n){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var m=o.child;c=c.firstContext;e:for(;c!==null;){var y=c;c=o;for(var w=0;w<t.length;w++)if(y.context===t[w]){c.lanes|=a,y=c.alternate,y!==null&&(y.lanes|=a),xo(c.return,a,e),n||(m=null);break e}c=y.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=a,c=m.alternate,c!==null&&(c.lanes|=a),xo(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function fn(e,t,a,n){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var y=o.type;It(o.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(o===xe.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Kl):e=[Kl])}o=o.return}e!==null&&vo(t,e,a,n),t.flags|=262144}function Sr(e){for(e=e.firstContext;e!==null;){if(!It(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){Ts=e,Ca=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return zd(Ts,e)}function jr(e,t){return Ts===null&&As(e),zd(e,t)}function zd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ca===null){if(e===null)throw Error(r(308));Ca=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ca=Ca.next=t;return a}var Jg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Xg=i.unstable_scheduleCallback,Zg=i.unstable_NormalPriority,lt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wo(){return{controller:new Jg,data:new Map,refCount:0}}function pl(e){e.refCount--,e.refCount===0&&Xg(Zg,function(){e.controller.abort()})}var bl=null,_o=0,mn=0,gn=null;function Fg(e,t){if(bl===null){var a=bl=[];_o=0,mn=ku(),gn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return _o++,t.then(Ud,Ud),t}function Ud(){if(--_o===0&&bl!==null){gn!==null&&(gn.status="fulfilled");var e=bl;bl=null,mn=0,gn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wg(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(n.status="rejected",n.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),n}var Md=_.S;_.S=function(e,t){vf=ve(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Fg(e,t),Md!==null&&Md(e,t)};var Os=x(null);function So(){var e=Os.current;return e!==null?e:Pe.pooledCache}function kr(e,t){t===null?E(Os,Os.current):E(Os,t.pool)}function Bd(){var e=So();return e===null?null:{parent:lt._currentValue,pool:e}}var pn=Error(r(460)),jo=Error(r(474)),Nr=Error(r(542)),Er={then:function(){}};function Ld(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ea,Ea),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Id(e),e;default:if(typeof t.status=="string")t.then(Ea,Ea);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=n}},function(n){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Id(e),e}throw Ds=t,pn}}function Cs(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ds=a,pn):a}}var Ds=null;function Hd(){if(Ds===null)throw Error(r(459));var e=Ds;return Ds=null,e}function Id(e){if(e===pn||e===Nr)throw Error(r(483))}var bn=null,yl=0;function Tr(e){var t=yl;return yl+=1,bn===null&&(bn=[]),qd(bn,e,t)}function xl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ar(e,t){throw t.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Kd(e){function t(k,S){if(e){var T=k.deletions;T===null?(k.deletions=[S],k.flags|=16):T.push(S)}}function a(k,S){if(!e)return null;for(;S!==null;)t(k,S),S=S.sibling;return null}function n(k){for(var S=new Map;k!==null;)k.key!==null?S.set(k.key,k):S.set(k.index,k),k=k.sibling;return S}function o(k,S){return k=Aa(k,S),k.index=0,k.sibling=null,k}function c(k,S,T){return k.index=T,e?(T=k.alternate,T!==null?(T=T.index,T<S?(k.flags|=67108866,S):T):(k.flags|=67108866,S)):(k.flags|=1048576,S)}function m(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function y(k,S,T,q){return S===null||S.tag!==6?(S=ho(T,k.mode,q),S.return=k,S):(S=o(S,T),S.return=k,S)}function w(k,S,T,q){var de=T.type;return de===z?M(k,S,T.props.children,q,T.key):S!==null&&(S.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===se&&Cs(de)===S.type)?(S=o(S,T.props),xl(S,T),S.return=k,S):(S=wr(T.type,T.key,T.props,null,k.mode,q),xl(S,T),S.return=k,S)}function A(k,S,T,q){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=fo(T,k.mode,q),S.return=k,S):(S=o(S,T.children||[]),S.return=k,S)}function M(k,S,T,q,de){return S===null||S.tag!==7?(S=Ns(T,k.mode,q,de),S.return=k,S):(S=o(S,T),S.return=k,S)}function K(k,S,T){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=ho(""+S,k.mode,T),S.return=k,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case C:return T=wr(S.type,S.key,S.props,null,k.mode,T),xl(T,S),T.return=k,T;case R:return S=fo(S,k.mode,T),S.return=k,S;case se:return S=Cs(S),K(k,S,T)}if(ge(S)||je(S))return S=Ns(S,k.mode,T,null),S.return=k,S;if(typeof S.then=="function")return K(k,Tr(S),T);if(S.$$typeof===$)return K(k,jr(k,S),T);Ar(k,S)}return null}function O(k,S,T,q){var de=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return de!==null?null:y(k,S,""+T,q);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case C:return T.key===de?w(k,S,T,q):null;case R:return T.key===de?A(k,S,T,q):null;case se:return T=Cs(T),O(k,S,T,q)}if(ge(T)||je(T))return de!==null?null:M(k,S,T,q,null);if(typeof T.then=="function")return O(k,S,Tr(T),q);if(T.$$typeof===$)return O(k,S,jr(k,T),q);Ar(k,T)}return null}function U(k,S,T,q,de){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return k=k.get(T)||null,y(S,k,""+q,de);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return k=k.get(q.key===null?T:q.key)||null,w(S,k,q,de);case R:return k=k.get(q.key===null?T:q.key)||null,A(S,k,q,de);case se:return q=Cs(q),U(k,S,T,q,de)}if(ge(q)||je(q))return k=k.get(T)||null,M(S,k,q,de,null);if(typeof q.then=="function")return U(k,S,T,Tr(q),de);if(q.$$typeof===$)return U(k,S,T,jr(S,q),de);Ar(S,q)}return null}function re(k,S,T,q){for(var de=null,Re=null,oe=S,Se=S=0,Oe=null;oe!==null&&Se<T.length;Se++){oe.index>Se?(Oe=oe,oe=null):Oe=oe.sibling;var ze=O(k,oe,T[Se],q);if(ze===null){oe===null&&(oe=Oe);break}e&&oe&&ze.alternate===null&&t(k,oe),S=c(ze,S,Se),Re===null?de=ze:Re.sibling=ze,Re=ze,oe=Oe}if(Se===T.length)return a(k,oe),De&&Oa(k,Se),de;if(oe===null){for(;Se<T.length;Se++)oe=K(k,T[Se],q),oe!==null&&(S=c(oe,S,Se),Re===null?de=oe:Re.sibling=oe,Re=oe);return De&&Oa(k,Se),de}for(oe=n(oe);Se<T.length;Se++)Oe=U(oe,k,Se,T[Se],q),Oe!==null&&(e&&Oe.alternate!==null&&oe.delete(Oe.key===null?Se:Oe.key),S=c(Oe,S,Se),Re===null?de=Oe:Re.sibling=Oe,Re=Oe);return e&&oe.forEach(function(ms){return t(k,ms)}),De&&Oa(k,Se),de}function fe(k,S,T,q){if(T==null)throw Error(r(151));for(var de=null,Re=null,oe=S,Se=S=0,Oe=null,ze=T.next();oe!==null&&!ze.done;Se++,ze=T.next()){oe.index>Se?(Oe=oe,oe=null):Oe=oe.sibling;var ms=O(k,oe,ze.value,q);if(ms===null){oe===null&&(oe=Oe);break}e&&oe&&ms.alternate===null&&t(k,oe),S=c(ms,S,Se),Re===null?de=ms:Re.sibling=ms,Re=ms,oe=Oe}if(ze.done)return a(k,oe),De&&Oa(k,Se),de;if(oe===null){for(;!ze.done;Se++,ze=T.next())ze=K(k,ze.value,q),ze!==null&&(S=c(ze,S,Se),Re===null?de=ze:Re.sibling=ze,Re=ze);return De&&Oa(k,Se),de}for(oe=n(oe);!ze.done;Se++,ze=T.next())ze=U(oe,k,Se,ze.value,q),ze!==null&&(e&&ze.alternate!==null&&oe.delete(ze.key===null?Se:ze.key),S=c(ze,S,Se),Re===null?de=ze:Re.sibling=ze,Re=ze);return e&&oe.forEach(function(cb){return t(k,cb)}),De&&Oa(k,Se),de}function Ge(k,S,T,q){if(typeof T=="object"&&T!==null&&T.type===z&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case C:e:{for(var de=T.key;S!==null;){if(S.key===de){if(de=T.type,de===z){if(S.tag===7){a(k,S.sibling),q=o(S,T.props.children),q.return=k,k=q;break e}}else if(S.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===se&&Cs(de)===S.type){a(k,S.sibling),q=o(S,T.props),xl(q,T),q.return=k,k=q;break e}a(k,S);break}else t(k,S);S=S.sibling}T.type===z?(q=Ns(T.props.children,k.mode,q,T.key),q.return=k,k=q):(q=wr(T.type,T.key,T.props,null,k.mode,q),xl(q,T),q.return=k,k=q)}return m(k);case R:e:{for(de=T.key;S!==null;){if(S.key===de)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){a(k,S.sibling),q=o(S,T.children||[]),q.return=k,k=q;break e}else{a(k,S);break}else t(k,S);S=S.sibling}q=fo(T,k.mode,q),q.return=k,k=q}return m(k);case se:return T=Cs(T),Ge(k,S,T,q)}if(ge(T))return re(k,S,T,q);if(je(T)){if(de=je(T),typeof de!="function")throw Error(r(150));return T=de.call(T),fe(k,S,T,q)}if(typeof T.then=="function")return Ge(k,S,Tr(T),q);if(T.$$typeof===$)return Ge(k,S,jr(k,T),q);Ar(k,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,S!==null&&S.tag===6?(a(k,S.sibling),q=o(S,T),q.return=k,k=q):(a(k,S),q=ho(T,k.mode,q),q.return=k,k=q),m(k)):a(k,S)}return function(k,S,T,q){try{yl=0;var de=Ge(k,S,T,q);return bn=null,de}catch(oe){if(oe===pn||oe===Nr)throw oe;var Re=Kt(29,oe,null,k.mode);return Re.lanes=q,Re.return=k,Re}finally{}}}var Rs=Kd(!0),$d=Kd(!1),Za=!1;function ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Ue&2)!==0){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,t=vr(e),Nd(e,null,a),t}return xr(e,n,t,a),vr(e)}function vl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,zc(e,a)}}function Eo(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var o=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?o=c=m:c=c.next=m,a=a.next}while(a!==null);c===null?o=c=t:c=c.next=t}else o=c=t;a={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var To=!1;function wl(){if(To){var e=gn;if(e!==null)throw e}}function _l(e,t,a,n){To=!1;var o=e.updateQueue;Za=!1;var c=o.firstBaseUpdate,m=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var w=y,A=w.next;w.next=null,m===null?c=A:m.next=A,m=w;var M=e.alternate;M!==null&&(M=M.updateQueue,y=M.lastBaseUpdate,y!==m&&(y===null?M.firstBaseUpdate=A:y.next=A,M.lastBaseUpdate=w))}if(c!==null){var K=o.baseState;m=0,M=A=w=null,y=c;do{var O=y.lane&-536870913,U=O!==y.lane;if(U?(Ae&O)===O:(n&O)===O){O!==0&&O===mn&&(To=!0),M!==null&&(M=M.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var re=e,fe=y;O=t;var Ge=a;switch(fe.tag){case 1:if(re=fe.payload,typeof re=="function"){K=re.call(Ge,K,O);break e}K=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=fe.payload,O=typeof re=="function"?re.call(Ge,K,O):re,O==null)break e;K=j({},K,O);break e;case 2:Za=!0}}O=y.callback,O!==null&&(e.flags|=64,U&&(e.flags|=8192),U=o.callbacks,U===null?o.callbacks=[O]:U.push(O))}else U={lane:O,tag:y.tag,payload:y.payload,callback:y.callback,next:null},M===null?(A=M=U,w=K):M=M.next=U,m|=O;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;U=y,y=U.next,U.next=null,o.lastBaseUpdate=U,o.shared.pending=null}}while(!0);M===null&&(w=K),o.baseState=w,o.firstBaseUpdate=A,o.lastBaseUpdate=M,c===null&&(o.shared.lanes=0),ns|=m,e.lanes=m,e.memoizedState=K}}function Gd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Yd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Gd(a[e],t)}var yn=x(null),Or=x(0);function Pd(e,t){e=Ia,E(Or,e),E(yn,t),Ia=e|t.baseLanes}function Ao(){E(Or,Ia),E(yn,yn.current)}function Oo(){Ia=Or.current,D(yn),D(Or)}var $t=x(null),ra=null;function es(e){var t=e.alternate;E(st,st.current&1),E($t,e),ra===null&&(t===null||yn.current!==null||t.memoizedState!==null)&&(ra=e)}function Co(e){E(st,st.current),E($t,e),ra===null&&(ra=e)}function Vd(e){e.tag===22?(E(st,st.current),E($t,e),ra===null&&(ra=e)):ts()}function ts(){E(st,st.current),E($t,$t.current)}function Gt(e){D($t),ra===e&&(ra=null),D(st)}var st=x(0);function Cr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bu(a)||Lu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ra=0,we=null,Ke=null,rt=null,Dr=!1,xn=!1,zs=!1,Rr=0,Sl=0,vn=null,ep=0;function et(){throw Error(r(321))}function Do(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!It(e[a],t[a]))return!1;return!0}function Ro(e,t,a,n,o,c){return Ra=c,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_.H=e===null||e.memoizedState===null?Oh:Qo,zs=!1,c=a(n,o),zs=!1,xn&&(c=Jd(t,a,n,o)),Qd(e),c}function Qd(e){_.H=Nl;var t=Ke!==null&&Ke.next!==null;if(Ra=0,rt=Ke=we=null,Dr=!1,Sl=0,vn=null,t)throw Error(r(300));e===null||it||(e=e.dependencies,e!==null&&Sr(e)&&(it=!0))}function Jd(e,t,a,n){we=e;var o=0;do{if(xn&&(vn=null),Sl=0,xn=!1,25<=o)throw Error(r(301));if(o+=1,rt=Ke=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}_.H=Ch,c=t(a,n)}while(xn);return c}function tp(){var e=_.H,t=e.useState()[0];return t=typeof t.then=="function"?jl(t):t,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(we.flags|=1024),t}function zo(){var e=Rr!==0;return Rr=0,e}function Uo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Mo(e){if(Dr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Dr=!1}Ra=0,rt=Ke=we=null,xn=!1,Sl=Rr=0,vn=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?we.memoizedState=rt=e:rt=rt.next=e,rt}function nt(){if(Ke===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=rt===null?we.memoizedState:rt.next;if(t!==null)rt=t,Ke=e;else{if(e===null)throw we.alternate===null?Error(r(467)):Error(r(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},rt===null?we.memoizedState=rt=e:rt=rt.next=e}return rt}function zr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(e){var t=Sl;return Sl+=1,vn===null&&(vn=[]),e=qd(vn,e,t),t=we,(rt===null?t.memoizedState:rt.next)===null&&(t=t.alternate,_.H=t===null||t.memoizedState===null?Oh:Qo),e}function Ur(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jl(e);if(e.$$typeof===$)return vt(e)}throw Error(r(438,String(e)))}function Bo(e){var t=null,a=we.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=we.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=zr(),we.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=ke;return t.index++,a}function za(e,t){return typeof t=="function"?t(e):t}function Mr(e){var t=nt();return Lo(t,Ke,e)}function Lo(e,t,a){var n=e.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=a;var o=e.baseQueue,c=n.pending;if(c!==null){if(o!==null){var m=o.next;o.next=c.next,c.next=m}t.baseQueue=o=c,n.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var y=m=null,w=null,A=t,M=!1;do{var K=A.lane&-536870913;if(K!==A.lane?(Ae&K)===K:(Ra&K)===K){var O=A.revertLane;if(O===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),K===mn&&(M=!0);else if((Ra&O)===O){A=A.next,O===mn&&(M=!0);continue}else K={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},w===null?(y=w=K,m=c):w=w.next=K,we.lanes|=O,ns|=O;K=A.action,zs&&a(c,K),c=A.hasEagerState?A.eagerState:a(c,K)}else O={lane:K,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},w===null?(y=w=O,m=c):w=w.next=O,we.lanes|=K,ns|=K;A=A.next}while(A!==null&&A!==t);if(w===null?m=c:w.next=y,!It(c,e.memoizedState)&&(it=!0,M&&(a=gn,a!==null)))throw a;e.memoizedState=c,e.baseState=m,e.baseQueue=w,n.lastRenderedState=c}return o===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function qo(e){var t=nt(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var n=a.dispatch,o=a.pending,c=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do c=e(c,m.action),m=m.next;while(m!==o);It(c,t.memoizedState)||(it=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,n]}function Xd(e,t,a){var n=we,o=nt(),c=De;if(c){if(a===void 0)throw Error(r(407));a=a()}else a=t();var m=!It((Ke||o).memoizedState,a);if(m&&(o.memoizedState=a,it=!0),o=o.queue,Ko(Wd.bind(null,n,o,e),[e]),o.getSnapshot!==t||m||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,wn(9,{destroy:void 0},Fd.bind(null,n,o,a,t),null),Pe===null)throw Error(r(349));c||(Ra&127)!==0||Zd(n,t,a)}return a}function Zd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=we.updateQueue,t===null?(t=zr(),we.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Fd(e,t,a,n){t.value=a,t.getSnapshot=n,eh(t)&&th(e)}function Wd(e,t,a){return a(function(){eh(t)&&th(e)})}function eh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!It(e,a)}catch{return!0}}function th(e){var t=ks(e,2);t!==null&&Lt(t,e,2)}function Ho(e){var t=Nt();if(typeof e=="function"){var a=e;if(e=a(),zs){Ft(!0);try{a()}finally{Ft(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:e},t}function ah(e,t,a,n){return e.baseState=a,Lo(e,Ke,typeof n=="function"?n:za)}function ap(e,t,a,n,o){if(qr(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){c.listeners.push(m)}};_.T!==null?a(!0):c.isTransition=!1,n(c),a=t.pending,a===null?(c.next=t.pending=c,sh(t,c)):(c.next=a.next,t.pending=a.next=c)}}function sh(e,t){var a=t.action,n=t.payload,o=e.state;if(t.isTransition){var c=_.T,m={};_.T=m;try{var y=a(o,n),w=_.S;w!==null&&w(m,y),nh(e,t,y)}catch(A){Io(e,t,A)}finally{c!==null&&m.types!==null&&(c.types=m.types),_.T=c}}else try{c=a(o,n),nh(e,t,c)}catch(A){Io(e,t,A)}}function nh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){lh(e,t,n)},function(n){return Io(e,t,n)}):lh(e,t,a)}function lh(e,t,a){t.status="fulfilled",t.value=a,rh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,sh(e,a)))}function Io(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,rh(t),t=t.next;while(t!==n)}e.action=null}function rh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ih(e,t){return t}function oh(e,t){if(De){var a=Pe.formState;if(a!==null){e:{var n=we;if(De){if(Je){t:{for(var o=Je,c=la;o.nodeType!==8;){if(!c){o=null;break t}if(o=ia(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Je=ia(o.nextSibling),n=o.data==="F!";break e}}Ja(n)}n=!1}n&&(t=a[0])}}return a=Nt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ih,lastRenderedState:t},a.queue=n,a=Eh.bind(null,we,n),n.dispatch=a,n=Ho(!1),c=Vo.bind(null,we,!1,n.queue),n=Nt(),o={state:t,dispatch:null,action:e,pending:null},n.queue=o,a=ap.bind(null,we,o,c,a),o.dispatch=a,n.memoizedState=e,[t,a,!1]}function uh(e){var t=nt();return ch(t,Ke,e)}function ch(e,t,a){if(t=Lo(e,t,ih)[0],e=Mr(za)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=jl(t)}catch(m){throw m===pn?Nr:m}else n=t;t=nt();var o=t.queue,c=o.dispatch;return a!==t.memoizedState&&(we.flags|=2048,wn(9,{destroy:void 0},sp.bind(null,o,a),null)),[n,c,e]}function sp(e,t){e.action=t}function dh(e){var t=nt(),a=Ke;if(a!==null)return ch(t,a,e);nt(),t=t.memoizedState,a=nt();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function wn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=we.updateQueue,t===null&&(t=zr(),we.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function hh(){return nt().memoizedState}function Br(e,t,a,n){var o=Nt();we.flags|=e,o.memoizedState=wn(1|t,{destroy:void 0},a,n===void 0?null:n)}function Lr(e,t,a,n){var o=nt();n=n===void 0?null:n;var c=o.memoizedState.inst;Ke!==null&&n!==null&&Do(n,Ke.memoizedState.deps)?o.memoizedState=wn(t,c,a,n):(we.flags|=e,o.memoizedState=wn(1|t,c,a,n))}function fh(e,t){Br(8390656,8,e,t)}function Ko(e,t){Lr(2048,8,e,t)}function np(e){we.flags|=4;var t=we.updateQueue;if(t===null)t=zr(),we.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function mh(e){var t=nt().memoizedState;return np({ref:t,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function gh(e,t){return Lr(4,2,e,t)}function ph(e,t){return Lr(4,4,e,t)}function bh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yh(e,t,a){a=a!=null?a.concat([e]):null,Lr(4,4,bh.bind(null,t,e),a)}function $o(){}function xh(e,t){var a=nt();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Do(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function vh(e,t){var a=nt();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Do(t,n[1]))return n[0];if(n=e(),zs){Ft(!0);try{e()}finally{Ft(!1)}}return a.memoizedState=[n,t],n}function Go(e,t,a){return a===void 0||(Ra&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=_f(),we.lanes|=e,ns|=e,a)}function wh(e,t,a,n){return It(a,t)?a:yn.current!==null?(e=Go(e,a,n),It(e,t)||(it=!0),e):(Ra&42)===0||(Ra&1073741824)!==0&&(Ae&261930)===0?(it=!0,e.memoizedState=a):(e=_f(),we.lanes|=e,ns|=e,t)}function _h(e,t,a,n,o){var c=G.p;G.p=c!==0&&8>c?c:8;var m=_.T,y={};_.T=y,Vo(e,!1,t,a);try{var w=o(),A=_.S;if(A!==null&&A(y,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var M=Wg(w,n);kl(e,t,M,Vt(e))}else kl(e,t,n,Vt(e))}catch(K){kl(e,t,{then:function(){},status:"rejected",reason:K},Vt())}finally{G.p=c,m!==null&&y.types!==null&&(m.types=y.types),_.T=m}}function lp(){}function Yo(e,t,a,n){if(e.tag!==5)throw Error(r(476));var o=Sh(e).queue;_h(e,o,t,ee,a===null?lp:function(){return jh(e),a(n)})}function Sh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jh(e){var t=Sh(e);t.next===null&&(t=e.alternate.memoizedState),kl(e,t.next.queue,{},Vt())}function Po(){return vt(Kl)}function kh(){return nt().memoizedState}function Nh(){return nt().memoizedState}function rp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Vt();e=Fa(a);var n=Wa(t,e,a);n!==null&&(Lt(n,t,a),vl(n,t,a)),t={cache:wo()},e.payload=t;return}t=t.return}}function ip(e,t,a){var n=Vt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qr(e)?Th(t,a):(a=uo(e,t,a,n),a!==null&&(Lt(a,e,n),Ah(a,t,n)))}function Eh(e,t,a){var n=Vt();kl(e,t,a,n)}function kl(e,t,a,n){var o={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qr(e))Th(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var m=t.lastRenderedState,y=c(m,a);if(o.hasEagerState=!0,o.eagerState=y,It(y,m))return xr(e,t,o,0),Pe===null&&yr(),!1}catch{}finally{}if(a=uo(e,t,o,n),a!==null)return Lt(a,e,n),Ah(a,t,n),!0}return!1}function Vo(e,t,a,n){if(n={lane:2,revertLane:ku(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},qr(e)){if(t)throw Error(r(479))}else t=uo(e,a,n,2),t!==null&&Lt(t,e,2)}function qr(e){var t=e.alternate;return e===we||t!==null&&t===we}function Th(e,t){xn=Dr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ah(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,zc(e,a)}}var Nl={readContext:vt,use:Ur,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};Nl.useEffectEvent=et;var Oh={readContext:vt,use:Ur,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:fh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Br(4194308,4,bh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Br(4194308,4,e,t)},useInsertionEffect:function(e,t){Br(4,2,e,t)},useMemo:function(e,t){var a=Nt();t=t===void 0?null:t;var n=e();if(zs){Ft(!0);try{e()}finally{Ft(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Nt();if(a!==void 0){var o=a(t);if(zs){Ft(!0);try{a(t)}finally{Ft(!1)}}}else o=t;return n.memoizedState=n.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},n.queue=e,e=e.dispatch=ip.bind(null,we,e),[n.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ho(e);var t=e.queue,a=Eh.bind(null,we,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:$o,useDeferredValue:function(e,t){var a=Nt();return Go(a,e,t)},useTransition:function(){var e=Ho(!1);return e=_h.bind(null,we,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=we,o=Nt();if(De){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Pe===null)throw Error(r(349));(Ae&127)!==0||Zd(n,t,a)}o.memoizedState=a;var c={value:a,getSnapshot:t};return o.queue=c,fh(Wd.bind(null,n,c,e),[e]),n.flags|=2048,wn(9,{destroy:void 0},Fd.bind(null,n,c,a,t),null),a},useId:function(){var e=Nt(),t=Pe.identifierPrefix;if(De){var a=_a,n=wa;a=(n&~(1<<32-Ce(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Rr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=ep++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Po,useFormState:oh,useActionState:oh,useOptimistic:function(e){var t=Nt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Vo.bind(null,we,!0,a),a.dispatch=t,[e,t]},useMemoCache:Bo,useCacheRefresh:function(){return Nt().memoizedState=rp.bind(null,we)},useEffectEvent:function(e){var t=Nt(),a={impl:e};return t.memoizedState=a,function(){if((Ue&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Qo={readContext:vt,use:Ur,useCallback:xh,useContext:vt,useEffect:Ko,useImperativeHandle:yh,useInsertionEffect:gh,useLayoutEffect:ph,useMemo:vh,useReducer:Mr,useRef:hh,useState:function(){return Mr(za)},useDebugValue:$o,useDeferredValue:function(e,t){var a=nt();return wh(a,Ke.memoizedState,e,t)},useTransition:function(){var e=Mr(za)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:jl(e),t]},useSyncExternalStore:Xd,useId:kh,useHostTransitionStatus:Po,useFormState:uh,useActionState:uh,useOptimistic:function(e,t){var a=nt();return ah(a,Ke,e,t)},useMemoCache:Bo,useCacheRefresh:Nh};Qo.useEffectEvent=mh;var Ch={readContext:vt,use:Ur,useCallback:xh,useContext:vt,useEffect:Ko,useImperativeHandle:yh,useInsertionEffect:gh,useLayoutEffect:ph,useMemo:vh,useReducer:qo,useRef:hh,useState:function(){return qo(za)},useDebugValue:$o,useDeferredValue:function(e,t){var a=nt();return Ke===null?Go(a,e,t):wh(a,Ke.memoizedState,e,t)},useTransition:function(){var e=qo(za)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:jl(e),t]},useSyncExternalStore:Xd,useId:kh,useHostTransitionStatus:Po,useFormState:dh,useActionState:dh,useOptimistic:function(e,t){var a=nt();return Ke!==null?ah(a,Ke,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Bo,useCacheRefresh:Nh};Ch.useEffectEvent=mh;function Jo(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:j({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Xo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Vt(),o=Fa(n);o.payload=t,a!=null&&(o.callback=a),t=Wa(e,o,n),t!==null&&(Lt(t,e,n),vl(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Vt(),o=Fa(n);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Wa(e,o,n),t!==null&&(Lt(t,e,n),vl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Vt(),n=Fa(a);n.tag=2,t!=null&&(n.callback=t),t=Wa(e,n,a),t!==null&&(Lt(t,e,a),vl(t,e,a))}};function Dh(e,t,a,n,o,c,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,c,m):t.prototype&&t.prototype.isPureReactComponent?!hl(a,n)||!hl(o,c):!0}function Rh(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Xo.enqueueReplaceState(t,t.state,null)}function Us(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=j({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function zh(e){br(e)}function Uh(e){console.error(e)}function Mh(e){br(e)}function Hr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Bh(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Zo(e,t,a){return a=Fa(a),a.tag=3,a.payload={element:null},a.callback=function(){Hr(e,t)},a}function Lh(e){return e=Fa(e),e.tag=3,e}function qh(e,t,a,n){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var c=n.value;e.payload=function(){return o(c)},e.callback=function(){Bh(t,a,n)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Bh(t,a,n),typeof o!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})})}function op(e,t,a,n,o){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&fn(t,a,o,!0),a=$t.current,a!==null){switch(a.tag){case 31:case 13:return ra===null?Fr():a.alternate===null&&tt===0&&(tt=3),a.flags&=-257,a.flags|=65536,a.lanes=o,n===Er?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),_u(e,n,o)),!1;case 22:return a.flags|=65536,n===Er?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),_u(e,n,o)),!1}throw Error(r(435,a.tag))}return _u(e,n,o),Fr(),!1}if(De)return t=$t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,n!==po&&(e=Error(r(422),{cause:n}),gl(aa(e,a)))):(n!==po&&(t=Error(r(423),{cause:n}),gl(aa(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,n=aa(n,a),o=Zo(e.stateNode,n,o),Eo(e,o),tt!==4&&(tt=2)),!1;var c=Error(r(520),{cause:n});if(c=aa(c,a),zl===null?zl=[c]:zl.push(c),tt!==4&&(tt=2),t===null)return!0;n=aa(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Zo(a.stateNode,n,e),Eo(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ls===null||!ls.has(c))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Lh(o),qh(o,e,a,n),Eo(a,o),!1}a=a.return}while(a!==null);return!1}var Fo=Error(r(461)),it=!1;function wt(e,t,a,n){t.child=e===null?$d(t,null,a,n):Rs(t,e.child,a,n)}function Hh(e,t,a,n,o){a=a.render;var c=t.ref;if("ref"in n){var m={};for(var y in n)y!=="ref"&&(m[y]=n[y])}else m=n;return As(t),n=Ro(e,t,a,m,c,o),y=zo(),e!==null&&!it?(Uo(e,t,o),Ua(e,t,o)):(De&&y&&mo(t),t.flags|=1,wt(e,t,n,o),t.child)}function Ih(e,t,a,n,o){if(e===null){var c=a.type;return typeof c=="function"&&!co(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,Kh(e,t,c,n,o)):(e=wr(a.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!ru(e,o)){var m=c.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(m,n)&&e.ref===t.ref)return Ua(e,t,o)}return t.flags|=1,e=Aa(c,n),e.ref=t.ref,e.return=t,t.child=e}function Kh(e,t,a,n,o){if(e!==null){var c=e.memoizedProps;if(hl(c,n)&&e.ref===t.ref)if(it=!1,t.pendingProps=n=c,ru(e,o))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,Ua(e,t,o)}return Wo(e,t,a,n,o)}function $h(e,t,a,n){var o=n.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(n=t.child=e.child,o=0;n!==null;)o=o|n.lanes|n.childLanes,n=n.sibling;n=o&~c}else n=0,t.child=null;return Gh(e,t,c,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&kr(t,c!==null?c.cachePool:null),c!==null?Pd(t,c):Ao(),Vd(t);else return n=t.lanes=536870912,Gh(e,t,c!==null?c.baseLanes|a:a,a,n)}else c!==null?(kr(t,c.cachePool),Pd(t,c),ts(),t.memoizedState=null):(e!==null&&kr(t,null),Ao(),ts());return wt(e,t,o,a),t.child}function El(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Gh(e,t,a,n,o){var c=So();return c=c===null?null:{parent:lt._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&kr(t,null),Ao(),Vd(t),e!==null&&fn(e,t,n,!0),t.childLanes=o,null}function Ir(e,t){return t=$r({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Yh(e,t,a){return Rs(t,e.child,null,a),e=Ir(t,t.pendingProps),e.flags|=2,Gt(t),t.memoizedState=null,e}function up(e,t,a){var n=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(n.mode==="hidden")return e=Ir(t,n),t.lanes=536870912,El(null,e);if(Co(t),(e=Je)?(e=n0(e,la),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Va!==null?{id:wa,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},a=Td(e),a.return=t,t.child=a,xt=t,Je=null)):e=null,e===null)throw Ja(t);return t.lanes=536870912,null}return Ir(t,n)}var c=e.memoizedState;if(c!==null){var m=c.dehydrated;if(Co(t),o)if(t.flags&256)t.flags&=-257,t=Yh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(it||fn(e,t,a,!1),o=(a&e.childLanes)!==0,it||o){if(n=Pe,n!==null&&(m=Uc(n,a),m!==0&&m!==c.retryLane))throw c.retryLane=m,ks(e,m),Lt(n,e,m),Fo;Fr(),t=Yh(e,t,a)}else e=c.treeContext,Je=ia(m.nextSibling),xt=t,De=!0,Qa=null,la=!1,e!==null&&Cd(t,e),t=Ir(t,n),t.flags|=4096;return t}return e=Aa(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Kr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Wo(e,t,a,n,o){return As(t),a=Ro(e,t,a,n,void 0,o),n=zo(),e!==null&&!it?(Uo(e,t,o),Ua(e,t,o)):(De&&n&&mo(t),t.flags|=1,wt(e,t,a,o),t.child)}function Ph(e,t,a,n,o,c){return As(t),t.updateQueue=null,a=Jd(t,n,a,o),Qd(e),n=zo(),e!==null&&!it?(Uo(e,t,c),Ua(e,t,c)):(De&&n&&mo(t),t.flags|=1,wt(e,t,a,c),t.child)}function Vh(e,t,a,n,o){if(As(t),t.stateNode===null){var c=un,m=a.contextType;typeof m=="object"&&m!==null&&(c=vt(m)),c=new a(n,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Xo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=n,c.state=t.memoizedState,c.refs={},ko(t),m=a.contextType,c.context=typeof m=="object"&&m!==null?vt(m):un,c.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Jo(t,a,m,n),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(m=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),m!==c.state&&Xo.enqueueReplaceState(c,c.state,null),_l(t,n,c,o),wl(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){c=t.stateNode;var y=t.memoizedProps,w=Us(a,y);c.props=w;var A=c.context,M=a.contextType;m=un,typeof M=="object"&&M!==null&&(m=vt(M));var K=a.getDerivedStateFromProps;M=typeof K=="function"||typeof c.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,M||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(y||A!==m)&&Rh(t,c,n,m),Za=!1;var O=t.memoizedState;c.state=O,_l(t,n,c,o),wl(),A=t.memoizedState,y||O!==A||Za?(typeof K=="function"&&(Jo(t,a,K,n),A=t.memoizedState),(w=Za||Dh(t,a,w,n,O,A,m))?(M||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=A),c.props=n,c.state=A,c.context=m,n=w):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,No(e,t),m=t.memoizedProps,M=Us(a,m),c.props=M,K=t.pendingProps,O=c.context,A=a.contextType,w=un,typeof A=="object"&&A!==null&&(w=vt(A)),y=a.getDerivedStateFromProps,(A=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==K||O!==w)&&Rh(t,c,n,w),Za=!1,O=t.memoizedState,c.state=O,_l(t,n,c,o),wl();var U=t.memoizedState;m!==K||O!==U||Za||e!==null&&e.dependencies!==null&&Sr(e.dependencies)?(typeof y=="function"&&(Jo(t,a,y,n),U=t.memoizedState),(M=Za||Dh(t,a,M,n,O,U,w)||e!==null&&e.dependencies!==null&&Sr(e.dependencies))?(A||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,U,w),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,U,w)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=U),c.props=n,c.state=U,c.context=w,n=M):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),n=!1)}return c=n,Kr(e,t),n=(t.flags&128)!==0,c||n?(c=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&n?(t.child=Rs(t,e.child,null,o),t.child=Rs(t,null,a,o)):wt(e,t,a,o),t.memoizedState=c.state,e=t.child):e=Ua(e,t,o),e}function Qh(e,t,a,n){return Es(),t.flags|=256,wt(e,t,a,n),t.child}var eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tu(e){return{baseLanes:e,cachePool:Bd()}}function au(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Pt),e}function Jh(e,t,a){var n=t.pendingProps,o=!1,c=(t.flags&128)!==0,m;if((m=c)||(m=e!==null&&e.memoizedState===null?!1:(st.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(o?es(t):ts(),(e=Je)?(e=n0(e,la),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Va!==null?{id:wa,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},a=Td(e),a.return=t,t.child=a,xt=t,Je=null)):e=null,e===null)throw Ja(t);return Lu(e)?t.lanes=32:t.lanes=536870912,null}var y=n.children;return n=n.fallback,o?(ts(),o=t.mode,y=$r({mode:"hidden",children:y},o),n=Ns(n,o,a,null),y.return=t,n.return=t,y.sibling=n,t.child=y,n=t.child,n.memoizedState=tu(a),n.childLanes=au(e,m,a),t.memoizedState=eu,El(null,n)):(es(t),su(t,y))}var w=e.memoizedState;if(w!==null&&(y=w.dehydrated,y!==null)){if(c)t.flags&256?(es(t),t.flags&=-257,t=nu(e,t,a)):t.memoizedState!==null?(ts(),t.child=e.child,t.flags|=128,t=null):(ts(),y=n.fallback,o=t.mode,n=$r({mode:"visible",children:n.children},o),y=Ns(y,o,a,null),y.flags|=2,n.return=t,y.return=t,n.sibling=y,t.child=n,Rs(t,e.child,null,a),n=t.child,n.memoizedState=tu(a),n.childLanes=au(e,m,a),t.memoizedState=eu,t=El(null,n));else if(es(t),Lu(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var A=m.dgst;m=A,n=Error(r(419)),n.stack="",n.digest=m,gl({value:n,source:null,stack:null}),t=nu(e,t,a)}else if(it||fn(e,t,a,!1),m=(a&e.childLanes)!==0,it||m){if(m=Pe,m!==null&&(n=Uc(m,a),n!==0&&n!==w.retryLane))throw w.retryLane=n,ks(e,n),Lt(m,e,n),Fo;Bu(y)||Fr(),t=nu(e,t,a)}else Bu(y)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Je=ia(y.nextSibling),xt=t,De=!0,Qa=null,la=!1,e!==null&&Cd(t,e),t=su(t,n.children),t.flags|=4096);return t}return o?(ts(),y=n.fallback,o=t.mode,w=e.child,A=w.sibling,n=Aa(w,{mode:"hidden",children:n.children}),n.subtreeFlags=w.subtreeFlags&65011712,A!==null?y=Aa(A,y):(y=Ns(y,o,a,null),y.flags|=2),y.return=t,n.return=t,n.sibling=y,t.child=n,El(null,n),n=t.child,y=e.child.memoizedState,y===null?y=tu(a):(o=y.cachePool,o!==null?(w=lt._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=Bd(),y={baseLanes:y.baseLanes|a,cachePool:o}),n.memoizedState=y,n.childLanes=au(e,m,a),t.memoizedState=eu,El(e.child,n)):(es(t),a=e.child,e=a.sibling,a=Aa(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function su(e,t){return t=$r({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $r(e,t){return e=Kt(22,e,null,t),e.lanes=0,e}function nu(e,t,a){return Rs(t,e.child,null,a),e=su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xh(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),xo(e.return,t,a)}function lu(e,t,a,n,o,c){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:o,treeForkCount:c}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=n,m.tail=a,m.tailMode=o,m.treeForkCount=c)}function Zh(e,t,a){var n=t.pendingProps,o=n.revealOrder,c=n.tail;n=n.children;var m=st.current,y=(m&2)!==0;if(y?(m=m&1|2,t.flags|=128):m&=1,E(st,m),wt(e,t,n,a),n=De?ml:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xh(e,a,t);else if(e.tag===19)Xh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Cr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),lu(t,!1,o,a,c,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Cr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}lu(t,!0,a,null,c,n);break;case"together":lu(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Ua(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ns|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(fn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=Aa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Aa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function ru(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Sr(e)))}function cp(e,t,a){switch(t.tag){case 3:He(t,t.stateNode.containerInfo),Xa(t,lt,e.memoizedState.cache),Es();break;case 27:case 5:bt(t);break;case 4:He(t,t.stateNode.containerInfo);break;case 10:Xa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Co(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(es(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Jh(e,t,a):(es(t),e=Ua(e,t,a),e!==null?e.sibling:null);es(t);break;case 19:var o=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(fn(e,t,a,!1),n=(a&t.childLanes)!==0),o){if(n)return Zh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),E(st,st.current),n)break;return null;case 22:return t.lanes=0,$h(e,t,a,t.pendingProps);case 24:Xa(t,lt,e.memoizedState.cache)}return Ua(e,t,a)}function Fh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!ru(e,a)&&(t.flags&128)===0)return it=!1,cp(e,t,a);it=(e.flags&131072)!==0}else it=!1,De&&(t.flags&1048576)!==0&&Od(t,ml,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Cs(t.elementType),t.type=e,typeof e=="function")co(e)?(n=Us(e,n),t.tag=1,t=Vh(null,t,e,n,a)):(t.tag=0,t=Wo(null,t,e,n,a));else{if(e!=null){var o=e.$$typeof;if(o===F){t.tag=11,t=Hh(null,t,e,n,a);break e}else if(o===Q){t.tag=14,t=Ih(null,t,e,n,a);break e}}throw t=Z(e)||e,Error(r(306,t,""))}}return t;case 0:return Wo(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,o=Us(n,t.pendingProps),Vh(e,t,n,o,a);case 3:e:{if(He(t,t.stateNode.containerInfo),e===null)throw Error(r(387));n=t.pendingProps;var c=t.memoizedState;o=c.element,No(e,t),_l(t,n,null,a);var m=t.memoizedState;if(n=m.cache,Xa(t,lt,n),n!==c.cache&&vo(t,[lt],a,!0),wl(),n=m.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Qh(e,t,n,a);break e}else if(n!==o){o=aa(Error(r(424)),t),gl(o),t=Qh(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Je=ia(e.firstChild),xt=t,De=!0,Qa=null,la=!0,a=$d(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Es(),n===o){t=Ua(e,t,a);break e}wt(e,t,n,a)}t=t.child}return t;case 26:return Kr(e,t),e===null?(a=c0(t.type,null,t.pendingProps,null))?t.memoizedState=a:De||(a=t.type,e=t.pendingProps,n=li(ue.current).createElement(a),n[yt]=t,n[Dt]=e,_t(n,a,e),mt(n),t.stateNode=n):t.memoizedState=c0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return bt(t),e===null&&De&&(n=t.stateNode=i0(t.type,t.pendingProps,ue.current),xt=t,la=!0,o=Je,us(t.type)?(qu=o,Je=ia(n.firstChild)):Je=o),wt(e,t,t.pendingProps.children,a),Kr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((o=n=Je)&&(n=Hp(n,t.type,t.pendingProps,la),n!==null?(t.stateNode=n,xt=t,Je=ia(n.firstChild),la=!1,o=!0):o=!1),o||Ja(t)),bt(t),o=t.type,c=t.pendingProps,m=e!==null?e.memoizedProps:null,n=c.children,zu(o,c)?n=null:m!==null&&zu(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=Ro(e,t,tp,null,null,a),Kl._currentValue=o),Kr(e,t),wt(e,t,n,a),t.child;case 6:return e===null&&De&&((e=a=Je)&&(a=Ip(a,t.pendingProps,la),a!==null?(t.stateNode=a,xt=t,Je=null,e=!0):e=!1),e||Ja(t)),null;case 13:return Jh(e,t,a);case 4:return He(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Rs(t,null,n,a):wt(e,t,n,a),t.child;case 11:return Hh(e,t,t.type,t.pendingProps,a);case 7:return wt(e,t,t.pendingProps,a),t.child;case 8:return wt(e,t,t.pendingProps.children,a),t.child;case 12:return wt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Xa(t,t.type,n.value),wt(e,t,n.children,a),t.child;case 9:return o=t.type._context,n=t.pendingProps.children,As(t),o=vt(o),n=n(o),t.flags|=1,wt(e,t,n,a),t.child;case 14:return Ih(e,t,t.type,t.pendingProps,a);case 15:return Kh(e,t,t.type,t.pendingProps,a);case 19:return Zh(e,t,a);case 31:return up(e,t,a);case 22:return $h(e,t,a,t.pendingProps);case 24:return As(t),n=vt(lt),e===null?(o=So(),o===null&&(o=Pe,c=wo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=a),o=c),t.memoizedState={parent:n,cache:o},ko(t),Xa(t,lt,o)):((e.lanes&a)!==0&&(No(e,t),_l(t,null,null,a),wl()),o=e.memoizedState,c=t.memoizedState,o.parent!==n?(o={parent:n,cache:n},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Xa(t,lt,n)):(n=c.cache,Xa(t,lt,n),n!==o.cache&&vo(t,[lt],a,!0))),wt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Ma(e){e.flags|=4}function iu(e,t,a,n,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Nf())e.flags|=8192;else throw Ds=Er,jo}else e.flags&=-16777217}function Wh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!g0(t))if(Nf())e.flags|=8192;else throw Ds=Er,jo}function Gr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Dc():536870912,e.lanes|=t,kn|=t)}function Tl(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,n|=o.subtreeFlags&65011712,n|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function dp(e,t,a){var n=t.pendingProps;switch(go(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return Xe(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Da(lt),Me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(hn(t)?Ma(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bo())),Xe(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(Ma(t),c!==null?(Xe(t),Wh(t,c)):(Xe(t),iu(t,o,null,n,a))):c?c!==e.memoizedState?(Ma(t),Xe(t),Wh(t,c)):(Xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Ma(t),Xe(t),iu(t,o,e,n,a)),null;case 27:if(Tt(t),a=ue.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Ma(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Xe(t),null}e=I.current,hn(t)?Dd(t):(e=i0(o,n,a),t.stateNode=e,Ma(t))}return Xe(t),null;case 5:if(Tt(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Ma(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Xe(t),null}if(c=I.current,hn(t))Dd(t);else{var m=li(ue.current);switch(c){case 1:c=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=m.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof n.is=="string"?m.createElement("select",{is:n.is}):m.createElement("select"),n.multiple?c.multiple=!0:n.size&&(c.size=n.size);break;default:c=typeof n.is=="string"?m.createElement(o,{is:n.is}):m.createElement(o)}}c[yt]=t,c[Dt]=n;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=c;e:switch(_t(c,o,n),o){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ma(t)}}return Xe(t),iu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Ma(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(r(166));if(e=ue.current,hn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,o=xt,o!==null)switch(o.tag){case 27:case 5:n=o.memoizedProps}e[yt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Xf(e.nodeValue,a)),e||Ja(t,!0)}else e=li(e).createTextNode(n),e[yt]=t,t.stateNode=e}return Xe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=hn(t),a!==null){if(e===null){if(!n)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[yt]=t}else Es(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),e=!1}else a=bo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Gt(t),t):(Gt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Xe(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=hn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[yt]=t}else Es(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),o=!1}else o=bo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Gt(t),t):(Gt(t),null)}return Gt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,o=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(o=n.alternate.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==o&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Gr(t,t.updateQueue),Xe(t),null);case 4:return Me(),e===null&&Au(t.stateNode.containerInfo),Xe(t),null;case 10:return Da(t.type),Xe(t),null;case 19:if(D(st),n=t.memoizedState,n===null)return Xe(t),null;if(o=(t.flags&128)!==0,c=n.rendering,c===null)if(o)Tl(n,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Cr(e),c!==null){for(t.flags|=128,Tl(n,!1),e=c.updateQueue,t.updateQueue=e,Gr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ed(a,e),a=a.sibling;return E(st,st.current&1|2),De&&Oa(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&ve()>Jr&&(t.flags|=128,o=!0,Tl(n,!1),t.lanes=4194304)}else{if(!o)if(e=Cr(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Gr(t,e),Tl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!c.alternate&&!De)return Xe(t),null}else 2*ve()-n.renderingStartTime>Jr&&a!==536870912&&(t.flags|=128,o=!0,Tl(n,!1),t.lanes=4194304);n.isBackwards?(c.sibling=t.child,t.child=c):(e=n.last,e!==null?e.sibling=c:t.child=c,n.last=c)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ve(),e.sibling=null,a=st.current,E(st,o?a&1|2:a&1),De&&Oa(t,n.treeForkCount),e):(Xe(t),null);case 22:case 23:return Gt(t),Oo(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),a=t.updateQueue,a!==null&&Gr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&D(Os),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Da(lt),Xe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function hp(e,t){switch(go(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Da(lt),Me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Tt(t),null;case 31:if(t.memoizedState!==null){if(Gt(t),t.alternate===null)throw Error(r(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return D(st),null;case 4:return Me(),null;case 10:return Da(t.type),null;case 22:case 23:return Gt(t),Oo(),e!==null&&D(Os),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Da(lt),null;case 25:return null;default:return null}}function ef(e,t){switch(go(t),t.tag){case 3:Da(lt),Me();break;case 26:case 27:case 5:Tt(t);break;case 4:Me();break;case 31:t.memoizedState!==null&&Gt(t);break;case 13:Gt(t);break;case 19:D(st);break;case 10:Da(t.type);break;case 22:case 23:Gt(t),Oo(),e!==null&&D(Os);break;case 24:Da(lt)}}function Al(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var o=n.next;a=o;do{if((a.tag&e)===e){n=void 0;var c=a.create,m=a.inst;n=c(),m.destroy=n}a=a.next}while(a!==o)}}catch(y){Le(t,t.return,y)}}function as(e,t,a){try{var n=t.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var c=o.next;n=c;do{if((n.tag&e)===e){var m=n.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,o=t;var w=a,A=y;try{A()}catch(M){Le(o,w,M)}}}n=n.next}while(n!==c)}}catch(M){Le(t,t.return,M)}}function tf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Yd(t,a)}catch(n){Le(e,e.return,n)}}}function af(e,t,a){a.props=Us(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Le(e,t,n)}}function Ol(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(o){Le(e,t,o)}}function Sa(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(o){Le(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Le(e,t,o)}else a.current=null}function sf(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(o){Le(e,e.return,o)}}function ou(e,t,a){try{var n=e.stateNode;zp(n,e.type,a,t),n[Dt]=t}catch(o){Le(e,e.return,o)}}function nf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&us(e.type)||e.tag===4}function uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&us(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cu(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ea));else if(n!==4&&(n===27&&us(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(cu(e,t,a),e=e.sibling;e!==null;)cu(e,t,a),e=e.sibling}function Yr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&us(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yr(e,t,a),e=e.sibling;e!==null;)Yr(e,t,a),e=e.sibling}function lf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);_t(t,n,a),t[yt]=e,t[Dt]=a}catch(c){Le(e,e.return,c)}}var Ba=!1,ot=!1,du=!1,rf=typeof WeakSet=="function"?WeakSet:Set,gt=null;function fp(e,t){if(e=e.containerInfo,Du=hi,e=yd(e),so(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var o=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var m=0,y=-1,w=-1,A=0,M=0,K=e,O=null;t:for(;;){for(var U;K!==a||o!==0&&K.nodeType!==3||(y=m+o),K!==c||n!==0&&K.nodeType!==3||(w=m+n),K.nodeType===3&&(m+=K.nodeValue.length),(U=K.firstChild)!==null;)O=K,K=U;for(;;){if(K===e)break t;if(O===a&&++A===o&&(y=m),O===c&&++M===n&&(w=m),(U=K.nextSibling)!==null)break;K=O,O=K.parentNode}K=U}a=y===-1||w===-1?null:{start:y,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ru={focusedElem:e,selectionRange:a},hi=!1,gt=t;gt!==null;)if(t=gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,gt=e;else for(;gt!==null;){switch(t=gt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,o=c.memoizedProps,c=c.memoizedState,n=a.stateNode;try{var re=Us(a.type,o);e=n.getSnapshotBeforeUpdate(re,c),n.__reactInternalSnapshotBeforeUpdate=e}catch(fe){Le(a,a.return,fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Mu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,gt=e;break}gt=t.return}}function of(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:qa(e,a),n&4&&Al(5,a);break;case 1:if(qa(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Le(a,a.return,m)}else{var o=Us(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Le(a,a.return,m)}}n&64&&tf(a),n&512&&Ol(a,a.return);break;case 3:if(qa(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Yd(e,t)}catch(m){Le(a,a.return,m)}}break;case 27:t===null&&n&4&&lf(a);case 26:case 5:qa(e,a),t===null&&n&4&&sf(a),n&512&&Ol(a,a.return);break;case 12:qa(e,a);break;case 31:qa(e,a),n&4&&df(e,a);break;case 13:qa(e,a),n&4&&hf(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_p.bind(null,a),Kp(e,a))));break;case 22:if(n=a.memoizedState!==null||Ba,!n){t=t!==null&&t.memoizedState!==null||ot,o=Ba;var c=ot;Ba=n,(ot=t)&&!c?Ha(e,a,(a.subtreeFlags&8772)!==0):qa(e,a),Ba=o,ot=c}break;case 30:break;default:qa(e,a)}}function uf(e){var t=e.alternate;t!==null&&(e.alternate=null,uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Hi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,zt=!1;function La(e,t,a){for(a=a.child;a!==null;)cf(e,t,a),a=a.sibling}function cf(e,t,a){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Ot,a)}catch{}switch(a.tag){case 26:ot||Sa(a,t),La(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ot||Sa(a,t);var n=Ze,o=zt;us(a.type)&&(Ze=a.stateNode,zt=!1),La(e,t,a),ql(a.stateNode),Ze=n,zt=o;break;case 5:ot||Sa(a,t);case 6:if(n=Ze,o=zt,Ze=null,La(e,t,a),Ze=n,zt=o,Ze!==null)if(zt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(c){Le(a,t,c)}else try{Ze.removeChild(a.stateNode)}catch(c){Le(a,t,c)}break;case 18:Ze!==null&&(zt?(e=Ze,a0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Rn(e)):a0(Ze,a.stateNode));break;case 4:n=Ze,o=zt,Ze=a.stateNode.containerInfo,zt=!0,La(e,t,a),Ze=n,zt=o;break;case 0:case 11:case 14:case 15:as(2,a,t),ot||as(4,a,t),La(e,t,a);break;case 1:ot||(Sa(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&af(a,t,n)),La(e,t,a);break;case 21:La(e,t,a);break;case 22:ot=(n=ot)||a.memoizedState!==null,La(e,t,a),ot=n;break;default:La(e,t,a)}}function df(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Rn(e)}catch(a){Le(t,t.return,a)}}}function hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rn(e)}catch(a){Le(t,t.return,a)}}function mp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rf),t;default:throw Error(r(435,e.tag))}}function Pr(e,t){var a=mp(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var o=Sp.bind(null,e,n);n.then(o,o)}})}function Ut(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var o=a[n],c=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(us(y.type)){Ze=y.stateNode,zt=!1;break e}break;case 5:Ze=y.stateNode,zt=!1;break e;case 3:case 4:Ze=y.stateNode.containerInfo,zt=!0;break e}y=y.return}if(Ze===null)throw Error(r(160));cf(c,m,o),Ze=null,zt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ff(t,e),t=t.sibling}var da=null;function ff(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ut(t,e),Mt(e),n&4&&(as(3,e,e.return),Al(3,e),as(5,e,e.return));break;case 1:Ut(t,e),Mt(e),n&512&&(ot||a===null||Sa(a,a.return)),n&64&&Ba&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var o=da;if(Ut(t,e),Mt(e),n&512&&(ot||a===null||Sa(a,a.return)),n&4){var c=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(n){case"title":c=o.getElementsByTagName("title")[0],(!c||c[sl]||c[yt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(n),o.head.insertBefore(c,o.querySelector("head > title"))),_t(c,n,a),c[yt]=e,mt(c),n=c;break e;case"link":var m=f0("link","href",o).get(n+(a.href||""));if(m){for(var y=0;y<m.length;y++)if(c=m[y],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(y,1);break t}}c=o.createElement(n),_t(c,n,a),o.head.appendChild(c);break;case"meta":if(m=f0("meta","content",o).get(n+(a.content||""))){for(y=0;y<m.length;y++)if(c=m[y],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(y,1);break t}}c=o.createElement(n),_t(c,n,a),o.head.appendChild(c);break;default:throw Error(r(468,n))}c[yt]=e,mt(c),n=c}e.stateNode=n}else m0(o,e.type,e.stateNode);else e.stateNode=h0(o,n,e.memoizedProps);else c!==n?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,n===null?m0(o,e.type,e.stateNode):h0(o,n,e.memoizedProps)):n===null&&e.stateNode!==null&&ou(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ut(t,e),Mt(e),n&512&&(ot||a===null||Sa(a,a.return)),a!==null&&n&4&&ou(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ut(t,e),Mt(e),n&512&&(ot||a===null||Sa(a,a.return)),e.flags&32){o=e.stateNode;try{tn(o,"")}catch(re){Le(e,e.return,re)}}n&4&&e.stateNode!=null&&(o=e.memoizedProps,ou(e,o,a!==null?a.memoizedProps:o)),n&1024&&(du=!0);break;case 6:if(Ut(t,e),Mt(e),n&4){if(e.stateNode===null)throw Error(r(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(re){Le(e,e.return,re)}}break;case 3:if(oi=null,o=da,da=ri(t.containerInfo),Ut(t,e),da=o,Mt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Rn(t.containerInfo)}catch(re){Le(e,e.return,re)}du&&(du=!1,mf(e));break;case 4:n=da,da=ri(e.stateNode.containerInfo),Ut(t,e),Mt(e),da=n;break;case 12:Ut(t,e),Mt(e);break;case 31:Ut(t,e),Mt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Pr(e,n)));break;case 13:Ut(t,e),Mt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qr=ve()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Pr(e,n)));break;case 22:o=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,A=Ba,M=ot;if(Ba=A||o,ot=M||w,Ut(t,e),ot=M,Ba=A,Mt(e),n&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||w||Ba||ot||Ms(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(c=w.stateNode,o)m=c.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=w.stateNode;var K=w.memoizedProps.style,O=K!=null&&K.hasOwnProperty("display")?K.display:null;y.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(re){Le(w,w.return,re)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(re){Le(w,w.return,re)}}}else if(t.tag===18){if(a===null){w=t;try{var U=w.stateNode;o?s0(U,!0):s0(w.stateNode,!1)}catch(re){Le(w,w.return,re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Pr(e,a))));break;case 19:Ut(t,e),Mt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Pr(e,n)));break;case 30:break;case 21:break;default:Ut(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(nf(n)){a=n;break}n=n.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var o=a.stateNode,c=uu(e);Yr(e,c,o);break;case 5:var m=a.stateNode;a.flags&32&&(tn(m,""),a.flags&=-33);var y=uu(e);Yr(e,y,m);break;case 3:case 4:var w=a.stateNode.containerInfo,A=uu(e);cu(e,A,w);break;default:throw Error(r(161))}}catch(M){Le(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;mf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function qa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)of(e,t.alternate,t),t=t.sibling}function Ms(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:as(4,t,t.return),Ms(t);break;case 1:Sa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&af(t,t.return,a),Ms(t);break;case 27:ql(t.stateNode);case 26:case 5:Sa(t,t.return),Ms(t);break;case 22:t.memoizedState===null&&Ms(t);break;case 30:Ms(t);break;default:Ms(t)}e=e.sibling}}function Ha(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,o=e,c=t,m=c.flags;switch(c.tag){case 0:case 11:case 15:Ha(o,c,a),Al(4,c);break;case 1:if(Ha(o,c,a),n=c,o=n.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){Le(n,n.return,A)}if(n=c,o=n.updateQueue,o!==null){var y=n.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Gd(w[o],y)}catch(A){Le(n,n.return,A)}}a&&m&64&&tf(c),Ol(c,c.return);break;case 27:lf(c);case 26:case 5:Ha(o,c,a),a&&n===null&&m&4&&sf(c),Ol(c,c.return);break;case 12:Ha(o,c,a);break;case 31:Ha(o,c,a),a&&m&4&&df(o,c);break;case 13:Ha(o,c,a),a&&m&4&&hf(o,c);break;case 22:c.memoizedState===null&&Ha(o,c,a),Ol(c,c.return);break;case 30:break;default:Ha(o,c,a)}t=t.sibling}}function hu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&pl(a))}function fu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pl(e))}function ha(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gf(e,t,a,n),t=t.sibling}function gf(e,t,a,n){var o=t.flags;switch(t.tag){case 0:case 11:case 15:ha(e,t,a,n),o&2048&&Al(9,t);break;case 1:ha(e,t,a,n);break;case 3:ha(e,t,a,n),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pl(e)));break;case 12:if(o&2048){ha(e,t,a,n),e=t.stateNode;try{var c=t.memoizedProps,m=c.id,y=c.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Le(t,t.return,w)}}else ha(e,t,a,n);break;case 31:ha(e,t,a,n);break;case 13:ha(e,t,a,n);break;case 23:break;case 22:c=t.stateNode,m=t.alternate,t.memoizedState!==null?c._visibility&2?ha(e,t,a,n):Cl(e,t):c._visibility&2?ha(e,t,a,n):(c._visibility|=2,_n(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),o&2048&&hu(m,t);break;case 24:ha(e,t,a,n),o&2048&&fu(t.alternate,t);break;default:ha(e,t,a,n)}}function _n(e,t,a,n,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,m=t,y=a,w=n,A=m.flags;switch(m.tag){case 0:case 11:case 15:_n(c,m,y,w,o),Al(8,m);break;case 23:break;case 22:var M=m.stateNode;m.memoizedState!==null?M._visibility&2?_n(c,m,y,w,o):Cl(c,m):(M._visibility|=2,_n(c,m,y,w,o)),o&&A&2048&&hu(m.alternate,m);break;case 24:_n(c,m,y,w,o),o&&A&2048&&fu(m.alternate,m);break;default:_n(c,m,y,w,o)}t=t.sibling}}function Cl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,o=n.flags;switch(n.tag){case 22:Cl(a,n),o&2048&&hu(n.alternate,n);break;case 24:Cl(a,n),o&2048&&fu(n.alternate,n);break;default:Cl(a,n)}t=t.sibling}}var Dl=8192;function Sn(e,t,a){if(e.subtreeFlags&Dl)for(e=e.child;e!==null;)pf(e,t,a),e=e.sibling}function pf(e,t,a){switch(e.tag){case 26:Sn(e,t,a),e.flags&Dl&&e.memoizedState!==null&&eb(a,da,e.memoizedState,e.memoizedProps);break;case 5:Sn(e,t,a);break;case 3:case 4:var n=da;da=ri(e.stateNode.containerInfo),Sn(e,t,a),da=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Dl,Dl=16777216,Sn(e,t,a),Dl=n):Sn(e,t,a));break;default:Sn(e,t,a)}}function bf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];gt=n,xf(n,e)}bf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yf(e),e=e.sibling}function yf(e){switch(e.tag){case 0:case 11:case 15:Rl(e),e.flags&2048&&as(9,e,e.return);break;case 3:Rl(e);break;case 12:Rl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vr(e)):Rl(e);break;default:Rl(e)}}function Vr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];gt=n,xf(n,e)}bf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:as(8,t,t.return),Vr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Vr(t));break;default:Vr(t)}e=e.sibling}}function xf(e,t){for(;gt!==null;){var a=gt;switch(a.tag){case 0:case 11:case 15:as(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:pl(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,gt=n;else e:for(a=e;gt!==null;){n=gt;var o=n.sibling,c=n.return;if(uf(n),n===a){gt=null;break e}if(o!==null){o.return=c,gt=o;break e}gt=c}}}var gp={getCacheForType:function(e){var t=vt(lt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return vt(lt).controller.signal}},pp=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Pe=null,Ee=null,Ae=0,Be=0,Yt=null,ss=!1,jn=!1,mu=!1,Ia=0,tt=0,ns=0,Bs=0,gu=0,Pt=0,kn=0,zl=null,Bt=null,pu=!1,Qr=0,vf=0,Jr=1/0,Xr=null,ls=null,dt=0,rs=null,Nn=null,Ka=0,bu=0,yu=null,wf=null,Ul=0,xu=null;function Vt(){return(Ue&2)!==0&&Ae!==0?Ae&-Ae:_.T!==null?ku():Mc()}function _f(){if(Pt===0)if((Ae&536870912)===0||De){var e=Ht;Ht<<=1,(Ht&3932160)===0&&(Ht=262144),Pt=e}else Pt=536870912;return e=$t.current,e!==null&&(e.flags|=32),Pt}function Lt(e,t,a){(e===Pe&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(En(e,0),is(e,Ae,Pt,!1)),al(e,a),((Ue&2)===0||e!==Pe)&&(e===Pe&&((Ue&2)===0&&(Bs|=a),tt===4&&is(e,Ae,Pt,!1)),ja(e))}function Sf(e,t,a){if((Ue&6)!==0)throw Error(r(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||tl(e,t),o=n?xp(e,t):wu(e,t,!0),c=n;do{if(o===0){jn&&!n&&is(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!bp(a)){o=wu(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;o=zl;var w=y.current.memoizedState.isDehydrated;if(w&&(En(y,m).flags|=256),m=wu(y,m,!1),m!==2){if(mu&&!w){y.errorRecoveryDisabledLanes|=c,Bs|=c,o=4;break e}c=Bt,Bt=o,c!==null&&(Bt===null?Bt=c:Bt.push.apply(Bt,c))}o=m}if(c=!1,o!==2)continue}}if(o===1){En(e,0),is(e,t,0,!0);break}e:{switch(n=e,c=o,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:is(n,t,Pt,!ss);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Qr+300-ve(),10<o)){if(is(n,t,Pt,!ss),rr(n,0,!0)!==0)break e;Ka=t,n.timeoutHandle=e0(jf.bind(null,n,a,Bt,Xr,pu,t,Pt,Bs,kn,ss,c,"Throttled",-0,0),o);break e}jf(n,a,Bt,Xr,pu,t,Pt,Bs,kn,ss,c,null,-0,0)}}break}while(!0);ja(e)}function jf(e,t,a,n,o,c,m,y,w,A,M,K,O,U){if(e.timeoutHandle=-1,K=t.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ea},pf(t,c,K);var re=(c&62914560)===c?Qr-ve():(c&4194048)===c?vf-ve():0;if(re=tb(K,re),re!==null){Ka=c,e.cancelPendingCommit=re(Df.bind(null,e,t,c,a,n,o,m,y,w,M,K,null,O,U)),is(e,c,m,!A);return}}Df(e,t,c,a,n,o,m,y,w)}function bp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var o=a[n],c=o.getSnapshot;o=o.value;try{if(!It(c(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function is(e,t,a,n){t&=~gu,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var o=t;0<o;){var c=31-Ce(o),m=1<<c;n[c]=-1,o&=~m}a!==0&&Rc(e,a,t)}function Zr(){return(Ue&6)===0?(Ml(0),!1):!0}function vu(){if(Ee!==null){if(Be===0)var e=Ee.return;else e=Ee,Ca=Ts=null,Mo(e),bn=null,yl=0,e=Ee;for(;e!==null;)ef(e.alternate,e),e=e.return;Ee=null}}function En(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Bp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ka=0,vu(),Pe=e,Ee=a=Aa(e.current,null),Ae=t,Be=0,Yt=null,ss=!1,jn=tl(e,t),mu=!1,kn=Pt=gu=Bs=ns=tt=0,Bt=zl=null,pu=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var o=31-Ce(n),c=1<<o;t|=e[o],n&=~c}return Ia=t,yr(),a}function kf(e,t){we=null,_.H=Nl,t===pn||t===Nr?(t=Hd(),Be=3):t===jo?(t=Hd(),Be=4):Be=t===Fo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Yt=t,Ee===null&&(tt=1,Hr(e,aa(t,e.current)))}function Nf(){var e=$t.current;return e===null?!0:(Ae&4194048)===Ae?ra===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===ra:!1}function Ef(){var e=_.H;return _.H=Nl,e===null?Nl:e}function Tf(){var e=_.A;return _.A=gp,e}function Fr(){tt=4,ss||(Ae&4194048)!==Ae&&$t.current!==null||(jn=!0),(ns&134217727)===0&&(Bs&134217727)===0||Pe===null||is(Pe,Ae,Pt,!1)}function wu(e,t,a){var n=Ue;Ue|=2;var o=Ef(),c=Tf();(Pe!==e||Ae!==t)&&(Xr=null,En(e,t)),t=!1;var m=tt;e:do try{if(Be!==0&&Ee!==null){var y=Ee,w=Yt;switch(Be){case 8:vu(),m=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(t=!0);var A=Be;if(Be=0,Yt=null,Tn(e,y,w,A),a&&jn){m=0;break e}break;default:A=Be,Be=0,Yt=null,Tn(e,y,w,A)}}yp(),m=tt;break}catch(M){kf(e,M)}while(!0);return t&&e.shellSuspendCounter++,Ca=Ts=null,Ue=n,_.H=o,_.A=c,Ee===null&&(Pe=null,Ae=0,yr()),m}function yp(){for(;Ee!==null;)Af(Ee)}function xp(e,t){var a=Ue;Ue|=2;var n=Ef(),o=Tf();Pe!==e||Ae!==t?(Xr=null,Jr=ve()+500,En(e,t)):jn=tl(e,t);e:do try{if(Be!==0&&Ee!==null){t=Ee;var c=Yt;t:switch(Be){case 1:Be=0,Yt=null,Tn(e,t,c,1);break;case 2:case 9:if(Ld(c)){Be=0,Yt=null,Of(t);break}t=function(){Be!==2&&Be!==9||Pe!==e||(Be=7),ja(e)},c.then(t,t);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:Ld(c)?(Be=0,Yt=null,Of(t)):(Be=0,Yt=null,Tn(e,t,c,7));break;case 5:var m=null;switch(Ee.tag){case 26:m=Ee.memoizedState;case 5:case 27:var y=Ee;if(m?g0(m):y.stateNode.complete){Be=0,Yt=null;var w=y.sibling;if(w!==null)Ee=w;else{var A=y.return;A!==null?(Ee=A,Wr(A)):Ee=null}break t}}Be=0,Yt=null,Tn(e,t,c,5);break;case 6:Be=0,Yt=null,Tn(e,t,c,6);break;case 8:vu(),tt=6;break e;default:throw Error(r(462))}}vp();break}catch(M){kf(e,M)}while(!0);return Ca=Ts=null,_.H=n,_.A=o,Ue=a,Ee!==null?0:(Pe=null,Ae=0,yr(),tt)}function vp(){for(;Ee!==null&&!Wn();)Af(Ee)}function Af(e){var t=Fh(e.alternate,e,Ia);e.memoizedProps=e.pendingProps,t===null?Wr(e):Ee=t}function Of(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Ph(a,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=Ph(a,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:Mo(t);default:ef(a,t),t=Ee=Ed(t,Ia),t=Fh(a,t,Ia)}e.memoizedProps=e.pendingProps,t===null?Wr(e):Ee=t}function Tn(e,t,a,n){Ca=Ts=null,Mo(t),bn=null,yl=0;var o=t.return;try{if(op(e,o,t,a,Ae)){tt=1,Hr(e,aa(a,e.current)),Ee=null;return}}catch(c){if(o!==null)throw Ee=o,c;tt=1,Hr(e,aa(a,e.current)),Ee=null;return}t.flags&32768?(De||n===1?e=!0:jn||(Ae&536870912)!==0?e=!1:(ss=e=!0,(n===2||n===9||n===3||n===6)&&(n=$t.current,n!==null&&n.tag===13&&(n.flags|=16384))),Cf(t,e)):Wr(t)}function Wr(e){var t=e;do{if((t.flags&32768)!==0){Cf(t,ss);return}e=t.return;var a=dp(t.alternate,t,Ia);if(a!==null){Ee=a;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);tt===0&&(tt=5)}function Cf(e,t){do{var a=hp(e.alternate,e);if(a!==null){a.flags&=32767,Ee=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=a}while(e!==null);tt=6,Ee=null}function Df(e,t,a,n,o,c,m,y,w){e.cancelPendingCommit=null;do ei();while(dt!==0);if((Ue&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=oo,Wm(e,a,c,m,y,w),e===Pe&&(Ee=Pe=null,Ae=0),Nn=t,rs=e,Ka=a,bu=c,yu=o,wf=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jp(qt,function(){return Bf(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=_.T,_.T=null,o=G.p,G.p=2,m=Ue,Ue|=4;try{fp(e,t,a)}finally{Ue=m,G.p=o,_.T=n}}dt=1,Rf(),zf(),Uf()}}function Rf(){if(dt===1){dt=0;var e=rs,t=Nn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=_.T,_.T=null;var n=G.p;G.p=2;var o=Ue;Ue|=4;try{ff(t,e);var c=Ru,m=yd(e.containerInfo),y=c.focusedElem,w=c.selectionRange;if(m!==y&&y&&y.ownerDocument&&bd(y.ownerDocument.documentElement,y)){if(w!==null&&so(y)){var A=w.start,M=w.end;if(M===void 0&&(M=A),"selectionStart"in y)y.selectionStart=A,y.selectionEnd=Math.min(M,y.value.length);else{var K=y.ownerDocument||document,O=K&&K.defaultView||window;if(O.getSelection){var U=O.getSelection(),re=y.textContent.length,fe=Math.min(w.start,re),Ge=w.end===void 0?fe:Math.min(w.end,re);!U.extend&&fe>Ge&&(m=Ge,Ge=fe,fe=m);var k=pd(y,fe),S=pd(y,Ge);if(k&&S&&(U.rangeCount!==1||U.anchorNode!==k.node||U.anchorOffset!==k.offset||U.focusNode!==S.node||U.focusOffset!==S.offset)){var T=K.createRange();T.setStart(k.node,k.offset),U.removeAllRanges(),fe>Ge?(U.addRange(T),U.extend(S.node,S.offset)):(T.setEnd(S.node,S.offset),U.addRange(T))}}}}for(K=[],U=y;U=U.parentNode;)U.nodeType===1&&K.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<K.length;y++){var q=K[y];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}hi=!!Du,Ru=Du=null}finally{Ue=o,G.p=n,_.T=a}}e.current=t,dt=2}}function zf(){if(dt===2){dt=0;var e=rs,t=Nn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=_.T,_.T=null;var n=G.p;G.p=2;var o=Ue;Ue|=4;try{of(e,t.alternate,t)}finally{Ue=o,G.p=n,_.T=a}}dt=3}}function Uf(){if(dt===4||dt===3){dt=0,V();var e=rs,t=Nn,a=Ka,n=wf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dt=5:(dt=0,Nn=rs=null,Mf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ls=null),Li(a),t=t.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Ot,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=_.T,o=G.p,G.p=2,_.T=null;try{for(var c=e.onRecoverableError,m=0;m<n.length;m++){var y=n[m];c(y.value,{componentStack:y.stack})}}finally{_.T=t,G.p=o}}(Ka&3)!==0&&ei(),ja(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===xu?Ul++:(Ul=0,xu=e):Ul=0,Ml(0)}}function Mf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,pl(t)))}function ei(){return Rf(),zf(),Uf(),Bf()}function Bf(){if(dt!==5)return!1;var e=rs,t=bu;bu=0;var a=Li(Ka),n=_.T,o=G.p;try{G.p=32>a?32:a,_.T=null,a=yu,yu=null;var c=rs,m=Ka;if(dt=0,Nn=rs=null,Ka=0,(Ue&6)!==0)throw Error(r(331));var y=Ue;if(Ue|=4,yf(c.current),gf(c,c.current,m,a),Ue=y,Ml(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Ot,c)}catch{}return!0}finally{G.p=o,_.T=n,Mf(e,t)}}function Lf(e,t,a){t=aa(a,t),t=Zo(e.stateNode,t,2),e=Wa(e,t,2),e!==null&&(al(e,2),ja(e))}function Le(e,t,a){if(e.tag===3)Lf(e,e,a);else for(;t!==null;){if(t.tag===3){Lf(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ls===null||!ls.has(n))){e=aa(a,e),a=Lh(2),n=Wa(t,a,2),n!==null&&(qh(a,n,t,e),al(n,2),ja(n));break}}t=t.return}}function _u(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new pp;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(a)||(mu=!0,o.add(a),e=wp.bind(null,e,t,a),t.then(e,e))}function wp(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Pe===e&&(Ae&a)===a&&(tt===4||tt===3&&(Ae&62914560)===Ae&&300>ve()-Qr?(Ue&2)===0&&En(e,0):gu|=a,kn===Ae&&(kn=0)),ja(e)}function qf(e,t){t===0&&(t=Dc()),e=ks(e,t),e!==null&&(al(e,t),ja(e))}function _p(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),qf(e,a)}function Sp(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(r(314))}n!==null&&n.delete(t),qf(e,a)}function jp(e,t){return xs(e,t)}var ti=null,An=null,Su=!1,ai=!1,ju=!1,os=0;function ja(e){e!==An&&e.next===null&&(An===null?ti=An=e:An=An.next=e),ai=!0,Su||(Su=!0,Np())}function Ml(e,t){if(!ju&&ai){ju=!0;do for(var a=!1,n=ti;n!==null;){if(e!==0){var o=n.pendingLanes;if(o===0)var c=0;else{var m=n.suspendedLanes,y=n.pingedLanes;c=(1<<31-Ce(42|e)+1)-1,c&=o&~(m&~y),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,$f(n,c))}else c=Ae,c=rr(n,n===Pe?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(c&3)===0||tl(n,c)||(a=!0,$f(n,c));n=n.next}while(a);ju=!1}}function kp(){Hf()}function Hf(){ai=Su=!1;var e=0;os!==0&&Mp()&&(e=os);for(var t=ve(),a=null,n=ti;n!==null;){var o=n.next,c=If(n,t);c===0?(n.next=null,a===null?ti=o:a.next=o,o===null&&(An=a)):(a=n,(e!==0||(c&3)!==0)&&(ai=!0)),n=o}dt!==0&&dt!==5||Ml(e),os!==0&&(os=0)}function If(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var m=31-Ce(c),y=1<<m,w=o[m];w===-1?((y&a)===0||(y&n)!==0)&&(o[m]=Fm(y,t)):w<=t&&(e.expiredLanes|=y),c&=~y}if(t=Pe,a=Ae,a=rr(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&xa(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||tl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&xa(n),Li(a)){case 2:case 8:a=Ve;break;case 32:a=qt;break;case 268435456:a=At;break;default:a=qt}return n=Kf.bind(null,e),a=xs(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&xa(n),e.callbackPriority=2,e.callbackNode=null,2}function Kf(e,t){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ei()&&e.callbackNode!==a)return null;var n=Ae;return n=rr(e,e===Pe?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Sf(e,n,t),If(e,ve()),e.callbackNode!=null&&e.callbackNode===a?Kf.bind(null,e):null)}function $f(e,t){if(ei())return null;Sf(e,t,!0)}function Np(){Lp(function(){(Ue&6)!==0?xs(ae,kp):Hf()})}function ku(){if(os===0){var e=mn;e===0&&(e=at,at<<=1,(at&261888)===0&&(at=256)),os=e}return os}function Gf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cr(""+e)}function Yf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Ep(e,t,a,n,o){if(t==="submit"&&a&&a.stateNode===o){var c=Gf((o[Dt]||null).action),m=n.submitter;m&&(t=(t=m[Dt]||null)?Gf(t.formAction):m.getAttribute("formAction"),t!==null&&(c=t,m=null));var y=new mr("action","action",null,n,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(os!==0){var w=m?Yf(o,m):new FormData(o);Yo(a,{pending:!0,data:w,method:o.method,action:c},null,w)}}else typeof c=="function"&&(y.preventDefault(),w=m?Yf(o,m):new FormData(o),Yo(a,{pending:!0,data:w,method:o.method,action:c},c,w))},currentTarget:o}]})}}for(var Nu=0;Nu<io.length;Nu++){var Eu=io[Nu],Tp=Eu.toLowerCase(),Ap=Eu[0].toUpperCase()+Eu.slice(1);ca(Tp,"on"+Ap)}ca(wd,"onAnimationEnd"),ca(_d,"onAnimationIteration"),ca(Sd,"onAnimationStart"),ca("dblclick","onDoubleClick"),ca("focusin","onFocus"),ca("focusout","onBlur"),ca(Yg,"onTransitionRun"),ca(Pg,"onTransitionStart"),ca(Vg,"onTransitionCancel"),ca(jd,"onTransitionEnd"),Ws("onMouseEnter",["mouseout","mouseover"]),Ws("onMouseLeave",["mouseout","mouseover"]),Ws("onPointerEnter",["pointerout","pointerover"]),Ws("onPointerLeave",["pointerout","pointerover"]),ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ws("onBeforeInput",["compositionend","keypress","textInput","paste"]),ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Op=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function Pf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],o=n.event;n=n.listeners;e:{var c=void 0;if(t)for(var m=n.length-1;0<=m;m--){var y=n[m],w=y.instance,A=y.currentTarget;if(y=y.listener,w!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=A;try{c(o)}catch(M){br(M)}o.currentTarget=null,c=w}else for(m=0;m<n.length;m++){if(y=n[m],w=y.instance,A=y.currentTarget,y=y.listener,w!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=A;try{c(o)}catch(M){br(M)}o.currentTarget=null,c=w}}}}function Te(e,t){var a=t[qi];a===void 0&&(a=t[qi]=new Set);var n=e+"__bubble";a.has(n)||(Vf(t,e,2,!1),a.add(n))}function Tu(e,t,a){var n=0;t&&(n|=4),Vf(a,e,n,t)}var si="_reactListening"+Math.random().toString(36).slice(2);function Au(e){if(!e[si]){e[si]=!0,qc.forEach(function(a){a!=="selectionchange"&&(Op.has(a)||Tu(a,!1,e),Tu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[si]||(t[si]=!0,Tu("selectionchange",!1,t))}}function Vf(e,t,a,n){switch(_0(t)){case 2:var o=nb;break;case 8:o=lb;break;default:o=Gu}a=o.bind(null,t,a,e),o=void 0,!Qi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Ou(e,t,a,n,o){var c=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var m=n.tag;if(m===3||m===4){var y=n.stateNode.containerInfo;if(y===o)break;if(m===4)for(m=n.return;m!==null;){var w=m.tag;if((w===3||w===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;y!==null;){if(m=Xs(y),m===null)return;if(w=m.tag,w===5||w===6||w===26||w===27){n=c=m;continue e}y=y.parentNode}}n=n.return}Zc(function(){var A=c,M=Pi(a),K=[];e:{var O=kd.get(e);if(O!==void 0){var U=mr,re=e;switch(e){case"keypress":if(hr(a)===0)break e;case"keydown":case"keyup":U=Sg;break;case"focusin":re="focus",U=Fi;break;case"focusout":re="blur",U=Fi;break;case"beforeblur":case"afterblur":U=Fi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Ng;break;case wd:case _d:case Sd:U=mg;break;case jd:U=Tg;break;case"scroll":case"scrollend":U=ug;break;case"wheel":U=Og;break;case"copy":case"cut":case"paste":U=pg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=ad;break;case"toggle":case"beforetoggle":U=Dg}var fe=(t&4)!==0,Ge=!fe&&(e==="scroll"||e==="scrollend"),k=fe?O!==null?O+"Capture":null:O;fe=[];for(var S=A,T;S!==null;){var q=S;if(T=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||T===null||k===null||(q=ll(S,k),q!=null&&fe.push(Ll(S,q,T))),Ge)break;S=S.return}0<fe.length&&(O=new U(O,re,null,a,M),K.push({event:O,listeners:fe}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",O&&a!==Yi&&(re=a.relatedTarget||a.fromElement)&&(Xs(re)||re[Js]))break e;if((U||O)&&(O=M.window===M?M:(O=M.ownerDocument)?O.defaultView||O.parentWindow:window,U?(re=a.relatedTarget||a.toElement,U=A,re=re?Xs(re):null,re!==null&&(Ge=h(re),fe=re.tag,re!==Ge||fe!==5&&fe!==27&&fe!==6)&&(re=null)):(U=null,re=A),U!==re)){if(fe=ed,q="onMouseLeave",k="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(fe=ad,q="onPointerLeave",k="onPointerEnter",S="pointer"),Ge=U==null?O:nl(U),T=re==null?O:nl(re),O=new fe(q,S+"leave",U,a,M),O.target=Ge,O.relatedTarget=T,q=null,Xs(M)===A&&(fe=new fe(k,S+"enter",re,a,M),fe.target=T,fe.relatedTarget=Ge,q=fe),Ge=q,U&&re)t:{for(fe=Cp,k=U,S=re,T=0,q=k;q;q=fe(q))T++;q=0;for(var de=S;de;de=fe(de))q++;for(;0<T-q;)k=fe(k),T--;for(;0<q-T;)S=fe(S),q--;for(;T--;){if(k===S||S!==null&&k===S.alternate){fe=k;break t}k=fe(k),S=fe(S)}fe=null}else fe=null;U!==null&&Qf(K,O,U,fe,!1),re!==null&&Ge!==null&&Qf(K,Ge,re,fe,!0)}}e:{if(O=A?nl(A):window,U=O.nodeName&&O.nodeName.toLowerCase(),U==="select"||U==="input"&&O.type==="file")var Re=cd;else if(od(O))if(dd)Re=Kg;else{Re=Hg;var oe=qg}else U=O.nodeName,!U||U.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?A&&Gi(A.elementType)&&(Re=cd):Re=Ig;if(Re&&(Re=Re(e,A))){ud(K,Re,a,M);break e}oe&&oe(e,O,A),e==="focusout"&&A&&O.type==="number"&&A.memoizedProps.value!=null&&$i(O,"number",O.value)}switch(oe=A?nl(A):window,e){case"focusin":(od(oe)||oe.contentEditable==="true")&&(ln=oe,no=A,fl=null);break;case"focusout":fl=no=ln=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,xd(K,a,M);break;case"selectionchange":if(Gg)break;case"keydown":case"keyup":xd(K,a,M)}var Se;if(eo)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else nn?rd(e,a)&&(Oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(sd&&a.locale!=="ko"&&(nn||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&nn&&(Se=Fc()):(Pa=M,Ji="value"in Pa?Pa.value:Pa.textContent,nn=!0)),oe=ni(A,Oe),0<oe.length&&(Oe=new td(Oe,e,null,a,M),K.push({event:Oe,listeners:oe}),Se?Oe.data=Se:(Se=id(a),Se!==null&&(Oe.data=Se)))),(Se=zg?Ug(e,a):Mg(e,a))&&(Oe=ni(A,"onBeforeInput"),0<Oe.length&&(oe=new td("onBeforeInput","beforeinput",null,a,M),K.push({event:oe,listeners:Oe}),oe.data=Se)),Ep(K,e,A,a,M)}Pf(K,t)})}function Ll(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ni(e,t){for(var a=t+"Capture",n=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=ll(e,a),o!=null&&n.unshift(Ll(e,o,c)),o=ll(e,t),o!=null&&n.push(Ll(e,o,c))),e.tag===3)return n;e=e.return}return[]}function Cp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qf(e,t,a,n,o){for(var c=t._reactName,m=[];a!==null&&a!==n;){var y=a,w=y.alternate,A=y.stateNode;if(y=y.tag,w!==null&&w===n)break;y!==5&&y!==26&&y!==27||A===null||(w=A,o?(A=ll(a,c),A!=null&&m.unshift(Ll(a,A,w))):o||(A=ll(a,c),A!=null&&m.push(Ll(a,A,w)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var Dp=/\r\n?/g,Rp=/\u0000|\uFFFD/g;function Jf(e){return(typeof e=="string"?e:""+e).replace(Dp,`
`).replace(Rp,"")}function Xf(e,t){return t=Jf(t),Jf(e)===t}function $e(e,t,a,n,o,c){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||tn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&tn(e,""+n);break;case"className":or(e,"class",n);break;case"tabIndex":or(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":or(e,a,n);break;case"style":Jc(e,n,c);break;case"data":if(t!=="object"){or(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=cr(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&$e(e,t,"name",o.name,o,null),$e(e,t,"formEncType",o.formEncType,o,null),$e(e,t,"formMethod",o.formMethod,o,null),$e(e,t,"formTarget",o.formTarget,o,null)):($e(e,t,"encType",o.encType,o,null),$e(e,t,"method",o.method,o,null),$e(e,t,"target",o.target,o,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=cr(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Ea);break;case"onScroll":n!=null&&Te("scroll",e);break;case"onScrollEnd":n!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=cr(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Te("beforetoggle",e),Te("toggle",e),ir(e,"popover",n);break;case"xlinkActuate":Na(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Na(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Na(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Na(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Na(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Na(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Na(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Na(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Na(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ir(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ig.get(a)||a,ir(e,a,n))}}function Cu(e,t,a,n,o,c){switch(a){case"style":Jc(e,n,c);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof n=="string"?tn(e,n):(typeof n=="number"||typeof n=="bigint")&&tn(e,""+n);break;case"onScroll":n!=null&&Te("scroll",e);break;case"onScrollEnd":n!=null&&Te("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),c=e[Dt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof n=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,o);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):ir(e,a,n)}}}function _t(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var n=!1,o=!1,c;for(c in a)if(a.hasOwnProperty(c)){var m=a[c];if(m!=null)switch(c){case"src":n=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:$e(e,t,c,m,a,null)}}o&&$e(e,t,"srcSet",a.srcSet,a,null),n&&$e(e,t,"src",a.src,a,null);return;case"input":Te("invalid",e);var y=c=m=o=null,w=null,A=null;for(n in a)if(a.hasOwnProperty(n)){var M=a[n];if(M!=null)switch(n){case"name":o=M;break;case"type":m=M;break;case"checked":w=M;break;case"defaultChecked":A=M;break;case"value":c=M;break;case"defaultValue":y=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:$e(e,t,n,M,a,null)}}Yc(e,c,y,w,A,m,o,!1);return;case"select":Te("invalid",e),n=m=c=null;for(o in a)if(a.hasOwnProperty(o)&&(y=a[o],y!=null))switch(o){case"value":c=y;break;case"defaultValue":m=y;break;case"multiple":n=y;default:$e(e,t,o,y,a,null)}t=c,a=m,e.multiple=!!n,t!=null?en(e,!!n,t,!1):a!=null&&en(e,!!n,a,!0);return;case"textarea":Te("invalid",e),c=o=n=null;for(m in a)if(a.hasOwnProperty(m)&&(y=a[m],y!=null))switch(m){case"value":n=y;break;case"defaultValue":o=y;break;case"children":c=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:$e(e,t,m,y,a,null)}Vc(e,n,o,c);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(n=a[w],n!=null))switch(w){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:$e(e,t,w,n,a,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(n=0;n<Bl.length;n++)Te(Bl[n],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(n=a[A],n!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:$e(e,t,A,n,a,null)}return;default:if(Gi(t)){for(M in a)a.hasOwnProperty(M)&&(n=a[M],n!==void 0&&Cu(e,t,M,n,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(n=a[y],n!=null&&$e(e,t,y,n,a,null))}function zp(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,m=null,y=null,w=null,A=null,M=null;for(U in a){var K=a[U];if(a.hasOwnProperty(U)&&K!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":w=K;default:n.hasOwnProperty(U)||$e(e,t,U,null,n,K)}}for(var O in n){var U=n[O];if(K=a[O],n.hasOwnProperty(O)&&(U!=null||K!=null))switch(O){case"type":c=U;break;case"name":o=U;break;case"checked":A=U;break;case"defaultChecked":M=U;break;case"value":m=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:U!==K&&$e(e,t,O,U,n,K)}}Ki(e,m,y,w,A,M,c,o);return;case"select":U=m=y=O=null;for(c in a)if(w=a[c],a.hasOwnProperty(c)&&w!=null)switch(c){case"value":break;case"multiple":U=w;default:n.hasOwnProperty(c)||$e(e,t,c,null,n,w)}for(o in n)if(c=n[o],w=a[o],n.hasOwnProperty(o)&&(c!=null||w!=null))switch(o){case"value":O=c;break;case"defaultValue":y=c;break;case"multiple":m=c;default:c!==w&&$e(e,t,o,c,n,w)}t=y,a=m,n=U,O!=null?en(e,!!a,O,!1):!!n!=!!a&&(t!=null?en(e,!!a,t,!0):en(e,!!a,a?[]:"",!1));return;case"textarea":U=O=null;for(y in a)if(o=a[y],a.hasOwnProperty(y)&&o!=null&&!n.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:$e(e,t,y,null,n,o)}for(m in n)if(o=n[m],c=a[m],n.hasOwnProperty(m)&&(o!=null||c!=null))switch(m){case"value":O=o;break;case"defaultValue":U=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&$e(e,t,m,o,n,c)}Pc(e,O,U);return;case"option":for(var re in a)if(O=a[re],a.hasOwnProperty(re)&&O!=null&&!n.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:$e(e,t,re,null,n,O)}for(w in n)if(O=n[w],U=a[w],n.hasOwnProperty(w)&&O!==U&&(O!=null||U!=null))switch(w){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:$e(e,t,w,O,n,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)O=a[fe],a.hasOwnProperty(fe)&&O!=null&&!n.hasOwnProperty(fe)&&$e(e,t,fe,null,n,O);for(A in n)if(O=n[A],U=a[A],n.hasOwnProperty(A)&&O!==U&&(O!=null||U!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:$e(e,t,A,O,n,U)}return;default:if(Gi(t)){for(var Ge in a)O=a[Ge],a.hasOwnProperty(Ge)&&O!==void 0&&!n.hasOwnProperty(Ge)&&Cu(e,t,Ge,void 0,n,O);for(M in n)O=n[M],U=a[M],!n.hasOwnProperty(M)||O===U||O===void 0&&U===void 0||Cu(e,t,M,O,n,U);return}}for(var k in a)O=a[k],a.hasOwnProperty(k)&&O!=null&&!n.hasOwnProperty(k)&&$e(e,t,k,null,n,O);for(K in n)O=n[K],U=a[K],!n.hasOwnProperty(K)||O===U||O==null&&U==null||$e(e,t,K,O,n,U)}function Zf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Up(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var o=a[n],c=o.transferSize,m=o.initiatorType,y=o.duration;if(c&&y&&Zf(m)){for(m=0,y=o.responseEnd,n+=1;n<a.length;n++){var w=a[n],A=w.startTime;if(A>y)break;var M=w.transferSize,K=w.initiatorType;M&&Zf(K)&&(w=w.responseEnd,m+=M*(w<y?1:(y-A)/(w-A)))}if(--n,t+=8*(c+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Du=null,Ru=null;function li(e){return e.nodeType===9?e:e.ownerDocument}function Ff(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uu=null;function Mp(){var e=window.event;return e&&e.type==="popstate"?e===Uu?!1:(Uu=e,!0):(Uu=null,!1)}var e0=typeof setTimeout=="function"?setTimeout:void 0,Bp=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,Lp=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(e){return t0.resolve(null).then(e).catch(qp)}:e0;function qp(e){setTimeout(function(){throw e})}function us(e){return e==="head"}function a0(e,t){var a=t,n=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(o),Rn(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")ql(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ql(a);for(var c=a.firstChild;c;){var m=c.nextSibling,y=c.nodeName;c[sl]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=m}}else a==="body"&&ql(e.ownerDocument.body);a=o}while(a);Rn(t)}function s0(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function Mu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mu(a),Hi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Hp(e,t,a,n){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[sl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=ia(e.nextSibling),e===null)break}return null}function Ip(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ia(e.nextSibling),e===null))return null;return e}function n0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ia(e.nextSibling),e===null))return null;return e}function Bu(e){return e.data==="$?"||e.data==="$~"}function Lu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Kp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function ia(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var qu=null;function l0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ia(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function r0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function i0(e,t,a){switch(t=li(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ql(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Hi(e)}var oa=new Map,o0=new Set;function ri(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $a=G.d;G.d={f:$p,r:Gp,D:Yp,C:Pp,L:Vp,m:Qp,X:Xp,S:Jp,M:Zp};function $p(){var e=$a.f(),t=Zr();return e||t}function Gp(e){var t=Zs(e);t!==null&&t.tag===5&&t.type==="form"?jh(t):$a.r(e)}var On=typeof document>"u"?null:document;function u0(e,t,a){var n=On;if(n&&typeof t=="string"&&t){var o=ea(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),o0.has(o)||(o0.add(o),e={rel:e,crossOrigin:a,href:t},n.querySelector(o)===null&&(t=n.createElement("link"),_t(t,"link",e),mt(t),n.head.appendChild(t)))}}function Yp(e){$a.D(e),u0("dns-prefetch",e,null)}function Pp(e,t){$a.C(e,t),u0("preconnect",e,t)}function Vp(e,t,a){$a.L(e,t,a);var n=On;if(n&&e&&t){var o='link[rel="preload"][as="'+ea(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+ea(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+ea(a.imageSizes)+'"]')):o+='[href="'+ea(e)+'"]';var c=o;switch(t){case"style":c=Cn(e);break;case"script":c=Dn(e)}oa.has(c)||(e=j({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),oa.set(c,e),n.querySelector(o)!==null||t==="style"&&n.querySelector(Hl(c))||t==="script"&&n.querySelector(Il(c))||(t=n.createElement("link"),_t(t,"link",e),mt(t),n.head.appendChild(t)))}}function Qp(e,t){$a.m(e,t);var a=On;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+ea(n)+'"][href="'+ea(e)+'"]',c=o;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Dn(e)}if(!oa.has(c)&&(e=j({rel:"modulepreload",href:e},t),oa.set(c,e),a.querySelector(o)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(c)))return}n=a.createElement("link"),_t(n,"link",e),mt(n),a.head.appendChild(n)}}}function Jp(e,t,a){$a.S(e,t,a);var n=On;if(n&&e){var o=Fs(n).hoistableStyles,c=Cn(e);t=t||"default";var m=o.get(c);if(!m){var y={loading:0,preload:null};if(m=n.querySelector(Hl(c)))y.loading=5;else{e=j({rel:"stylesheet",href:e,"data-precedence":t},a),(a=oa.get(c))&&Hu(e,a);var w=m=n.createElement("link");mt(w),_t(w,"link",e),w._p=new Promise(function(A,M){w.onload=A,w.onerror=M}),w.addEventListener("load",function(){y.loading|=1}),w.addEventListener("error",function(){y.loading|=2}),y.loading|=4,ii(m,t,n)}m={type:"stylesheet",instance:m,count:1,state:y},o.set(c,m)}}}function Xp(e,t){$a.X(e,t);var a=On;if(a&&e){var n=Fs(a).hoistableScripts,o=Dn(e),c=n.get(o);c||(c=a.querySelector(Il(o)),c||(e=j({src:e,async:!0},t),(t=oa.get(o))&&Iu(e,t),c=a.createElement("script"),mt(c),_t(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(o,c))}}function Zp(e,t){$a.M(e,t);var a=On;if(a&&e){var n=Fs(a).hoistableScripts,o=Dn(e),c=n.get(o);c||(c=a.querySelector(Il(o)),c||(e=j({src:e,async:!0,type:"module"},t),(t=oa.get(o))&&Iu(e,t),c=a.createElement("script"),mt(c),_t(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(o,c))}}function c0(e,t,a,n){var o=(o=ue.current)?ri(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Cn(a.href),a=Fs(o).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Cn(a.href);var c=Fs(o).hoistableStyles,m=c.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,m),(c=o.querySelector(Hl(e)))&&!c._p&&(m.instance=c,m.state.loading=5),oa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},oa.set(e,a),c||Fp(o,e,a,m.state))),t&&n===null)throw Error(r(528,""));return m}if(t&&n!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Dn(a),a=Fs(o).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Cn(e){return'href="'+ea(e)+'"'}function Hl(e){return'link[rel="stylesheet"]['+e+"]"}function d0(e){return j({},e,{"data-precedence":e.precedence,precedence:null})}function Fp(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),_t(t,"link",a),mt(t),e.head.appendChild(t))}function Dn(e){return'[src="'+ea(e)+'"]'}function Il(e){return"script[async]"+e}function h0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+ea(a.href)+'"]');if(n)return t.instance=n,mt(n),n;var o=j({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),mt(n),_t(n,"style",o),ii(n,a.precedence,e),t.instance=n;case"stylesheet":o=Cn(a.href);var c=e.querySelector(Hl(o));if(c)return t.state.loading|=4,t.instance=c,mt(c),c;n=d0(a),(o=oa.get(o))&&Hu(n,o),c=(e.ownerDocument||e).createElement("link"),mt(c);var m=c;return m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),_t(c,"link",n),t.state.loading|=4,ii(c,a.precedence,e),t.instance=c;case"script":return c=Dn(a.src),(o=e.querySelector(Il(c)))?(t.instance=o,mt(o),o):(n=a,(o=oa.get(c))&&(n=j({},a),Iu(n,o)),e=e.ownerDocument||e,o=e.createElement("script"),mt(o),_t(o,"link",n),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,ii(n,a.precedence,e));return t.instance}function ii(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=n.length?n[n.length-1]:null,c=o,m=0;m<n.length;m++){var y=n[m];if(y.dataset.precedence===t)c=y;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Hu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Iu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var oi=null;function f0(e,t,a){if(oi===null){var n=new Map,o=oi=new Map;o.set(a,n)}else o=oi,n=o.get(a),n||(n=new Map,o.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var c=a[o];if(!(c[sl]||c[yt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var m=c.getAttribute(t)||"";m=e+m;var y=n.get(m);y?y.push(c):n.set(m,[c])}}return n}function m0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Wp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function g0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eb(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=Cn(n.href),c=t.querySelector(Hl(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ui.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,mt(c);return}c=t.ownerDocument||t,n=d0(n),(o=oa.get(o))&&Hu(n,o),c=c.createElement("link"),mt(c);var m=c;m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),_t(c,"link",n),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ui.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Ku=0;function tb(e,t){return e.stylesheets&&e.count===0&&di(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&di(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Ku===0&&(Ku=62500*Up());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&di(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Ku?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(o)}}:null}function ui(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)di(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ci=null;function di(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ci=new Map,t.forEach(ab,e),ci=null,ui.call(e))}function ab(e,t){if(!(t.state.loading&4)){var a=ci.get(e);if(a)var n=a.get(null);else{a=new Map,ci.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var m=o[c];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),n=m)}n&&a.set(null,n)}o=t.instance,m=o.getAttribute("data-precedence"),c=a.get(m)||n,c===n&&a.set(null,o),a.set(m,o),this.count++,n=ui.bind(this),o.addEventListener("load",n),o.addEventListener("error",n),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Kl={$$typeof:$,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function sb(e,t,a,n,o,c,m,y,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=n,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function p0(e,t,a,n,o,c,m,y,w,A,M,K){return e=new sb(e,t,a,m,w,A,M,K,y),t=1,c===!0&&(t|=24),c=Kt(3,null,null,t),e.current=c,c.stateNode=e,t=wo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:n,isDehydrated:a,cache:t},ko(c),e}function b0(e){return e?(e=un,e):un}function y0(e,t,a,n,o,c){o=b0(o),n.context===null?n.context=o:n.pendingContext=o,n=Fa(t),n.payload={element:a},c=c===void 0?null:c,c!==null&&(n.callback=c),a=Wa(e,n,t),a!==null&&(Lt(a,e,t),vl(a,e,t))}function x0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function $u(e,t){x0(e,t),(e=e.alternate)&&x0(e,t)}function v0(e){if(e.tag===13||e.tag===31){var t=ks(e,67108864);t!==null&&Lt(t,e,67108864),$u(e,67108864)}}function w0(e){if(e.tag===13||e.tag===31){var t=Vt();t=Bi(t);var a=ks(e,t);a!==null&&Lt(a,e,t),$u(e,t)}}var hi=!0;function nb(e,t,a,n){var o=_.T;_.T=null;var c=G.p;try{G.p=2,Gu(e,t,a,n)}finally{G.p=c,_.T=o}}function lb(e,t,a,n){var o=_.T;_.T=null;var c=G.p;try{G.p=8,Gu(e,t,a,n)}finally{G.p=c,_.T=o}}function Gu(e,t,a,n){if(hi){var o=Yu(n);if(o===null)Ou(e,t,n,fi,a),S0(e,n);else if(ib(o,e,t,a,n))n.stopPropagation();else if(S0(e,n),t&4&&-1<rb.indexOf(e)){for(;o!==null;){var c=Zs(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var m=vs(c.pendingLanes);if(m!==0){var y=c;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var w=1<<31-Ce(m);y.entanglements[1]|=w,m&=~w}ja(c),(Ue&6)===0&&(Jr=ve()+500,Ml(0))}}break;case 31:case 13:y=ks(c,2),y!==null&&Lt(y,c,2),Zr(),$u(c,2)}if(c=Yu(n),c===null&&Ou(e,t,n,fi,a),c===o)break;o=c}o!==null&&n.stopPropagation()}else Ou(e,t,n,null,a)}}function Yu(e){return e=Pi(e),Pu(e)}var fi=null;function Pu(e){if(fi=null,e=Xs(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fi=e,null}function _0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fe()){case ae:return 2;case Ve:return 8;case qt:case va:return 32;case At:return 268435456;default:return 32}default:return 32}}var Vu=!1,cs=null,ds=null,hs=null,$l=new Map,Gl=new Map,fs=[],rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S0(e,t){switch(e){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":$l.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(t.pointerId)}}function Yl(e,t,a,n,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Zs(t),t!==null&&v0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function ib(e,t,a,n,o){switch(t){case"focusin":return cs=Yl(cs,e,t,a,n,o),!0;case"dragenter":return ds=Yl(ds,e,t,a,n,o),!0;case"mouseover":return hs=Yl(hs,e,t,a,n,o),!0;case"pointerover":var c=o.pointerId;return $l.set(c,Yl($l.get(c)||null,e,t,a,n,o)),!0;case"gotpointercapture":return c=o.pointerId,Gl.set(c,Yl(Gl.get(c)||null,e,t,a,n,o)),!0}return!1}function j0(e){var t=Xs(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Bc(e.priority,function(){w0(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,Bc(e.priority,function(){w0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Yu(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Yi=n,a.target.dispatchEvent(n),Yi=null}else return t=Zs(a),t!==null&&v0(t),e.blockedOn=a,!1;t.shift()}return!0}function k0(e,t,a){mi(e)&&a.delete(t)}function ob(){Vu=!1,cs!==null&&mi(cs)&&(cs=null),ds!==null&&mi(ds)&&(ds=null),hs!==null&&mi(hs)&&(hs=null),$l.forEach(k0),Gl.forEach(k0)}function gi(e,t){e.blockedOn===t&&(e.blockedOn=null,Vu||(Vu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ob)))}var pi=null;function N0(e){pi!==e&&(pi=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){pi===e&&(pi=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],o=e[t+2];if(typeof n!="function"){if(Pu(n||a)===null)continue;break}var c=Zs(a);c!==null&&(e.splice(t,3),t-=3,Yo(c,{pending:!0,data:o,method:a.method,action:n},n,o))}}))}function Rn(e){function t(w){return gi(w,e)}cs!==null&&gi(cs,e),ds!==null&&gi(ds,e),hs!==null&&gi(hs,e),$l.forEach(t),Gl.forEach(t);for(var a=0;a<fs.length;a++){var n=fs[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<fs.length&&(a=fs[0],a.blockedOn===null);)j0(a),a.blockedOn===null&&fs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var o=a[n],c=a[n+1],m=o[Dt]||null;if(typeof c=="function")m||N0(a);else if(m){var y=null;if(c&&c.hasAttribute("formAction")){if(o=c,m=c[Dt]||null)y=m.formAction;else if(Pu(o)!==null)continue}else y=m.action;typeof y=="function"?a[n+1]=y:(a.splice(n,3),n-=3),N0(a)}}}function E0(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Qu(e){this._internalRoot=e}bi.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,n=Vt();y0(a,n,e,t,null,null)},bi.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;y0(e.current,2,null,e,null,null),Zr(),t[Js]=null}};function bi(e){this._internalRoot=e}bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<fs.length&&t!==0&&t<fs[a].priority;a++);fs.splice(a,0,e),a===0&&j0(e)}};var T0=s.version;if(T0!=="19.2.3")throw Error(r(527,T0,"19.2.3"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var ub={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yi.isDisabled&&yi.supportsFiber)try{Ot=yi.inject(ub),ft=yi}catch{}}return Vl.createRoot=function(e,t){if(!d(e))throw Error(r(299));var a=!1,n="",o=zh,c=Uh,m=Mh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=p0(e,1,!1,null,null,a,n,null,o,c,m,E0),e[Js]=t.current,Au(e),new Qu(t)},Vl.hydrateRoot=function(e,t,a){if(!d(e))throw Error(r(299));var n=!1,o="",c=zh,m=Uh,y=Mh,w=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=p0(e,1,!0,t,a??null,n,o,w,c,m,y,E0),t.context=b0(null),a=t.current,n=Vt(),n=Bi(n),o=Fa(n),o.callback=null,Wa(a,o,n),a=n,t.current.lanes=a,al(t,a),ja(t),e[Js]=t.current,Au(e),new bi(t)},Vl.version="19.2.3",Vl}var L0;function wb(){if(L0)return Zu.exports;L0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),Zu.exports=vb(),Zu.exports}var _b=wb();function Oi(i,s){var l={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&s.indexOf(r)<0&&(l[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,r=Object.getOwnPropertySymbols(i);d<r.length;d++)s.indexOf(r[d])<0&&Object.prototype.propertyIsEnumerable.call(i,r[d])&&(l[r[d]]=i[r[d]]);return l}function ie(i,s,l,r){function d(h){return h instanceof l?h:new l(function(f){f(h)})}return new(l||(l=Promise))(function(h,f){function g(v){try{p(r.next(v))}catch(j){f(j)}}function b(v){try{p(r.throw(v))}catch(j){f(j)}}function p(v){v.done?h(v.value):d(v.value).then(g,b)}p((r=r.apply(i,s||[])).next())})}const Sb=i=>i?(...s)=>i(...s):(...s)=>fetch(...s);class jc extends Error{constructor(s,l="FunctionsError",r){super(s),this.name=l,this.context=r}}class jb extends jc{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class q0 extends jc{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class H0 extends jc{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var cc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(cc||(cc={}));class kb{constructor(s,{headers:l={},customFetch:r,region:d=cc.Any}={}){this.url=s,this.headers=l,this.region=d,this.fetch=Sb(r)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s){return ie(this,arguments,void 0,function*(l,r={}){var d;let h,f;try{const{headers:g,method:b,body:p,signal:v,timeout:j}=r;let N={},{region:C}=r;C||(C=this.region);const R=new URL(`${this.url}/${l}`);C&&C!=="any"&&(N["x-region"]=C,R.searchParams.set("forceFunctionRegion",C));let z;p&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",z=p):typeof p=="string"?(N["Content-Type"]="text/plain",z=p):typeof FormData<"u"&&p instanceof FormData?z=p:(N["Content-Type"]="application/json",z=JSON.stringify(p)):z=p;let L=v;j&&(f=new AbortController,h=setTimeout(()=>f.abort(),j),v?(L=f.signal,v.addEventListener("abort",()=>f.abort())):L=f.signal);const H=yield this.fetch(R.toString(),{method:b||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),g),body:z,signal:L}).catch(le=>{throw new jb(le)}),Y=H.headers.get("x-relay-error");if(Y&&Y==="true")throw new q0(H);if(!H.ok)throw new H0(H);let $=((d=H.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),F;return $==="application/json"?F=yield H.json():$==="application/octet-stream"||$==="application/pdf"?F=yield H.blob():$==="text/event-stream"?F=H:$==="multipart/form-data"?F=yield H.formData():F=yield H.text(),{data:F,error:null,response:H}}catch(g){return{data:null,error:g,response:g instanceof H0||g instanceof q0?g.context:void 0}}finally{h&&clearTimeout(h)}})}}var pt={},zn={},Un={},Mn={},Bn={},Ln={},Nb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Jn=Nb();const Eb=Jn.fetch,Sm=Jn.fetch.bind(Jn),jm=Jn.Headers,Tb=Jn.Request,Ab=Jn.Response,Ob=Object.freeze(Object.defineProperty({__proto__:null,Headers:jm,Request:Tb,Response:Ab,default:Sm,fetch:Eb},Symbol.toStringTag,{value:"Module"})),Cb=db(Ob);var xi={},I0;function km(){if(I0)return xi;I0=1,Object.defineProperty(xi,"__esModule",{value:!0});class i extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return xi.default=i,xi}var K0;function Nm(){if(K0)return Ln;K0=1;var i=Ln&&Ln.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Ln,"__esModule",{value:!0});const s=i(Cb),l=i(km());class r{constructor(h){var f,g;this.shouldThrowOnError=!1,this.method=h.method,this.url=h.url,this.headers=new Headers(h.headers),this.schema=h.schema,this.body=h.body,this.shouldThrowOnError=(f=h.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=h.signal,this.isMaybeSingle=(g=h.isMaybeSingle)!==null&&g!==void 0?g:!1,h.fetch?this.fetch=h.fetch:typeof fetch>"u"?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(h,f){return this.headers=new Headers(this.headers),this.headers.set(h,f),this}then(h,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const g=this.fetch;let b=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,j,N,C;let R=null,z=null,L=null,H=p.status,Y=p.statusText;if(p.ok){if(this.method!=="HEAD"){const P=await p.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?z=P:z=JSON.parse(P))}const F=(j=this.headers.get("Prefer"))===null||j===void 0?void 0:j.match(/count=(exact|planned|estimated)/),le=(N=p.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");F&&le&&le.length>1&&(L=parseInt(le[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(z)&&(z.length>1?(R={code:"PGRST116",details:`Results contain ${z.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},z=null,L=null,H=406,Y="Not Acceptable"):z.length===1?z=z[0]:z=null)}else{const F=await p.text();try{R=JSON.parse(F),Array.isArray(R)&&p.status===404&&(z=[],R=null,H=200,Y="OK")}catch{p.status===404&&F===""?(H=204,Y="No Content"):R={message:F}}if(R&&this.isMaybeSingle&&(!((C=R==null?void 0:R.details)===null||C===void 0)&&C.includes("0 rows"))&&(R=null,H=200,Y="OK"),R&&this.shouldThrowOnError)throw new l.default(R)}return{error:R,data:z,count:L,status:H,statusText:Y}});return this.shouldThrowOnError||(b=b.catch(p=>{var v,j,N;return{error:{message:`${(v=p==null?void 0:p.name)!==null&&v!==void 0?v:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(j=p==null?void 0:p.stack)!==null&&j!==void 0?j:""}`,hint:"",code:`${(N=p==null?void 0:p.code)!==null&&N!==void 0?N:""}`},data:null,count:null,status:0,statusText:""}})),b.then(h,f)}returns(){return this}overrideTypes(){return this}}return Ln.default=r,Ln}var $0;function Em(){if($0)return Bn;$0=1;var i=Bn&&Bn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bn,"__esModule",{value:!0});const s=i(Nm());class l extends s.default{select(d){let h=!1;const f=(d??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(d,{ascending:h=!0,nullsFirst:f,foreignTable:g,referencedTable:b=g}={}){const p=b?`${b}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${d}.${h?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(d,{foreignTable:h,referencedTable:f=h}={}){const g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${d}`),this}range(d,h,{foreignTable:f,referencedTable:g=f}={}){const b=typeof g>"u"?"offset":`${g}.offset`,p=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(b,`${d}`),this.url.searchParams.set(p,`${h-d+1}`),this}abortSignal(d){return this.signal=d,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:d=!1,verbose:h=!1,settings:f=!1,buffers:g=!1,wal:b=!1,format:p="text"}={}){var v;const j=[d?"analyze":null,h?"verbose":null,f?"settings":null,g?"buffers":null,b?"wal":null].filter(Boolean).join("|"),N=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${N}"; options=${j};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(d){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${d}`),this}}return Bn.default=l,Bn}var G0;function kc(){if(G0)return Mn;G0=1;var i=Mn&&Mn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mn,"__esModule",{value:!0});const s=i(Em());class l extends s.default{eq(d,h){return this.url.searchParams.append(d,`eq.${h}`),this}neq(d,h){return this.url.searchParams.append(d,`neq.${h}`),this}gt(d,h){return this.url.searchParams.append(d,`gt.${h}`),this}gte(d,h){return this.url.searchParams.append(d,`gte.${h}`),this}lt(d,h){return this.url.searchParams.append(d,`lt.${h}`),this}lte(d,h){return this.url.searchParams.append(d,`lte.${h}`),this}like(d,h){return this.url.searchParams.append(d,`like.${h}`),this}likeAllOf(d,h){return this.url.searchParams.append(d,`like(all).{${h.join(",")}}`),this}likeAnyOf(d,h){return this.url.searchParams.append(d,`like(any).{${h.join(",")}}`),this}ilike(d,h){return this.url.searchParams.append(d,`ilike.${h}`),this}ilikeAllOf(d,h){return this.url.searchParams.append(d,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(d,h){return this.url.searchParams.append(d,`ilike(any).{${h.join(",")}}`),this}is(d,h){return this.url.searchParams.append(d,`is.${h}`),this}in(d,h){const f=Array.from(new Set(h)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(d,`in.(${f})`),this}contains(d,h){return typeof h=="string"?this.url.searchParams.append(d,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(d,`cs.{${h.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(h)}`),this}containedBy(d,h){return typeof h=="string"?this.url.searchParams.append(d,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(d,`cd.{${h.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(h)}`),this}rangeGt(d,h){return this.url.searchParams.append(d,`sr.${h}`),this}rangeGte(d,h){return this.url.searchParams.append(d,`nxl.${h}`),this}rangeLt(d,h){return this.url.searchParams.append(d,`sl.${h}`),this}rangeLte(d,h){return this.url.searchParams.append(d,`nxr.${h}`),this}rangeAdjacent(d,h){return this.url.searchParams.append(d,`adj.${h}`),this}overlaps(d,h){return typeof h=="string"?this.url.searchParams.append(d,`ov.${h}`):this.url.searchParams.append(d,`ov.{${h.join(",")}}`),this}textSearch(d,h,{config:f,type:g}={}){let b="";g==="plain"?b="pl":g==="phrase"?b="ph":g==="websearch"&&(b="w");const p=f===void 0?"":`(${f})`;return this.url.searchParams.append(d,`${b}fts${p}.${h}`),this}match(d){return Object.entries(d).forEach(([h,f])=>{this.url.searchParams.append(h,`eq.${f}`)}),this}not(d,h,f){return this.url.searchParams.append(d,`not.${h}.${f}`),this}or(d,{foreignTable:h,referencedTable:f=h}={}){const g=f?`${f}.or`:"or";return this.url.searchParams.append(g,`(${d})`),this}filter(d,h,f){return this.url.searchParams.append(d,`${h}.${f}`),this}}return Mn.default=l,Mn}var Y0;function Tm(){if(Y0)return Un;Y0=1;var i=Un&&Un.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Un,"__esModule",{value:!0});const s=i(kc());class l{constructor(d,{headers:h={},schema:f,fetch:g}){this.url=d,this.headers=new Headers(h),this.schema=f,this.fetch=g}select(d,{head:h=!1,count:f}={}){const g=h?"HEAD":"GET";let b=!1;const p=(d??"*").split("").map(v=>/\s/.test(v)&&!b?"":(v==='"'&&(b=!b),v)).join("");return this.url.searchParams.set("select",p),f&&this.headers.append("Prefer",`count=${f}`),new s.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(d,{count:h,defaultToNull:f=!0}={}){var g;const b="POST";if(h&&this.headers.append("Prefer",`count=${h}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const p=d.reduce((v,j)=>v.concat(Object.keys(j)),[]);if(p.length>0){const v=[...new Set(p)].map(j=>`"${j}"`);this.url.searchParams.set("columns",v.join(","))}}return new s.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(d,{onConflict:h,ignoreDuplicates:f=!1,count:g,defaultToNull:b=!0}={}){var p;const v="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),h!==void 0&&this.url.searchParams.set("on_conflict",h),g&&this.headers.append("Prefer",`count=${g}`),b||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const j=d.reduce((N,C)=>N.concat(Object.keys(C)),[]);if(j.length>0){const N=[...new Set(j)].map(C=>`"${C}"`);this.url.searchParams.set("columns",N.join(","))}}return new s.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(d,{count:h}={}){var f;const g="PATCH";return h&&this.headers.append("Prefer",`count=${h}`),new s.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:d}={}){var h;const f="DELETE";return d&&this.headers.append("Prefer",`count=${d}`),new s.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Un.default=l,Un}var P0;function Db(){if(P0)return zn;P0=1;var i=zn&&zn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(zn,"__esModule",{value:!0});const s=i(Tm()),l=i(kc());class r{constructor(h,{headers:f={},schema:g,fetch:b}={}){this.url=h,this.headers=new Headers(f),this.schemaName=g,this.fetch=b}from(h){const f=new URL(`${this.url}/${h}`);return new s.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new r(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,f={},{head:g=!1,get:b=!1,count:p}={}){var v;let j;const N=new URL(`${this.url}/rpc/${h}`);let C;g||b?(j=g?"HEAD":"GET",Object.entries(f).filter(([z,L])=>L!==void 0).map(([z,L])=>[z,Array.isArray(L)?`{${L.join(",")}}`:`${L}`]).forEach(([z,L])=>{N.searchParams.append(z,L)})):(j="POST",C=f);const R=new Headers(this.headers);return p&&R.set("Prefer",`count=${p}`),new l.default({method:j,url:N,headers:R,schema:this.schemaName,body:C,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return zn.default=r,zn}var V0;function Rb(){if(V0)return pt;V0=1;var i=pt&&pt.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(pt,"__esModule",{value:!0}),pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const s=i(Db());pt.PostgrestClient=s.default;const l=i(Tm());pt.PostgrestQueryBuilder=l.default;const r=i(kc());pt.PostgrestFilterBuilder=r.default;const d=i(Em());pt.PostgrestTransformBuilder=d.default;const h=i(Nm());pt.PostgrestBuilder=h.default;const f=i(km());return pt.PostgrestError=f.default,pt.default={PostgrestClient:s.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:d.default,PostgrestBuilder:h.default,PostgrestError:f.default},pt}var zb=Rb();const Ub=_m(zb),{PostgrestClient:Mb,PostgrestQueryBuilder:Av,PostgrestFilterBuilder:Ov,PostgrestTransformBuilder:Cv,PostgrestBuilder:Dv,PostgrestError:Rv}=Ub;class Bb{constructor(){}static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const l=process.versions;if(l&&l.node){const r=l.node,d=parseInt(r.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let l=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(l+=`

Suggested solution: ${s.workaround}`),new Error(l)}static createWebSocket(s,l){const r=this.getWebSocketConstructor();return new r(s,l)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const Lb="2.87.1",qb=`realtime-js/${Lb}`,Am="1.0.0",Hb="2.0.0",Q0=Am,dc=1e4,Ib=1e3,Kb=100;var Is;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Is||(Is={}));var ht;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ht||(ht={}));var ga;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(ga||(ga={}));var hc;(function(i){i.websocket="websocket"})(hc||(hc={}));var Ks;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Ks||(Ks={}));class $b{constructor(s){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=s??[]}encode(s,l){if(s.event===this.BROADCAST_EVENT&&!(s.payload instanceof ArrayBuffer)&&typeof s.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(s));let r=[s.join_ref,s.ref,s.topic,s.event,s.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(s){var l;return this._isArrayBuffer((l=s.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(s):this._encodeJsonUserBroadcastPush(s)}_encodeBinaryUserBroadcastPush(s){var l,r;const d=(r=(l=s.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(s,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(s){var l,r;const d=(r=(l=s.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(s,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(s,l,r){var d,h;const f=s.topic,g=(d=s.ref)!==null&&d!==void 0?d:"",b=(h=s.join_ref)!==null&&h!==void 0?h:"",p=s.payload.event,v=this.allowedMetadataKeys?this._pick(s.payload,this.allowedMetadataKeys):{},j=Object.keys(v).length===0?"":JSON.stringify(v);if(b.length>255)throw new Error(`joinRef length ${b.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(j.length>255)throw new Error(`metadata length ${j.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+b.length+g.length+f.length+p.length+j.length,C=new ArrayBuffer(this.HEADER_LENGTH+N);let R=new DataView(C),z=0;R.setUint8(z++,this.KINDS.userBroadcastPush),R.setUint8(z++,b.length),R.setUint8(z++,g.length),R.setUint8(z++,f.length),R.setUint8(z++,p.length),R.setUint8(z++,j.length),R.setUint8(z++,l),Array.from(b,H=>R.setUint8(z++,H.charCodeAt(0))),Array.from(g,H=>R.setUint8(z++,H.charCodeAt(0))),Array.from(f,H=>R.setUint8(z++,H.charCodeAt(0))),Array.from(p,H=>R.setUint8(z++,H.charCodeAt(0))),Array.from(j,H=>R.setUint8(z++,H.charCodeAt(0)));var L=new Uint8Array(C.byteLength+r.byteLength);return L.set(new Uint8Array(C),0),L.set(new Uint8Array(r),C.byteLength),L.buffer}decode(s,l){if(this._isArrayBuffer(s)){let r=this._binaryDecode(s);return l(r)}if(typeof s=="string"){const r=JSON.parse(s),[d,h,f,g,b]=r;return l({join_ref:d,ref:h,topic:f,event:g,payload:b})}return l({})}_binaryDecode(s){const l=new DataView(s),r=l.getUint8(0),d=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(s,l,d)}}_decodeUserBroadcast(s,l,r){const d=l.getUint8(1),h=l.getUint8(2),f=l.getUint8(3),g=l.getUint8(4);let b=this.HEADER_LENGTH+4;const p=r.decode(s.slice(b,b+d));b=b+d;const v=r.decode(s.slice(b,b+h));b=b+h;const j=r.decode(s.slice(b,b+f));b=b+f;const N=s.slice(b,s.byteLength),C=g===this.JSON_ENCODING?JSON.parse(r.decode(N)):N,R={type:this.BROADCAST_EVENT,event:v,payload:C};return f>0&&(R.meta=JSON.parse(j)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:R}}_isArrayBuffer(s){var l;return s instanceof ArrayBuffer||((l=s==null?void 0:s.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(s,l){return!s||typeof s!="object"?{}:Object.fromEntries(Object.entries(s).filter(([r])=>l.includes(r)))}}class Om{constructor(s,l){this.callback=s,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Qe||(Qe={}));const J0=(i,s,l={})=>{var r;const d=(r=l.skipTypes)!==null&&r!==void 0?r:[];return s?Object.keys(s).reduce((h,f)=>(h[f]=Gb(f,i,s,d),h),{}):{}},Gb=(i,s,l,r)=>{const d=s.find(g=>g.name===i),h=d==null?void 0:d.type,f=l[i];return h&&!r.includes(h)?Cm(h,f):fc(f)},Cm=(i,s)=>{if(i.charAt(0)==="_"){const l=i.slice(1,i.length);return Qb(s,l)}switch(i){case Qe.bool:return Yb(s);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return Pb(s);case Qe.json:case Qe.jsonb:return Vb(s);case Qe.timestamp:return Jb(s);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return fc(s);default:return fc(s)}},fc=i=>i,Yb=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Pb=i=>{if(typeof i=="string"){const s=parseFloat(i);if(!Number.isNaN(s))return s}return i},Vb=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(s){return console.log(`JSON parse error: ${s}`),i}return i},Qb=(i,s)=>{if(typeof i!="string")return i;const l=i.length-1,r=i[l];if(i[0]==="{"&&r==="}"){let h;const f=i.slice(1,l);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(g=>Cm(s,g))}return i},Jb=i=>typeof i=="string"?i.replace(" ","T"):i,Dm=i=>{const s=new URL(i);return s.protocol=s.protocol.replace(/^ws/i,"http"),s.pathname=s.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),s.pathname===""||s.pathname==="/"?s.pathname="/api/broadcast":s.pathname=s.pathname+"/api/broadcast",s.href};class tc{constructor(s,l,r={},d=dc){this.channel=s,this.event=l,this.payload=r,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,l){var r;return this._hasReceived(s)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:s,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:l}){this.recHooks.filter(r=>r.status===s).forEach(r=>r.callback(l))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var X0;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(X0||(X0={}));class Jl{constructor(s,l){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},d=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jl.syncState(this.state,d,h,f),this.pendingDiffs.forEach(b=>{this.state=Jl.syncDiff(this.state,b,h,f)}),this.pendingDiffs=[],g()}),this.channel._on(r.diff,{},d=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=Jl.syncDiff(this.state,d,h,f),g())}),this.onJoin((d,h,f)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:h,newPresences:f})}),this.onLeave((d,h,f)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,l,r,d){const h=this.cloneDeep(s),f=this.transformState(l),g={},b={};return this.map(h,(p,v)=>{f[p]||(b[p]=v)}),this.map(f,(p,v)=>{const j=h[p];if(j){const N=v.map(L=>L.presence_ref),C=j.map(L=>L.presence_ref),R=v.filter(L=>C.indexOf(L.presence_ref)<0),z=j.filter(L=>N.indexOf(L.presence_ref)<0);R.length>0&&(g[p]=R),z.length>0&&(b[p]=z)}else g[p]=v}),this.syncDiff(h,{joins:g,leaves:b},r,d)}static syncDiff(s,l,r,d){const{joins:h,leaves:f}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),d||(d=()=>{}),this.map(h,(g,b)=>{var p;const v=(p=s[g])!==null&&p!==void 0?p:[];if(s[g]=this.cloneDeep(b),v.length>0){const j=s[g].map(C=>C.presence_ref),N=v.filter(C=>j.indexOf(C.presence_ref)<0);s[g].unshift(...N)}r(g,v,b)}),this.map(f,(g,b)=>{let p=s[g];if(!p)return;const v=b.map(j=>j.presence_ref);p=p.filter(j=>v.indexOf(j.presence_ref)<0),s[g]=p,d(g,p,b),p.length===0&&delete s[g]}),s}static map(s,l){return Object.getOwnPropertyNames(s).map(r=>l(r,s[r]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((l,r)=>{const d=s[r];return"metas"in d?l[r]=d.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):l[r]=d,l},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Z0;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Z0||(Z0={}));var Xl;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Xl||(Xl={}));var Ga;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Ga||(Ga={}));class Vn{constructor(s,l={config:{}},r){var d,h;if(this.topic=s,this.params=l,this.socket=r,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new tc(this,ga.join,this.params,this.timeout),this.rejoinTimer=new Om(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ga.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new Jl(this),this.broadcastEndpointURL=Dm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(s,l=this.timeout){var r,d,h;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:f,presence:g,private:b}}=this.params,p=(d=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(C=>C.filter))!==null&&d!==void 0?d:[],v=!!this.bindings[Xl.PRESENCE]&&this.bindings[Xl.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,j={},N={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:v}),postgres_changes:p,private:b};this.socket.accessTokenValue&&(j.access_token=this.socket.accessTokenValue),this._onError(C=>s==null?void 0:s(Ga.CHANNEL_ERROR,C)),this._onClose(()=>s==null?void 0:s(Ga.CLOSED)),this.updateJoinPayload(Object.assign({config:N},j)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:C})=>{var R;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){s==null||s(Ga.SUBSCRIBED);return}else{const z=this.bindings.postgres_changes,L=(R=z==null?void 0:z.length)!==null&&R!==void 0?R:0,H=[];for(let Y=0;Y<L;Y++){const $=z[Y],{filter:{event:F,schema:le,table:P,filter:Q}}=$,se=C&&C[Y];if(se&&se.event===F&&Vn.isFilterValueEqual(se.schema,le)&&Vn.isFilterValueEqual(se.table,P)&&Vn.isFilterValueEqual(se.filter,Q))H.push(Object.assign(Object.assign({},$),{id:se.id}));else{this.unsubscribe(),this.state=ht.errored,s==null||s(Ga.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=H,s&&s(Ga.SUBSCRIBED);return}}).receive("error",C=>{this.state=ht.errored,s==null||s(Ga.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(Ga.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,l={}){return await this.send({type:"presence",event:"track",payload:s},l.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,l,r){return this.state===ht.joined&&s===Xl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(s,l,r)}async httpSend(s,l,r={}){var d;const h=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(l==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:h,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(d=r.timeout)!==null&&d!==void 0?d:this.timeout);if(g.status===202)return{success:!0};let b=g.statusText;try{const p=await g.json();b=p.error||p.message||b}catch{}return Promise.reject(new Error(b))}async send(s,l={}){var r,d;if(!this._canPush()&&s.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=s,b={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,b,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((d=p.body)===null||d===void 0?void 0:d.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,g,b;const p=this._push(s.type,s,l.timeout||this.timeout);s.type==="broadcast"&&!(!((b=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||b===void 0)&&b.ack)&&h("ok"),p.receive("ok",()=>h("ok")),p.receive("error",()=>h("error")),p.receive("timeout",()=>h("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=ht.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ga.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(d=>{r=new tc(this,ga.leave,{},s),r.receive("ok",()=>{l(),d("ok")}).receive("timeout",()=>{l(),d("timed out")}).receive("error",()=>{d("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(s,l,r){const d=new AbortController,h=setTimeout(()=>d.abort(),r),f=await this.socket.fetch(s,Object.assign(Object.assign({},l),{signal:d.signal}));return clearTimeout(h),f}_push(s,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new tc(this,s,l,r);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>Kb){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(s,l,r){return l}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,l,r){var d,h;const f=s.toLocaleLowerCase(),{close:g,error:b,leave:p,join:v}=ga;if(r&&[g,b,p,v].indexOf(f)>=0&&r!==this._joinRef())return;let N=this._onMessage(f,l,r);if(l&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(C=>{var R,z,L;return((R=C.filter)===null||R===void 0?void 0:R.event)==="*"||((L=(z=C.filter)===null||z===void 0?void 0:z.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===f}).map(C=>C.callback(N,r)):(h=this.bindings[f])===null||h===void 0||h.filter(C=>{var R,z,L,H,Y,$;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in C){const F=C.id,le=(R=C.filter)===null||R===void 0?void 0:R.event;return F&&((z=l.ids)===null||z===void 0?void 0:z.includes(F))&&(le==="*"||(le==null?void 0:le.toLocaleLowerCase())===((L=l.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const F=(Y=(H=C==null?void 0:C.filter)===null||H===void 0?void 0:H.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return F==="*"||F===(($=l==null?void 0:l.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===f}).map(C=>{if(typeof N=="object"&&"ids"in N){const R=N.data,{schema:z,table:L,commit_timestamp:H,type:Y,errors:$}=R;N=Object.assign(Object.assign({},{schema:z,table:L,commit_timestamp:H,eventType:Y,new:{},old:{},errors:$}),this._getPayloadRecords(R))}C.callback(N,r)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,l,r){const d=s.toLocaleLowerCase(),h={type:d,filter:l,callback:r};return this.bindings[d]?this.bindings[d].push(h):this.bindings[d]=[h],this}_off(s,l){const r=s.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(d=>{var h;return!(((h=d.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===r&&Vn.isEqual(d.filter,l))})),this}static isEqual(s,l){if(Object.keys(s).length!==Object.keys(l).length)return!1;for(const r in s)if(s[r]!==l[r])return!1;return!0}static isFilterValueEqual(s,l){return(s??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(ga.close,{},s)}_onError(s){this._on(ga.error,{},l=>s(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const l={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(l.new=J0(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(l.old=J0(s.columns,s.old_record)),l}}const ac=()=>{},vi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xb=[1e3,2e3,5e3,1e4],Zb=1e4,Fb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wb{constructor(s,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dc,this.transport=null,this.heartbeatIntervalMs=vi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ac,this.ref=0,this.reconnectTimer=null,this.vsn=Q0,this.logger=ac,this.conn=null,this.sendBuffer=[],this.serializer=new $b,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=d=>d?(...h)=>d(...h):(...h)=>fetch(...h),!(!((r=l==null?void 0:l.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${s}/${hc.websocket}`,this.httpEndpoint=Dm(s),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l==null?void 0:l.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bb.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const l=s.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(s,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(s?this.conn.close(s,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const l=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const s=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,l,r){this.logger(s,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Is.connecting:return Ks.Connecting;case Is.open:return Ks.Open;case Is.closing:return Ks.Closing;default:return Ks.Closed}}isConnected(){return this.connectionState()===Ks.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,l={config:{}}){const r=`realtime:${s}`,d=this.getChannels().find(h=>h.topic===r);if(d)return d;{const h=new Vn(`realtime:${s}`,l,this);return this.channels.push(h),h}}push(s){const{topic:l,event:r,payload:d,ref:h}=s,f=()=>{this.encode(s,g=>{var b;(b=this.conn)===null||b===void 0||b.send(g)})};this.log("push",`${l} ${r} (${h})`,d),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var s;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(Ib,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},vi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let l=this.channels.find(r=>r.topic===s&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${s}"`),l.unsubscribe())}_remove(s){this.channels=this.channels.filter(l=>l.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:d,payload:h,ref:f}=l,g=f?`(${f})`:"",b=h.status||"";this.log("receive",`${b} ${r} ${d} ${g}`.trim(),h),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(d,h,f)),this._triggerStateCallbacks("message",l)})}_clearTimer(s){var l;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Is.open||this.conn.readyState===Is.connecting)try{this.conn.close()}catch(s){this.log("error","Error closing connection",s)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){var l;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s)}_triggerChanError(){this.channels.forEach(s=>s._trigger(ga.error))}_appendParams(s,l){if(Object.keys(l).length===0)return s;const r=s.match(/\?/)?"&":"?",d=new URLSearchParams(l);return`${s}${r}${d}`}_workerObjectUrl(s){let l;if(s)l=s;else{const r=new Blob([Fb],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(s,l=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(s=null){let l,r=!1;if(s)l=s,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(d){this.log("error","Error fetching access token from callback",d),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(d=>{const h={access_token:l,version:qb};l&&d.updateJoinPayload(h),d.joinedOnce&&d._isJoined()&&d._push(ga.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${s}`,l)})}_triggerStateCallbacks(s,l){try{this.stateChangeCallbacks[s].forEach(r=>{try{r(l)}catch(d){this.log("error",`error in ${s} callback`,d)}})}catch(r){this.log("error",`error triggering ${s} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Om(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var l,r,d,h,f,g,b,p,v,j,N,C;switch(this.transport=(l=s==null?void 0:s.transport)!==null&&l!==void 0?l:null,this.timeout=(r=s==null?void 0:s.timeout)!==null&&r!==void 0?r:dc,this.heartbeatIntervalMs=(d=s==null?void 0:s.heartbeatIntervalMs)!==null&&d!==void 0?d:vi.HEARTBEAT_INTERVAL,this.worker=(h=s==null?void 0:s.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=s==null?void 0:s.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=s==null?void 0:s.heartbeatCallback)!==null&&g!==void 0?g:ac,this.vsn=(b=s==null?void 0:s.vsn)!==null&&b!==void 0?b:Q0,s!=null&&s.params&&(this.params=s.params),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=s==null?void 0:s.reconnectAfterMs)!==null&&p!==void 0?p:(R=>Xb[R-1]||Zb),this.vsn){case Am:this.encode=(v=s==null?void 0:s.encode)!==null&&v!==void 0?v:((R,z)=>z(JSON.stringify(R))),this.decode=(j=s==null?void 0:s.decode)!==null&&j!==void 0?j:((R,z)=>z(JSON.parse(R)));break;case Hb:this.encode=(N=s==null?void 0:s.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(C=s==null?void 0:s.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s==null?void 0:s.workerUrl}}}class Ci extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function We(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class ey extends Ci{constructor(s,l,r){super(s),this.name="StorageApiError",this.status=l,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mc extends Ci{constructor(s,l){super(s),this.name="StorageUnknownError",this.originalError=l}}const Nc=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),ty=()=>Response,gc=i=>{if(Array.isArray(i))return i.map(l=>gc(l));if(typeof i=="function"||i!==Object(i))return i;const s={};return Object.entries(i).forEach(([l,r])=>{const d=l.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));s[d]=gc(r)}),s},ay=i=>{if(typeof i!="object"||i===null)return!1;const s=Object.getPrototypeOf(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},sy=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),sc=i=>{var s;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(s=i.error)===null||s===void 0?void 0:s.message)||JSON.stringify(i)},ny=(i,s,l)=>ie(void 0,void 0,void 0,function*(){const r=yield ty();i instanceof r&&!(l!=null&&l.noResolveJson)?i.json().then(d=>{const h=i.status||500,f=(d==null?void 0:d.statusCode)||h+"";s(new ey(sc(d),h,f))}).catch(d=>{s(new mc(sc(d),d))}):s(new mc(sc(i),i))}),ly=(i,s,l,r)=>{const d={method:i,headers:(s==null?void 0:s.headers)||{}};return i==="GET"||!r?d:(ay(r)?(d.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),d.body=JSON.stringify(r)):d.body=r,s!=null&&s.duplex&&(d.duplex=s.duplex),Object.assign(Object.assign({},d),l))};function ar(i,s,l,r,d,h){return ie(this,void 0,void 0,function*(){return new Promise((f,g)=>{i(l,ly(s,r,d,h)).then(b=>{if(!b.ok)throw b;return r!=null&&r.noResolveJson?b:b.json()}).then(b=>f(b)).catch(b=>ny(b,g,r))})})}function Zl(i,s,l,r){return ie(this,void 0,void 0,function*(){return ar(i,"GET",s,l,r)})}function ma(i,s,l,r,d){return ie(this,void 0,void 0,function*(){return ar(i,"POST",s,r,d,l)})}function pc(i,s,l,r,d){return ie(this,void 0,void 0,function*(){return ar(i,"PUT",s,r,d,l)})}function ry(i,s,l,r){return ie(this,void 0,void 0,function*(){return ar(i,"HEAD",s,Object.assign(Object.assign({},l),{noResolveJson:!0}),r)})}function Ec(i,s,l,r,d){return ie(this,void 0,void 0,function*(){return ar(i,"DELETE",s,r,d,l)})}class iy{constructor(s,l){this.downloadFn=s,this.shouldThrowOnError=l}then(s,l){return this.execute().then(s,l)}execute(){return ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}}var Rm;class oy{constructor(s,l){this.downloadFn=s,this.shouldThrowOnError=l,this[Rm]="BlobDownloadBuilder",this.promise=null}asStream(){return new iy(this.downloadFn,this.shouldThrowOnError)}then(s,l){return this.getPromise().then(s,l)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}}Rm=Symbol.toStringTag;const uy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},F0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cy{constructor(s,l={},r,d){this.shouldThrowOnError=!1,this.url=s,this.headers=l,this.bucketId=r,this.fetch=Nc(d)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(s,l,r,d){return ie(this,void 0,void 0,function*(){try{let h;const f=Object.assign(Object.assign({},F0),d);let g=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const b=f.metadata;typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),b&&h.append("metadata",this.encodeMetadata(b)),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),b&&!h.has("metadata")&&h.append("metadata",this.encodeMetadata(b))):(h=r,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,b&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(b))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),d!=null&&d.headers&&(g=Object.assign(Object.assign({},g),d.headers));const p=this._removeEmptyFolders(l),v=this._getFinalPath(p),j=yield(s=="PUT"?pc:ma)(this.fetch,`${this.url}/object/${v}`,h,Object.assign({headers:g},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:j.Id,fullPath:j.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(We(h))return{data:null,error:h};throw h}})}upload(s,l,r){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,l,r)})}uploadToSignedUrl(s,l,r,d){return ie(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(s),f=this._getFinalPath(h),g=new URL(this.url+`/object/upload/sign/${f}`);g.searchParams.set("token",l);try{let b;const p=Object.assign({upsert:F0.upsert},d),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(b=new FormData,b.append("cacheControl",p.cacheControl),b.append("",r)):typeof FormData<"u"&&r instanceof FormData?(b=r,b.append("cacheControl",p.cacheControl)):(b=r,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const j=yield pc(this.fetch,g.toString(),b,{headers:v});return{data:{path:h,fullPath:j.Key},error:null}}catch(b){if(this.shouldThrowOnError)throw b;if(We(b))return{data:null,error:b};throw b}})}createSignedUploadUrl(s,l){return ie(this,void 0,void 0,function*(){try{let r=this._getFinalPath(s);const d=Object.assign({},this.headers);l!=null&&l.upsert&&(d["x-upsert"]="true");const h=yield ma(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:d}),f=new URL(this.url+h.url),g=f.searchParams.get("token");if(!g)throw new Ci("No token returned by API");return{data:{signedUrl:f.toString(),path:s,token:g},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}update(s,l,r){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,l,r)})}move(s,l,r){return ie(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:l,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(We(d))return{data:null,error:d};throw d}})}copy(s,l,r){return ie(this,void 0,void 0,function*(){try{return{data:{path:(yield ma(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:l,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(We(d))return{data:null,error:d};throw d}})}createSignedUrl(s,l,r){return ie(this,void 0,void 0,function*(){try{let d=this._getFinalPath(s),h=yield ma(this.fetch,`${this.url}/object/sign/${d}`,Object.assign({expiresIn:l},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const f=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(We(d))return{data:null,error:d};throw d}})}createSignedUrls(s,l,r){return ie(this,void 0,void 0,function*(){try{const d=yield ma(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:s},{headers:this.headers}),h=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:d.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${h}`):null})),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(We(d))return{data:null,error:d};throw d}})}download(s,l){const d=typeof(l==null?void 0:l.transform)<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString((l==null?void 0:l.transform)||{}),f=h?`?${h}`:"",g=this._getFinalPath(s),b=()=>Zl(this.fetch,`${this.url}/${d}/${g}${f}`,{headers:this.headers,noResolveJson:!0});return new oy(b,this.shouldThrowOnError)}info(s){return ie(this,void 0,void 0,function*(){const l=this._getFinalPath(s);try{const r=yield Zl(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:gc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}exists(s){return ie(this,void 0,void 0,function*(){const l=this._getFinalPath(s);try{return yield ry(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r)&&r instanceof mc){const d=r.originalError;if([400,404].includes(d==null?void 0:d.status))return{data:!1,error:r}}throw r}})}getPublicUrl(s,l){const r=this._getFinalPath(s),d=[],h=l!=null&&l.download?`download=${l.download===!0?"":l.download}`:"";h!==""&&d.push(h);const g=typeof(l==null?void 0:l.transform)<"u"?"render/image":"object",b=this.transformOptsToQueryString((l==null?void 0:l.transform)||{});b!==""&&d.push(b);let p=d.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${r}${p}`)}}}remove(s){return ie(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}list(s,l,r){return ie(this,void 0,void 0,function*(){try{const d=Object.assign(Object.assign(Object.assign({},uy),l),{prefix:s||""});return{data:yield ma(this.fetch,`${this.url}/object/list/${this.bucketId}`,d,{headers:this.headers},r),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(We(d))return{data:null,error:d};throw d}})}listV2(s,l){return ie(this,void 0,void 0,function*(){try{const r=Object.assign({},s);return{data:yield ma(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},l),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const l=[];return s.width&&l.push(`width=${s.width}`),s.height&&l.push(`height=${s.height}`),s.resize&&l.push(`resize=${s.resize}`),s.format&&l.push(`format=${s.format}`),s.quality&&l.push(`quality=${s.quality}`),l.join("&")}}const zm="2.87.1",Um={"X-Client-Info":`storage-js/${zm}`};class dy{constructor(s,l={},r,d){this.shouldThrowOnError=!1;const h=new URL(s);d!=null&&d.useNewHostname&&/supabase\.(co|in|red)$/.test(h.hostname)&&!h.hostname.includes("storage.supabase.")&&(h.hostname=h.hostname.replace("supabase.","storage.supabase.")),this.url=h.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Um),l),this.fetch=Nc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(s){return ie(this,void 0,void 0,function*(){try{const l=this.listBucketOptionsToQueryString(s);return{data:yield Zl(this.fetch,`${this.url}/bucket${l}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}getBucket(s){return ie(this,void 0,void 0,function*(){try{return{data:yield Zl(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}createBucket(s){return ie(this,arguments,void 0,function*(l,r={public:!1}){try{return{data:yield ma(this.fetch,`${this.url}/bucket`,{id:l,name:l,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(We(d))return{data:null,error:d};throw d}})}updateBucket(s,l){return ie(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}emptyBucket(s){return ie(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}deleteBucket(s){return ie(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}listBucketOptionsToQueryString(s){const l={};return s&&("limit"in s&&(l.limit=String(s.limit)),"offset"in s&&(l.offset=String(s.offset)),s.search&&(l.search=s.search),s.sortColumn&&(l.sortColumn=s.sortColumn),s.sortOrder&&(l.sortOrder=s.sortOrder)),Object.keys(l).length>0?"?"+new URLSearchParams(l).toString():""}}var Fl=class extends Error{constructor(i,s){var l;super(i),this.name="IcebergError",this.status=s.status,this.icebergType=s.icebergType,this.icebergCode=s.icebergCode,this.details=s.details,this.isCommitStateUnknown=s.icebergType==="CommitStateUnknownException"||[500,502,504].includes(s.status)&&((l=s.icebergType)==null?void 0:l.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function hy(i,s,l){const r=new URL(s,i);if(l)for(const[d,h]of Object.entries(l))h!==void 0&&r.searchParams.set(d,h);return r.toString()}async function fy(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function my(i){const s=i.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:d,body:h,headers:f}){const g=hy(i.baseUrl,r,d),b=await fy(i.auth),p=await s(g,{method:l,headers:{...h?{"Content-Type":"application/json"}:{},...b,...f},body:h?JSON.stringify(h):void 0}),v=await p.text(),j=(p.headers.get("content-type")||"").includes("application/json"),N=j&&v?JSON.parse(v):v;if(!p.ok){const C=j?N:void 0,R=C==null?void 0:C.error;throw new Fl((R==null?void 0:R.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:R==null?void 0:R.type,icebergCode:R==null?void 0:R.code,details:C})}return{status:p.status,headers:p.headers,data:N}}}}function wi(i){return i.join("")}var gy=class{constructor(i,s=""){this.client=i,this.prefix=s}async listNamespaces(i){const s=i?{parent:wi(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:s})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(i,s){const l={namespace:i.namespace,properties:s==null?void 0:s.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wi(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wi(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wi(i.namespace)}`}),!0}catch(s){if(s instanceof Fl&&s.status===404)return!1;throw s}}async createNamespaceIfNotExists(i,s){try{return await this.createNamespace(i,s)}catch(l){if(l instanceof Fl&&l.status===409)return;throw l}}};function qn(i){return i.join("")}var py=class{constructor(i,s="",l){this.client=i,this.prefix=s,this.accessDelegation=l}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qn(i.namespace)}/tables`})).data.identifiers}async createTable(i,s){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qn(i.namespace)}/tables`,body:s,headers:l})).data.metadata}async updateTable(i,s){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qn(i.namespace)}/tables/${i.name}`,body:s});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(i,s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qn(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((s==null?void 0:s.purge)??!1)}})}async loadTable(i){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qn(i.namespace)}/tables/${i.name}`,headers:s})).data.metadata}async tableExists(i){const s={};this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qn(i.namespace)}/tables/${i.name}`,headers:s}),!0}catch(l){if(l instanceof Fl&&l.status===404)return!1;throw l}}async createTableIfNotExists(i,s){try{return await this.createTable(i,s)}catch(l){if(l instanceof Fl&&l.status===409)return await this.loadTable({namespace:i.namespace,name:s.name});throw l}}},by=class{constructor(i){var r;let s="v1";i.catalogName&&(s+=`/${i.catalogName}`);const l=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=my({baseUrl:l,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(r=i.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new gy(this.client,s),this.tableOps=new py(this.client,s,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,s){return this.namespaceOps.createNamespace(i,s)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,s){return this.tableOps.createTable(i,s)}async updateTable(i,s){return this.tableOps.updateTable(i,s)}async dropTable(i,s){await this.tableOps.dropTable(i,s)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,s){return this.namespaceOps.createNamespaceIfNotExists(i,s)}async createTableIfNotExists(i,s){return this.tableOps.createTableIfNotExists(i,s)}};class yy{constructor(s,l={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Um),l),this.fetch=Nc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(s){return ie(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/bucket`,{name:s},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}listBuckets(s){return ie(this,void 0,void 0,function*(){try{const l=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&l.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&l.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&l.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&l.set("sortOrder",s.sortOrder),s!=null&&s.search&&l.set("search",s.search);const r=l.toString(),d=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Zl(this.fetch,d,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}deleteBucket(s){return ie(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}from(s){if(!sy(s))throw new Ci("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new by({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:()=>ie(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(h,f){const g=h[f];return typeof g!="function"?g:(...b)=>ie(this,void 0,void 0,function*(){try{return{data:yield g.apply(h,b),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}})}})}}const Tc={"X-Client-Info":`storage-js/${zm}`,"Content-Type":"application/json"};class Mm extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Jt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class nc extends Mm{constructor(s,l,r){super(s),this.name="StorageVectorsApiError",this.status=l,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xy extends Mm{constructor(s,l){super(s),this.name="StorageVectorsUnknownError",this.originalError=l}}var W0;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(W0||(W0={}));const Ac=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),vy=i=>{if(typeof i!="object"||i===null)return!1;const s=Object.getPrototypeOf(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},em=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),wy=(i,s,l)=>ie(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(l!=null&&l.noResolveJson)){const d=i.status||500,h=i;if(typeof h.json=="function")h.json().then(f=>{const g=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||d+"";s(new nc(em(f),d,g))}).catch(()=>{const f=d+"",g=h.statusText||`HTTP ${d} error`;s(new nc(g,d,f))});else{const f=d+"",g=h.statusText||`HTTP ${d} error`;s(new nc(g,d,f))}}else s(new xy(em(i),i))}),_y=(i,s,l,r)=>{const d={method:i,headers:(s==null?void 0:s.headers)||{}};return r?(vy(r)?(d.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),d.body=JSON.stringify(r)):d.body=r,Object.assign(Object.assign({},d),l)):d};function Sy(i,s,l,r,d,h){return ie(this,void 0,void 0,function*(){return new Promise((f,g)=>{i(l,_y(s,r,d,h)).then(b=>{if(!b.ok)throw b;if(r!=null&&r.noResolveJson)return b;const p=b.headers.get("content-type");return!p||!p.includes("application/json")?{}:b.json()}).then(b=>f(b)).catch(b=>wy(b,g,r))})})}function Xt(i,s,l,r,d){return ie(this,void 0,void 0,function*(){return Sy(i,"POST",s,r,d,l)})}class jy{constructor(s,l={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tc),l),this.fetch=Ac(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(s){return ie(this,void 0,void 0,function*(){try{return{data:(yield Xt(this.fetch,`${this.url}/CreateIndex`,s,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}getIndex(s,l){return ie(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:s,indexName:l},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}listIndexes(s){return ie(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/ListIndexes`,s,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}deleteIndex(s,l){return ie(this,void 0,void 0,function*(){try{return{data:(yield Xt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:s,indexName:l},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}}class ky{constructor(s,l={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tc),l),this.fetch=Ac(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(s){return ie(this,void 0,void 0,function*(){try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Xt(this.fetch,`${this.url}/PutVectors`,s,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}getVectors(s){return ie(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/GetVectors`,s,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}listVectors(s){return ie(this,void 0,void 0,function*(){try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:yield Xt(this.fetch,`${this.url}/ListVectors`,s,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}queryVectors(s){return ie(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/QueryVectors`,s,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}deleteVectors(s){return ie(this,void 0,void 0,function*(){try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Xt(this.fetch,`${this.url}/DeleteVectors`,s,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}}class Ny{constructor(s,l={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tc),l),this.fetch=Ac(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(s){return ie(this,void 0,void 0,function*(){try{return{data:(yield Xt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}getBucket(s){return ie(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:s},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}listBuckets(){return ie(this,arguments,void 0,function*(s={}){try{return{data:yield Xt(this.fetch,`${this.url}/ListVectorBuckets`,s,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}deleteBucket(s){return ie(this,void 0,void 0,function*(){try{return{data:(yield Xt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}}class Ey extends Ny{constructor(s,l={}){super(s,l.headers||{},l.fetch)}from(s){return new Ty(this.url,this.headers,s,this.fetch)}createBucket(s){const l=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ie(this,void 0,void 0,function*(){return l.createBucket.call(this,s)})}getBucket(s){const l=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ie(this,void 0,void 0,function*(){return l.getBucket.call(this,s)})}listBuckets(){const s=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ie(this,arguments,void 0,function*(l={}){return s.listBuckets.call(this,l)})}deleteBucket(s){const l=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ie(this,void 0,void 0,function*(){return l.deleteBucket.call(this,s)})}}class Ty extends jy{constructor(s,l,r,d){super(s,l,d),this.vectorBucketName=r}createIndex(s){const l=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ie(this,void 0,void 0,function*(){return l.createIndex.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const s=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ie(this,arguments,void 0,function*(l={}){return s.listIndexes.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName}))})}getIndex(s){const l=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ie(this,void 0,void 0,function*(){return l.getIndex.call(this,this.vectorBucketName,s)})}deleteIndex(s){const l=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ie(this,void 0,void 0,function*(){return l.deleteIndex.call(this,this.vectorBucketName,s)})}index(s){return new Ay(this.url,this.headers,this.vectorBucketName,s,this.fetch)}}class Ay extends ky{constructor(s,l,r,d,h){super(s,l,h),this.vectorBucketName=r,this.indexName=d}putVectors(s){const l=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ie(this,void 0,void 0,function*(){return l.putVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(s){const l=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ie(this,void 0,void 0,function*(){return l.getVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const s=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ie(this,arguments,void 0,function*(l={}){return s.listVectors.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(s){const l=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ie(this,void 0,void 0,function*(){return l.queryVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(s){const l=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ie(this,void 0,void 0,function*(){return l.deleteVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Oy extends dy{constructor(s,l={},r,d){super(s,l,r,d)}from(s){return new cy(this.url,this.headers,s,this.fetch)}get vectors(){return new Ey(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yy(this.url+"/iceberg",this.headers,this.fetch)}}const Cy="2.39.0";let Ql="";typeof Deno<"u"?Ql="deno":typeof document<"u"?Ql="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ql="react-native":Ql="node";const Dy={"X-Client-Info":`supabase-js-${Ql}/${Cy}`};var Ry=function(i,s,l,r){function d(h){return h instanceof l?h:new l(function(f){f(h)})}return new(l||(l=Promise))(function(h,f){function g(v){try{p(r.next(v))}catch(j){f(j)}}function b(v){try{p(r.throw(v))}catch(j){f(j)}}function p(v){v.done?h(v.value):d(v.value).then(g,b)}p((r=r.apply(i,s||[])).next())})};const zy=i=>{let s;return i?s=i:typeof fetch>"u"?s=Sm:s=fetch,(...l)=>s(...l)},Uy=()=>typeof Headers>"u"?jm:Headers,My=(i,s,l)=>{const r=zy(l),d=Uy();return(h,f)=>Ry(void 0,void 0,void 0,function*(){var g;const b=(g=yield s())!==null&&g!==void 0?g:i;let p=new d(f==null?void 0:f.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${b}`),r(h,Object.assign(Object.assign({},f),{headers:p}))})};function By(i){return i.replace(/\/$/,"")}function Ly(i,s){const{db:l,auth:r,realtime:d,global:h}=i,{db:f,auth:g,realtime:b,global:p}=s;return{db:Object.assign(Object.assign({},f),l),auth:Object.assign(Object.assign({},g),r),realtime:Object.assign(Object.assign({},b),d),global:Object.assign(Object.assign({},p),h)}}const Bm="2.87.1",Yn=30*1e3,bc=3,lc=bc*Yn,qy="http://localhost:9999",Hy="supabase.auth.token",Iy={"X-Client-Info":`gotrue-js/${Bm}`},yc="X-Supabase-Api-Version",Lm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ky=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$y=600*1e3;class Wl extends Error{constructor(s,l,r){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function ce(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Gy extends Wl{constructor(s,l,r){super(s,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function Yy(i){return ce(i)&&i.name==="AuthApiError"}class $s extends Wl{constructor(s,l){super(s),this.name="AuthUnknownError",this.originalError=l}}class ys extends Wl{constructor(s,l,r,d){super(s,r,d),this.name=l,this.status=r}}class Qt extends ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Py(i){return ce(i)&&i.name==="AuthSessionMissingError"}class Hn extends ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _i extends ys{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class Si extends ys{constructor(s,l=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Vy(i){return ce(i)&&i.name==="AuthImplicitGrantRedirectError"}class tm extends ys{constructor(s,l=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xc extends ys{constructor(s,l){super(s,"AuthRetryableFetchError",l,void 0)}}function rc(i){return ce(i)&&i.name==="AuthRetryableFetchError"}class am extends ys{constructor(s,l,r){super(s,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class vc extends ys{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sm=` 	
\r=`.split(""),Qy=(()=>{const i=new Array(128);for(let s=0;s<i.length;s+=1)i[s]=-1;for(let s=0;s<sm.length;s+=1)i[sm[s].charCodeAt(0)]=-2;for(let s=0;s<ki.length;s+=1)i[ki[s].charCodeAt(0)]=s;return i})();function nm(i,s,l){if(i!==null)for(s.queue=s.queue<<8|i,s.queuedBits+=8;s.queuedBits>=6;){const r=s.queue>>s.queuedBits-6&63;l(ki[r]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const r=s.queue>>s.queuedBits-6&63;l(ki[r]),s.queuedBits-=6}}function qm(i,s,l){const r=Qy[i];if(r>-1)for(s.queue=s.queue<<6|r,s.queuedBits+=6;s.queuedBits>=8;)l(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function lm(i){const s=[],l=f=>{s.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},h=f=>{Zy(f,r,l)};for(let f=0;f<i.length;f+=1)qm(i.charCodeAt(f),d,h);return s.join("")}function Jy(i,s){if(i<=127){s(i);return}else if(i<=2047){s(192|i>>6),s(128|i&63);return}else if(i<=65535){s(224|i>>12),s(128|i>>6&63),s(128|i&63);return}else if(i<=1114111){s(240|i>>18),s(128|i>>12&63),s(128|i>>6&63),s(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Xy(i,s){for(let l=0;l<i.length;l+=1){let r=i.charCodeAt(l);if(r>55295&&r<=56319){const d=(r-55296)*1024&65535;r=(i.charCodeAt(l+1)-56320&65535|d)+65536,l+=1}Jy(r,s)}}function Zy(i,s,l){if(s.utf8seq===0){if(i<=127){l(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){s.utf8seq=r;break}if(s.utf8seq===2)s.codepoint=i&31;else if(s.utf8seq===3)s.codepoint=i&15;else if(s.utf8seq===4)s.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|i&63,s.utf8seq-=1,s.utf8seq===0&&l(s.codepoint)}}function Qn(i){const s=[],l={queue:0,queuedBits:0},r=d=>{s.push(d)};for(let d=0;d<i.length;d+=1)qm(i.charCodeAt(d),l,r);return new Uint8Array(s)}function Fy(i){const s=[];return Xy(i,l=>s.push(l)),new Uint8Array(s)}function Gs(i){const s=[],l={queue:0,queuedBits:0},r=d=>{s.push(d)};return i.forEach(d=>nm(d,l,r)),nm(null,l,r),s.join("")}function Wy(i){return Math.round(Date.now()/1e3)+i}function ex(){return Symbol("auth-callback")}const jt=()=>typeof window<"u"&&typeof document<"u",Ls={tested:!1,writable:!1},Hm=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ls.tested)return Ls.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Ls.tested=!0,Ls.writable=!0}catch{Ls.tested=!0,Ls.writable=!1}return Ls.writable};function tx(i){const s={},l=new URL(i);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((d,h)=>{s[h]=d})}catch{}return l.searchParams.forEach((r,d)=>{s[d]=r}),s}const Im=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),ax=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Pn=async(i,s,l)=>{await i.setItem(s,JSON.stringify(l))},qs=async(i,s)=>{const l=await i.getItem(s);if(!l)return null;try{return JSON.parse(l)}catch{return l}},St=async(i,s)=>{await i.removeItem(s)};class Di{constructor(){this.promise=new Di.promiseConstructor((s,l)=>{this.resolve=s,this.reject=l})}}Di.promiseConstructor=Promise;function ic(i){const s=i.split(".");if(s.length!==3)throw new vc("Invalid JWT structure");for(let r=0;r<s.length;r++)if(!Ky.test(s[r]))throw new vc("JWT not in base64url format");return{header:JSON.parse(lm(s[0])),payload:JSON.parse(lm(s[1])),signature:Qn(s[2]),raw:{header:s[0],payload:s[1]}}}async function sx(i){return await new Promise(s=>{setTimeout(()=>s(null),i)})}function nx(i,s){return new Promise((r,d)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await i(h);if(!s(h,null,f)){r(f);return}}catch(f){if(!s(h,f)){d(f);return}}})()})}function lx(i){return("0"+i.toString(16)).substr(-2)}function rx(){const s=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let d="";for(let h=0;h<56;h++)d+=l.charAt(Math.floor(Math.random()*r));return d}return crypto.getRandomValues(s),Array.from(s,lx).join("")}async function ix(i){const l=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",l),d=new Uint8Array(r);return Array.from(d).map(h=>String.fromCharCode(h)).join("")}async function ox(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const l=await ix(i);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function In(i,s,l=!1){const r=rx();let d=r;l&&(d+="/PASSWORD_RECOVERY"),await Pn(i,`${s}-code-verifier`,d);const h=await ox(r);return[h,r===h?"plain":"s256"]}const ux=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cx(i){const s=i.headers.get(yc);if(!s||!s.match(ux))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function dx(i){if(!i)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(i<=s)throw new Error("JWT has expired")}function hx(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kn(i){if(!fx.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function oc(){const i={};return new Proxy(i,{get:(s,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mx(i,s){return new Proxy(i,{get:(l,r,d)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const h=r.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,d)}return!s.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s.value=!0),Reflect.get(l,r,d)}})}function rm(i){return JSON.parse(JSON.stringify(i))}const Hs=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),gx=[502,503,504];async function im(i){var s;if(!ax(i))throw new xc(Hs(i),0);if(gx.includes(i.status))throw new xc(Hs(i),i.status);let l;try{l=await i.json()}catch(h){throw new $s(Hs(h),h)}let r;const d=cx(i);if(d&&d.getTime()>=Lm["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new am(Hs(l),i.status,((s=l.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(r==="session_not_found")throw new Qt}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new am(Hs(l),i.status,l.weak_password.reasons);throw new Gy(Hs(l),i.status||500,r)}const px=(i,s,l,r)=>{const d={method:i,headers:(s==null?void 0:s.headers)||{}};return i==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),d.body=JSON.stringify(r),Object.assign(Object.assign({},d),l))};async function me(i,s,l,r){var d;const h=Object.assign({},r==null?void 0:r.headers);h[yc]||(h[yc]=Lm["2024-01-01"].name),r!=null&&r.jwt&&(h.Authorization=`Bearer ${r.jwt}`);const f=(d=r==null?void 0:r.query)!==null&&d!==void 0?d:{};r!=null&&r.redirectTo&&(f.redirect_to=r.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",b=await bx(i,s,l+g,{headers:h,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(b):{data:Object.assign({},b),error:null}}async function bx(i,s,l,r,d,h){const f=px(s,r,d,h);let g;try{g=await i(l,Object.assign({},f))}catch(b){throw console.error(b),new xc(Hs(b),0)}if(g.ok||await im(g),r!=null&&r.noResolveJson)return g;try{return await g.json()}catch(b){await im(b)}}function fa(i){var s;let l=null;vx(i)&&(l=Object.assign({},i),i.expires_at||(l.expires_at=Wy(i.expires_in)));const r=(s=i.user)!==null&&s!==void 0?s:i;return{data:{session:l,user:r},error:null}}function om(i){const s=fa(i);return!s.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(s.data.weak_password=i.weak_password),s}function gs(i){var s;return{data:{user:(s=i.user)!==null&&s!==void 0?s:i},error:null}}function yx(i){return{data:i,error:null}}function xx(i){const{action_link:s,email_otp:l,hashed_token:r,redirect_to:d,verification_type:h}=i,f=Oi(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:s,email_otp:l,hashed_token:r,redirect_to:d,verification_type:h},b=Object.assign({},f);return{data:{properties:g,user:b},error:null}}function um(i){return i}function vx(i){return i.access_token&&i.refresh_token&&i.expires_in}const uc=["global","local","others"];class wx{constructor({url:s="",headers:l={},fetch:r}){this.url=s,this.headers=l,this.fetch=Im(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(s,l=uc[0]){if(uc.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uc.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async inviteUserByEmail(s,l={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:gs})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async generateLink(s){try{const{options:l}=s,r=Oi(s,["options"]),d=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(d.new_email=r==null?void 0:r.newEmail,delete d.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:xx,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(ce(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(s){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:gs})}catch(l){if(ce(l))return{data:{user:null},error:l};throw l}}async listUsers(s){var l,r,d,h,f,g,b;try{const p={nextPage:null,lastPage:0,total:0},v=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=s==null?void 0:s.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(h=(d=s==null?void 0:s.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:um});if(v.error)throw v.error;const j=await v.json(),N=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,C=(b=(g=v.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&b!==void 0?b:[];return C.length>0&&(C.forEach(R=>{const z=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(R.split(";")[1].split("=")[1]);p[`${L}Page`]=z}),p.total=parseInt(N)),{data:Object.assign(Object.assign({},j),p),error:null}}catch(p){if(ce(p))return{data:{users:[]},error:p};throw p}}async getUserById(s){Kn(s);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:gs})}catch(l){if(ce(l))return{data:{user:null},error:l};throw l}}async updateUserById(s,l){Kn(s);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:l,headers:this.headers,xform:gs})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async deleteUser(s,l=!1){Kn(s);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:l},xform:gs})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async _listFactors(s){Kn(s.userId);try{const{data:l,error:r}=await me(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:l,error:r}}catch(l){if(ce(l))return{data:null,error:l};throw l}}async _deleteFactor(s){Kn(s.userId),Kn(s.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(l){if(ce(l))return{data:null,error:l};throw l}}async _listOAuthClients(s){var l,r,d,h,f,g,b;try{const p={nextPage:null,lastPage:0,total:0},v=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=s==null?void 0:s.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(h=(d=s==null?void 0:s.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:um});if(v.error)throw v.error;const j=await v.json(),N=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,C=(b=(g=v.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&b!==void 0?b:[];return C.length>0&&(C.forEach(R=>{const z=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(R.split(";")[1].split("=")[1]);p[`${L}Page`]=z}),p.total=parseInt(N)),{data:Object.assign(Object.assign({},j),p),error:null}}catch(p){if(ce(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(s){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:s,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ce(l))return{data:null,error:l};throw l}}async _getOAuthClient(s){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ce(l))return{data:null,error:l};throw l}}async _updateOAuthClient(s,l){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${s}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(s){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ce(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(s){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${s}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ce(l))return{data:null,error:l};throw l}}}function cm(i={}){return{getItem:s=>i[s]||null,setItem:(s,l)=>{i[s]=l},removeItem:s=>{delete i[s]}}}const $n={debug:!!(globalThis&&Hm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Km extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class _x extends Km{}async function Sx(i,s,l){$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,s);const r=new globalThis.AbortController;return s>0&&setTimeout(()=>{r.abort(),$n.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async d=>{if(d){$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,d.name);try{return await l()}finally{$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,d.name)}}else{if(s===0)throw $n.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new _x(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if($n.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function jx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $m(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function kx(i){return parseInt(i,16)}function Nx(i){const s=new TextEncoder().encode(i);return"0x"+Array.from(s,r=>r.toString(16).padStart(2,"0")).join("")}function Ex(i){var s;const{chainId:l,domain:r,expirationTime:d,issuedAt:h=new Date,nonce:f,notBefore:g,requestId:b,resources:p,scheme:v,uri:j,version:N}=i;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!j)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((s=i.statement)===null||s===void 0)&&s.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const C=$m(i.address),R=v?`${v}://${r}`:r,z=i.statement?`${i.statement}
`:"",L=`${R} wants you to sign in with your Ethereum account:
${C}

${z}`;let H=`URI: ${j}
Version: ${N}
Chain ID: ${l}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(d&&(H+=`
Expiration Time: ${d.toISOString()}`),g&&(H+=`
Not Before: ${g.toISOString()}`),b&&(H+=`
Request ID: ${b}`),p){let Y=`
Resources:`;for(const $ of p){if(!$||typeof $!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$}`);Y+=`
- ${$}`}H+=Y}return`${L}
${H}`}class ct extends Error{constructor({message:s,code:l,cause:r,name:d}){var h;super(s,{cause:r}),this.__isWebAuthnError=!0,this.name=(h=d??(r instanceof Error?r.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=l}}class Ni extends ct{constructor(s,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:s}),this.name="WebAuthnUnknownError",this.originalError=l}}function Tx({error:i,options:s}){var l,r,d;const{publicKey:h}=s;if(!h)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(s.signal instanceof AbortSignal)return new ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((l=h.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(s.mediation==="conditional"&&((r=h.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((d=h.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new ct({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return h.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(Gm(f)){if(h.rp.id!==f)return new ct({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function Ax({error:i,options:s}){const{publicKey:l}=s;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(s.signal instanceof AbortSignal)return new ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new ct({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(Gm(r)){if(l.rpId!==r)return new ct({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class Ox{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const s=new AbortController;return this.controller=s,s.signal}cancelCeremony(){if(this.controller){const s=new Error("Manually cancelling existing WebAuthn API call");s.name="AbortError",this.controller.abort(s),this.controller=void 0}}}const Cx=new Ox;function Dx(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:s,user:l,excludeCredentials:r}=i,d=Oi(i,["challenge","user","excludeCredentials"]),h=Qn(s).buffer,f=Object.assign(Object.assign({},l),{id:Qn(l.id).buffer}),g=Object.assign(Object.assign({},d),{challenge:h,user:f});if(r&&r.length>0){g.excludeCredentials=new Array(r.length);for(let b=0;b<r.length;b++){const p=r[b];g.excludeCredentials[b]=Object.assign(Object.assign({},p),{id:Qn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return g}function Rx(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:s,allowCredentials:l}=i,r=Oi(i,["challenge","allowCredentials"]),d=Qn(s).buffer,h=Object.assign(Object.assign({},r),{challenge:d});if(l&&l.length>0){h.allowCredentials=new Array(l.length);for(let f=0;f<l.length;f++){const g=l[f];h.allowCredentials[f]=Object.assign(Object.assign({},g),{id:Qn(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function zx(i){var s;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i;return{id:i.id,rawId:i.id,response:{attestationObject:Gs(new Uint8Array(i.response.attestationObject)),clientDataJSON:Gs(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(s=l.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function Ux(i){var s;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i,r=i.getClientExtensionResults(),d=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Gs(new Uint8Array(d.authenticatorData)),clientDataJSON:Gs(new Uint8Array(d.clientDataJSON)),signature:Gs(new Uint8Array(d.signature)),userHandle:d.userHandle?Gs(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(s=l.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function Gm(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function dm(){var i,s;return!!(jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.get)=="function")}async function Mx(i){try{const s=await navigator.credentials.create(i);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new Ni("Browser returned unexpected credential type",s)}:{data:null,error:new Ni("Empty credential response",s)}}catch(s){return{data:null,error:Tx({error:s,options:i})}}}async function Bx(i){try{const s=await navigator.credentials.get(i);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new Ni("Browser returned unexpected credential type",s)}:{data:null,error:new Ni("Empty credential response",s)}}catch(s){return{data:null,error:Ax({error:s,options:i})}}}const Lx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ei(...i){const s=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),l=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),r={};for(const d of i)if(d)for(const h in d){const f=d[h];if(f!==void 0)if(Array.isArray(f))r[h]=f;else if(l(f))r[h]=f;else if(s(f)){const g=r[h];s(g)?r[h]=Ei(g,f):r[h]=Ei(f)}else r[h]=f}return r}function Hx(i,s){return Ei(Lx,i,s||{})}function Ix(i,s){return Ei(qx,i,s||{})}class Kx{constructor(s){this.client=s,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(s){return this.client.mfa.enroll(Object.assign(Object.assign({},s),{factorType:"webauthn"}))}async _challenge({factorId:s,webauthn:l,friendlyName:r,signal:d},h){try{const{data:f,error:g}=await this.client.mfa.challenge({factorId:s,webauthn:l});if(!f)return{data:null,error:g};const b=d??Cx.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:p}=f.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(f.webauthn.type){case"create":{const p=Hx(f.webauthn.credential_options.publicKey,h==null?void 0:h.create),{data:v,error:j}=await Mx({publicKey:p,signal:b});return v?{data:{factorId:s,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:j}}case"request":{const p=Ix(f.webauthn.credential_options.publicKey,h==null?void 0:h.request),{data:v,error:j}=await Bx(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:p,signal:b}));return v?{data:{factorId:s,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:j}}}}catch(f){return ce(f)?{data:null,error:f}:{data:null,error:new $s("Unexpected error in challenge",f)}}}async _verify({challengeId:s,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:s,webauthn:r})}async _authenticate({factorId:s,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!l)return{data:null,error:new Wl("rpId is required for WebAuthn authentication")};try{if(!dm())return{data:null,error:new $s("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:s,webauthn:{rpId:l,rpOrigins:r},signal:d},{request:h});if(!f)return{data:null,error:g};const{webauthn:b}=f;return this._verify({factorId:s,challengeId:f.challengeId,webauthn:{type:b.type,rpId:l,rpOrigins:r,credential_response:b.credential_response}})}catch(f){return ce(f)?{data:null,error:f}:{data:null,error:new $s("Unexpected error in authenticate",f)}}}async _register({friendlyName:s,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!l)return{data:null,error:new Wl("rpId is required for WebAuthn registration")};try{if(!dm())return{data:null,error:new $s("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:s});if(!f)return await this.client.mfa.listFactors().then(v=>{var j;return(j=v.data)===null||j===void 0?void 0:j.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===s&&N.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:g};const{data:b,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:d},{create:h});return b?this._verify({factorId:f.id,challengeId:b.challengeId,webauthn:{rpId:l,rpOrigins:r,type:b.webauthn.type,credential_response:b.webauthn.credential_response}}):{data:null,error:p}}catch(f){return ce(f)?{data:null,error:f}:{data:null,error:new $s("Unexpected error in register",f)}}}}jx();const $x={url:qy,storageKey:Hy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Iy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function hm(i,s,l){return await l()}const Gn={};class er{get jwks(){var s,l;return(l=(s=Gn[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(s){Gn[this.storageKey]=Object.assign(Object.assign({},Gn[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,l;return(l=(s=Gn[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){Gn[this.storageKey]=Object.assign(Object.assign({},Gn[this.storageKey]),{cachedAt:s})}constructor(s){var l,r,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},$x),s);if(this.storageKey=h.storageKey,this.instanceID=(l=er.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,er.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&jt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new wx({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=Im(h.fetch),this.lock=h.lock||hm,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,h.lock?this.lock=h.lock:this.persistSession&&jt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Sx:this.lock=hm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Kx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:Hm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cm(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=cm(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(s){if(this.throwOnError&&s&&s.error)throw s.error;return s}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Bm}) ${new Date().toISOString()}`}_debug(...s){return this.logDebugMessages&&this.logger(this._logPrefix(),...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{let l={},r="none";if(jt()&&(l=tx(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),jt()&&this.detectSessionInUrl&&r!=="none"){const{data:d,error:h}=await this._getSessionFromURL(l,r);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Vy(h)){const b=(s=h.details)===null||s===void 0?void 0:s.code;if(b==="identity_already_exists"||b==="identity_not_found"||b==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:f,redirectType:g}=d;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return ce(l)?this._returnResult({error:l}):this._returnResult({error:new $s("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var l,r,d;try{const h=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=s==null?void 0:s.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(d=s==null?void 0:s.options)===null||d===void 0?void 0:d.captchaToken}},xform:fa}),{data:f,error:g}=h;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const b=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",b)),this._returnResult({data:{user:p,session:b},error:null})}catch(h){if(ce(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(s){var l,r,d;try{let h;if("email"in s){const{email:v,password:j,options:N}=s;let C=null,R=null;this.flowType==="pkce"&&([C,R]=await In(this.storage,this.storageKey)),h=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:v,password:j,data:(l=N==null?void 0:N.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:C,code_challenge_method:R},xform:fa})}else if("phone"in s){const{phone:v,password:j,options:N}=s;h=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:j,data:(r=N==null?void 0:N.data)!==null&&r!==void 0?r:{},channel:(d=N==null?void 0:N.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:fa})}else throw new _i("You must provide either an email or phone number and a password");const{data:f,error:g}=h;if(g||!f)return await St(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const b=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",b)),this._returnResult({data:{user:p,session:b},error:null})}catch(h){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(s){try{let l;if("email"in s){const{email:h,password:f,options:g}=s;l=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:om})}else if("phone"in s){const{phone:h,password:f,options:g}=s;l=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:om})}else throw new _i("You must provide either an email or phone number and a password");const{data:r,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!r||!r.session||!r.user){const h=new Hn;return this._returnResult({data:{user:null,session:null},error:h})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:d})}catch(l){if(ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(s){var l,r,d,h;return await this._handleProviderSignIn(s.provider,{redirectTo:(l=s.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=s.options)===null||r===void 0?void 0:r.scopes,queryParams:(d=s.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(h=s.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:l}=s;switch(l){case"ethereum":return await this.signInWithEthereum(s);case"solana":return await this.signInWithSolana(s);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(s){var l,r,d,h,f,g,b,p,v,j,N;let C,R;if("message"in s)C=s.message,R=s.signature;else{const{chain:z,wallet:L,statement:H,options:Y}=s;let $;if(jt())if(typeof L=="object")$=L;else{const pe=window;if("ethereum"in pe&&typeof pe.ethereum=="object"&&"request"in pe.ethereum&&typeof pe.ethereum.request=="function")$=pe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(Y!=null&&Y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=L}const F=new URL((l=Y==null?void 0:Y.url)!==null&&l!==void 0?l:window.location.href),le=await $.request({method:"eth_requestAccounts"}).then(pe=>pe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!le||le.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=$m(le[0]);let Q=(r=Y==null?void 0:Y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Q){const pe=await $.request({method:"eth_chainId"});Q=kx(pe)}const se={domain:F.host,address:P,statement:H,uri:F.href,version:"1",chainId:Q,nonce:(d=Y==null?void 0:Y.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(f=(h=Y==null?void 0:Y.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=Y==null?void 0:Y.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(b=Y==null?void 0:Y.signInWithEthereum)===null||b===void 0?void 0:b.notBefore,requestId:(p=Y==null?void 0:Y.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=Y==null?void 0:Y.signInWithEthereum)===null||v===void 0?void 0:v.resources};C=Ex(se),R=await $.request({method:"personal_sign",params:[Nx(C),P]})}try{const{data:z,error:L}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:R},!((j=s.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(N=s.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:fa});if(L)throw L;if(!z||!z.session||!z.user){const H=new Hn;return this._returnResult({data:{user:null,session:null},error:H})}return z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),this._returnResult({data:Object.assign({},z),error:L})}catch(z){if(ce(z))return this._returnResult({data:{user:null,session:null},error:z});throw z}}async signInWithSolana(s){var l,r,d,h,f,g,b,p,v,j,N,C;let R,z;if("message"in s)R=s.message,z=s.signature;else{const{chain:L,wallet:H,statement:Y,options:$}=s;let F;if(jt())if(typeof H=="object")F=H;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))F=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!($!=null&&$.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=H}const le=new URL((l=$==null?void 0:$.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in F&&F.signIn){const P=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$==null?void 0:$.signInWithSolana),{version:"1",domain:le.host,uri:le.href}),Y?{statement:Y}:null));let Q;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")Q=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)Q=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)R=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),z=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${le.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${le.href}`,`Issued At: ${(d=(r=$==null?void 0:$.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((h=$==null?void 0:$.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((f=$==null?void 0:$.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((g=$==null?void 0:$.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((b=$==null?void 0:$.signInWithSolana)===null||b===void 0)&&b.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((p=$==null?void 0:$.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((j=(v=$==null?void 0:$.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||j===void 0)&&j.length?["Resources",...$.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const P=await F.signMessage(new TextEncoder().encode(R),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");z=P}}try{const{data:L,error:H}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:Gs(z)},!((N=s.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(C=s.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:fa});if(H)throw H;if(!L||!L.session||!L.user){const Y=new Hn;return this._returnResult({data:{user:null,session:null},error:Y})}return L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:H})}catch(L){if(ce(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}}async _exchangeCodeForSession(s){const l=await qs(this.storage,`${this.storageKey}-code-verifier`),[r,d]=(l??"").split("/");try{const{data:h,error:f}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:r},xform:fa});if(await St(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const g=new Hn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:d??null}),error:f})}catch(h){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(s){try{const{options:l,provider:r,token:d,access_token:h,nonce:f}=s,g=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:d,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fa}),{data:b,error:p}=g;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!b||!b.session||!b.user){const v=new Hn;return this._returnResult({data:{user:null,session:null},error:v})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:b,error:p})}catch(l){if(ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(s){var l,r,d,h,f;try{if("email"in s){const{email:g,options:b}=s;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await In(this.storage,this.storageKey));const{error:j}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(l=b==null?void 0:b.data)!==null&&l!==void 0?l:{},create_user:(r=b==null?void 0:b.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:b==null?void 0:b.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:j})}if("phone"in s){const{phone:g,options:b}=s,{data:p,error:v}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(d=b==null?void 0:b.data)!==null&&d!==void 0?d:{},create_user:(h=b==null?void 0:b.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},channel:(f=b==null?void 0:b.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v})}throw new _i("You must provide either an email or phone number.")}catch(g){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(s){var l,r;try{let d,h;"options"in s&&(d=(l=s.options)===null||l===void 0?void 0:l.redirectTo,h=(r=s.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:g}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:h}}),redirectTo:d,xform:fa});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const b=f.session,p=f.user;return b!=null&&b.access_token&&(await this._saveSession(b),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",b)),this._returnResult({data:{user:p,session:b},error:null})}catch(d){if(ce(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(s){var l,r,d,h,f;try{let g=null,b=null;this.flowType==="pkce"&&([g,b]=await In(this.storage,this.storageKey));const p=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(r=(l=s.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((d=s==null?void 0:s.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:b}),headers:this.headers,xform:yx});return!((h=p.data)===null||h===void 0)&&h.url&&jt()&&!(!((f=s.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(g){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:l},error:r}=s;if(r)throw r;if(!l)throw new Qt;const{error:d}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(s){if(ce(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async resend(s){try{const l=`${this.url}/resend`;if("email"in s){const{email:r,type:d,options:h}=s,{error:f}=await me(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in s){const{phone:r,type:d,options:h}=s,{data:f,error:g}=await me(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g})}throw new _i("You must provide either an email or phone number and a type")}catch(l){if(ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(s,l){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await s(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const l=await qs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?s=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const r=s.expires_at?s.expires_at*1e3-Date.now()<lc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",s.expires_at),!r){if(this.userStorage){const f=await qs(this.userStorage,this.storageKey+"-user");f!=null&&f.user?s.user=f.user:s.user=oc()}if(this.storage.isServer&&s.user&&!s.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};s.user=mx(s.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:s},error:null}}const{data:d,error:h}=await this._callRefreshToken(s.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(s){if(s)return await this._getUser(s);await this.initializePromise;const l=await this._acquireLock(-1,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(s){try{return s?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:gs}):await this._useSession(async l=>{var r,d,h;const{data:f,error:g}=l;if(g)throw g;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0,xform:gs})})}catch(l){if(ce(l))return Py(l)&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(s,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,l))}async _updateUser(s,l={}){try{return await this._useSession(async r=>{const{data:d,error:h}=r;if(h)throw h;if(!d.session)throw new Qt;const f=d.session;let g=null,b=null;this.flowType==="pkce"&&s.email!=null&&([g,b]=await In(this.storage,this.storageKey));const{data:p,error:v}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:g,code_challenge_method:b}),jwt:f.access_token,xform:gs});if(v)throw v;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new Qt;const l=Date.now()/1e3;let r=l,d=!0,h=null;const{payload:f}=ic(s.access_token);if(f.exp&&(r=f.exp,d=r<=l),d){const{data:g,error:b}=await this._callRefreshToken(s.refresh_token);if(b)return this._returnResult({data:{user:null,session:null},error:b});if(!g)return{data:{user:null,session:null},error:null};h=g}else{const{data:g,error:b}=await this._getUser(s.access_token);if(b)throw b;h={access_token:s.access_token,refresh_token:s.refresh_token,user:g.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(l){if(ce(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async l=>{var r;if(!s){const{data:f,error:g}=l;if(g)throw g;s=(r=f.session)!==null&&r!==void 0?r:void 0}if(!(s!=null&&s.refresh_token))throw new Qt;const{data:d,error:h}=await this._callRefreshToken(s.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(s,l){try{if(!jt())throw new Si("No browser detected.");if(s.error||s.error_description||s.error_code)throw new Si(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new tm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Si("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new tm("No code detected.");const{data:Y,error:$}=await this._exchangeCodeForSession(s.code);if($)throw $;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:d,access_token:h,refresh_token:f,expires_in:g,expires_at:b,token_type:p}=s;if(!h||!g||!f||!p)throw new Si("No session defined in URL");const v=Math.round(Date.now()/1e3),j=parseInt(g);let N=v+j;b&&(N=parseInt(b));const C=N-v;C*1e3<=Yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${j}s`);const R=N-j;v-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,N,v):v-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,N,v);const{data:z,error:L}=await this._getUser(h);if(L)throw L;const H={provider_token:r,provider_refresh_token:d,access_token:h,expires_in:j,expires_at:N,refresh_token:f,token_type:p,user:z.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:H,redirectType:s.type},error:null})}catch(r){if(ce(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const l=await qs(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&l)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:d,error:h}=l;if(h)return this._returnResult({error:h});const f=(r=d.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:g}=await this.admin.signOut(f,s);if(g&&!(Yy(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return s!=="others"&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(s){const l=ex(),r={id:l,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(s){return await this._useSession(async l=>{var r,d;try{const{data:{session:h},error:f}=l;if(f)throw f;await((r=this.stateChangeEmitters.get(s))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",s,"session",h)}catch(h){await((d=this.stateChangeEmitters.get(s))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",h),console.error(h)}})}async resetPasswordForEmail(s,l={}){let r=null,d=null;this.flowType==="pkce"&&([r,d]=await In(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:r,code_challenge_method:d,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(h){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var s;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(s=l.user.identities)!==null&&s!==void 0?s:[]},error:null})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(s){return"token"in s?this.linkIdentityIdToken(s):this.linkIdentityOAuth(s)}async linkIdentityOAuth(s){var l;try{const{data:r,error:d}=await this._useSession(async h=>{var f,g,b,p,v;const{data:j,error:N}=h;if(N)throw N;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(f=s.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=s.options)===null||g===void 0?void 0:g.scopes,queryParams:(b=s.options)===null||b===void 0?void 0:b.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",C,{headers:this.headers,jwt:(v=(p=j.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(d)throw d;return jt()&&!(!((l=s.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:s.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ce(r))return this._returnResult({data:{provider:s.provider,url:null},error:r});throw r}}async linkIdentityIdToken(s){return await this._useSession(async l=>{var r;try{const{error:d,data:{session:h}}=l;if(d)throw d;const{options:f,provider:g,token:b,access_token:p,nonce:v}=s,j=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=h==null?void 0:h.access_token)!==null&&r!==void 0?r:void 0,body:{provider:g,id_token:b,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:fa}),{data:N,error:C}=j;return C?this._returnResult({data:{user:null,session:null},error:C}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new Hn}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:C}))}catch(d){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(s){try{return await this._useSession(async l=>{var r,d;const{data:h,error:f}=l;if(f)throw f;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(d=(r=h.session)===null||r===void 0?void 0:r.access_token)!==null&&d!==void 0?d:void 0})})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(s){const l=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await nx(async d=>(d>0&&await sx(200*Math.pow(2,d-1)),this._debug(l,"refreshing attempt",d),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:fa})),(d,h)=>{const f=200*Math.pow(2,d);return h&&rc(h)&&Date.now()+f-r<Yn})}catch(r){if(this._debug(l,"error",r),ce(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",l,"url",r),jt()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:s,url:r},error:null}}async _recoverAndRefresh(){var s,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const d=await qs(this.storage,this.storageKey);if(d&&this.userStorage){let f=await qs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:d.user},await Pn(this.userStorage,this.storageKey+"-user",f)),d.user=(s=f==null?void 0:f.user)!==null&&s!==void 0?s:oc()}else if(d&&!d.user&&!d.user){const f=await qs(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(d.user=f.user,await St(this.storage,this.storageKey+"-user"),await Pn(this.storage,this.storageKey,d)):d.user=oc()}if(this._debug(r,"session from storage",d),!this._isValidSession(d)){this._debug(r,"session is not valid"),d!==null&&await this._removeSession();return}const h=((l=d.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<lc;if(this._debug(r,`session has${h?"":" not"} expired with margin of ${lc}s`),h){if(this.autoRefreshToken&&d.refresh_token){const{error:f}=await this._callRefreshToken(d.refresh_token);f&&(console.error(f),rc(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(d.access_token);!g&&(f!=null&&f.user)?(d.user=f.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(r,"error",d),console.error(d);return}finally{this._debug(r,"end")}}async _callRefreshToken(s){var l,r;if(!s)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new Di;const{data:h,error:f}=await this._refreshAccessToken(s);if(f)throw f;if(!h.session)throw new Qt;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const g={data:h.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(h){if(this._debug(d,"error",h),ce(h)){const f={data:null,error:h};return rc(h)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(h),h}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(s,l,r=!0){const d=`#_notifyAllSubscribers(${s})`;this._debug(d,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:s,session:l});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(s,l)}catch(b){h.push(b)}});if(await Promise.all(f),h.length>0){for(let g=0;g<h.length;g+=1)console.error(h[g]);throw h[0]}}finally{this._debug(d,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await St(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},s),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await Pn(this.userStorage,this.storageKey+"-user",{user:l.user});const d=Object.assign({},l);delete d.user;const h=rm(d);await Pn(this.storage,this.storageKey,h)}else{const d=rm(l);await Pn(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await St(this.storage,this.storageKey),await St(this.storage,this.storageKey+"-code-verifier"),await St(this.storage,this.storageKey+"-user"),this.userStorage&&await St(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&jt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Yn);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((r.expires_at*1e3-s)/Yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${Yn}ms, refresh threshold is ${bc} ticks`),d<=bc&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof Km)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const l=`#_onVisibilityChanged(${s})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,l,r){const d=[`provider=${encodeURIComponent(l)}`];if(r!=null&&r.redirectTo&&d.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&d.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[h,f]=await In(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});d.push(g.toString())}if(r!=null&&r.queryParams){const h=new URLSearchParams(r.queryParams);d.push(h.toString())}return r!=null&&r.skipBrowserRedirect&&d.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${s}?${d.join("&")}`}async _unenroll(s){try{return await this._useSession(async l=>{var r;const{data:d,error:h}=l;return h?this._returnResult({data:null,error:h}):await me(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(r=d==null?void 0:d.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(s){try{return await this._useSession(async l=>{var r,d;const{data:h,error:f}=l;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:s.factorType==="totp"?{issuer:s.issuer}:{}),{data:b,error:p}=await me(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(r=h==null?void 0:h.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(s.factorType==="totp"&&b.type==="totp"&&(!((d=b==null?void 0:b.totp)===null||d===void 0)&&d.qr_code)&&(b.totp.qr_code=`data:image/svg+xml;utf-8,${b.totp.qr_code}`),this._returnResult({data:b,error:null}))})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var r;const{data:d,error:h}=l;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:s.challengeId},"webauthn"in s?{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_response:s.webauthn.type==="create"?zx(s.webauthn.credential_response):Ux(s.webauthn.credential_response)})}:{code:s.code}),{data:g,error:b}=await me(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=d==null?void 0:d.session)===null||r===void 0?void 0:r.access_token});return b?this._returnResult({data:null,error:b}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:b}))})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var r;const{data:d,error:h}=l;if(h)return this._returnResult({data:null,error:h});const f=await me(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:s,headers:this.headers,jwt:(r=d==null?void 0:d.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Dx(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Rx(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(s){const{data:l,error:r}=await this._challenge({factorId:s.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:s.factorId,challengeId:l.id,code:s.code})}async _listFactors(){var s;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const d={all:[],phone:[],totp:[],webauthn:[]};for(const h of(s=l==null?void 0:l.factors)!==null&&s!==void 0?s:[])d.all.push(h),h.status==="verified"&&d[h.factor_type].push(h);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var s,l;const{data:{session:r},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=ic(r.access_token);let f=null;h.aal&&(f=h.aal);let g=f;((l=(s=r.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(g="aal2");const p=h.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(s){try{return await this._useSession(async l=>{const{data:{session:r},error:d}=l;return d?this._returnResult({data:null,error:d}):r?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${s}`,{headers:this.headers,jwt:r.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Qt})})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(s,l){try{return await this._useSession(async r=>{const{data:{session:d},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new Qt});const f=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&jt()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(s,l){try{return await this._useSession(async r=>{const{data:{session:d},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new Qt});const f=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&jt()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async s=>{const{data:{session:l},error:r}=s;return r?this._returnResult({data:null,error:r}):l?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Qt})})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async _revokeOAuthGrant(s){try{return await this._useSession(async l=>{const{data:{session:r},error:d}=l;return d?this._returnResult({data:null,error:d}):r?(await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:s.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qt})})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(s,l={keys:[]}){let r=l.keys.find(g=>g.kid===s);if(r)return r;const d=Date.now();if(r=this.jwks.keys.find(g=>g.kid===s),r&&this.jwks_cached_at+$y>d)return r;const{data:h,error:f}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=d,r=h.keys.find(g=>g.kid===s),!r)?null:r}async getClaims(s,l={}){try{let r=s;if(!r){const{data:C,error:R}=await this.getSession();if(R||!C.session)return this._returnResult({data:null,error:R});r=C.session.access_token}const{header:d,payload:h,signature:f,raw:{header:g,payload:b}}=ic(r);l!=null&&l.allowExpired||dx(h.exp);const p=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,l!=null&&l.keys?{keys:l.keys}:l==null?void 0:l.jwks);if(!p){const{error:C}=await this.getUser(r);if(C)throw C;return{data:{claims:h,header:d,signature:f},error:null}}const v=hx(d.alg),j=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,j,f,Fy(`${g}.${b}`)))throw new vc("Invalid JWT signature");return{data:{claims:h,header:d,signature:f},error:null}}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}}er.nextInstanceID={};class Gx extends er{constructor(s){super(s)}}var Yx=function(i,s,l,r){function d(h){return h instanceof l?h:new l(function(f){f(h)})}return new(l||(l=Promise))(function(h,f){function g(v){try{p(r.next(v))}catch(j){f(j)}}function b(v){try{p(r.throw(v))}catch(j){f(j)}}function p(v){v.done?h(v.value):d(v.value).then(g,b)}p((r=r.apply(i,s||[])).next())})};const Px={headers:Dy},Vx={schema:"public"},Qx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jx={};class Xx{constructor(s,l,r){var d,h,f,g,b,p,v,j;if(this.supabaseUrl=s,this.supabaseKey=l,!s)throw new Error("supabaseUrl is required.");if(!l)throw new Error("supabaseKey is required.");const N=By(s);this.realtimeUrl=`${N}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${N}/auth/v1`,this.storageUrl=`${N}/storage/v1`,this.functionsUrl=`${N}/functions/v1`;const C=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,R={db:Vx,realtime:Jx,auth:Object.assign(Object.assign({},Qx),{storageKey:C}),global:Px},z=Ly(r??{},R);this.storageKey=(h=(d=z.auth)===null||d===void 0?void 0:d.storageKey)!==null&&h!==void 0?h:"",this.headers=(g=(f=z.global)===null||f===void 0?void 0:f.headers)!==null&&g!==void 0?g:{},this.auth=this._initSupabaseAuthClient((b=z.auth)!==null&&b!==void 0?b:{},this.headers,(p=z.global)===null||p===void 0?void 0:p.fetch),this.fetch=My(l,this._getAccessToken.bind(this),(v=z.global)===null||v===void 0?void 0:v.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},z.realtime)),this.rest=new Mb(`${N}/rest/v1`,{headers:this.headers,schema:(j=z.db)===null||j===void 0?void 0:j.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new kb(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Oy(this.storageUrl,this.headers,this.fetch)}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,l={},r){return this.rest.rpc(s,l,r)}channel(s,l={config:{}}){return this.realtime.channel(s,l)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,l;return Yx(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(l=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:null})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:l,detectSessionInUrl:r,storage:d,storageKey:h,flowType:f,debug:g},b,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gx({url:this.authUrl,headers:Object.assign(Object.assign({},v),b),storageKey:h,autoRefreshToken:s,persistSession:l,detectSessionInUrl:r,storage:d,flowType:f,debug:g,fetch:p})}_initRealtimeClient(s){return new Wb(this.realtimeUrl,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,r)=>{this._handleTokenChanged(l,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(s,l,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):s==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),l=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zx=(i,s,l)=>new Xx(i,s,l);var ym,xm;const Ym=((xm=(ym=import.meta)==null?void 0:ym.env)==null?void 0:xm.VITE_SUPABASE_URL)||"https://sartektzisafnmbiuhwd.supabase.co";var vm,wm;const Fx=((wm=(vm=import.meta)==null?void 0:vm.env)==null?void 0:wm.VITE_SUPABASE_ANON_KEY)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNhcnRla3R6aXNhZm5tYml1aHdkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU3MzU4OTEsImV4cCI6MjA4MTMxMTg5MX0.HbB0e_eMt78qNBND19CtwSJIqTBvQa4UB1U-3eBtLNQ";Ym.includes("MASUKKAN")&&(console.warn(" PERINGATAN: Kredensial Supabase belum terdeteksi."),console.warn("Silakan buat file .env atau masukkan URL & KEY secara manual di file services/supabaseClient.ts"));const qe=Zx(Ym,Fx),Ne={init:async()=>{},getEmployees:async()=>{const{data:i,error:s}=await qe.from("employees").select("*").order("id",{ascending:!0});if(s)throw s;return i||[]},saveEmployee:async i=>{const{data:s}=await qe.from("employees").select("id").eq("id",i.id).single();if(s){const{error:l}=await qe.from("employees").update({name:i.name,address:i.address}).eq("id",i.id);if(l)throw l}else{const{error:l}=await qe.from("employees").insert([{id:i.id,name:i.name,address:i.address}]);if(l)throw l}},deleteEmployee:async i=>{const{error:s}=await qe.from("employees").delete().eq("id",i);if(s)throw s;await Ne.deleteUserByEmployeeId(i)},checkEmployeeDependencies:async i=>{const{count:s}=await qe.from("production_logs").select("*",{count:"exact",head:!0}).eq("employee_id",i),{count:l}=await qe.from("payments").select("*",{count:"exact",head:!0}).eq("employee_id",i),r=s||0,d=l||0;return{hasDependencies:r>0||d>0,details:{production:r,payments:d}}},getComponents:async()=>{const{data:i,error:s}=await qe.from("components").select("*").order("id",{ascending:!0});if(s)throw s;return i||[]},saveComponent:async i=>{const{data:s}=await qe.from("components").select("id").eq("id",i.id).single();if(s){const{error:l}=await qe.from("components").update({name:i.name,price:i.price}).eq("id",i.id);if(l)throw l}else{const{error:l}=await qe.from("components").insert([{id:i.id,name:i.name,price:i.price}]);if(l)throw l}},deleteComponent:async i=>{const{error:s}=await qe.from("components").delete().eq("id",i);if(s)throw s},checkComponentDependencies:async i=>{const{count:s}=await qe.from("production_logs").select("*",{count:"exact",head:!0}).eq("component_id",i);return{hasDependencies:(s||0)>0,details:{production:s||0}}},getProductionLogs:async()=>{const{data:i,error:s}=await qe.from("production_logs").select("*").order("created_at",{ascending:!1});if(s)throw s;return(i||[]).map(l=>({id:l.id,date:l.date,employeeId:l.employee_id,componentId:l.component_id,qty:l.qty,priceSnapshot:l.price_snapshot,total:l.total}))},saveProductionLog:async i=>{const{data:s}=await qe.from("production_logs").select("id").eq("id",i.id).single(),l={id:i.id,date:i.date,employee_id:i.employeeId,component_id:i.componentId,qty:i.qty,price_snapshot:i.priceSnapshot,total:i.total};if(s){const{error:r}=await qe.from("production_logs").update(l).eq("id",i.id);if(r)throw r}else{const{error:r}=await qe.from("production_logs").insert([l]);if(r)throw r}},deleteProductionLog:async i=>{const{error:s}=await qe.from("production_logs").delete().eq("id",i);if(s)throw s},getPayments:async()=>{const{data:i,error:s}=await qe.from("payments").select("*").order("created_at",{ascending:!1});if(s)throw s;return(i||[]).map(l=>({id:l.id,date:l.date,employeeId:l.employee_id,amount:l.amount,type:l.type,note:l.note}))},savePayment:async i=>{const{data:s}=await qe.from("payments").select("id").eq("id",i.id).single(),l={id:i.id,date:i.date,employee_id:i.employeeId,amount:i.amount,type:i.type,note:i.note};if(s){const{error:r}=await qe.from("payments").update(l).eq("id",i.id);if(r)throw r}else{const{error:r}=await qe.from("payments").insert([l]);if(r)throw r}},deletePayment:async i=>{const{error:s}=await qe.from("payments").delete().eq("id",i);if(s)throw s},login:async(i,s)=>{const{data:l,error:r}=await qe.from("app_users").select("*").eq("username",i).eq("password",s).single();return r||!l?null:{username:l.username,password:l.password,role:l.role,employeeId:l.employee_id,fullName:l.full_name}},getUsers:async()=>{const{data:i,error:s}=await qe.from("app_users").select("*");if(s)throw s;return(i||[]).map(l=>({username:l.username,password:l.password,role:l.role,employeeId:l.employee_id,fullName:l.full_name}))},getUserByEmployeeId:async i=>{const{data:s}=await qe.from("app_users").select("*").eq("employee_id",i).single();if(s)return{username:s.username,password:s.password,role:s.role,employeeId:s.employee_id,fullName:s.full_name}},saveUser:async i=>{const s={username:i.username,password:i.password,role:i.role,employee_id:i.employeeId,full_name:i.fullName},{error:l}=await qe.from("app_users").upsert(s,{onConflict:"username"});if(l)throw l.message.includes("duplicate key")?new Error(`Username '${i.username}' sudah digunakan.`):l},updatePassword:async(i,s,l)=>{if(!await Ne.login(i,s))throw new Error("Password lama salah atau user tidak ditemukan.");const{error:d}=await qe.from("app_users").update({password:l}).eq("username",i);if(d)throw new Error(d.message);const h=localStorage.getItem("borongan_current_user");if(h){const f=JSON.parse(h);f.username===i&&(f.password=l,localStorage.setItem("borongan_current_user",JSON.stringify(f)))}},deleteUserByEmployeeId:async i=>{const{error:s}=await qe.from("app_users").delete().eq("employee_id",i);if(s)throw s},resetData:async()=>{localStorage.clear()}};var ut=(i=>(i.DASHBOARD="DASHBOARD",i.EMPLOYEES="EMPLOYEES",i.COMPONENTS="COMPONENTS",i.PRODUCTION="PRODUCTION",i.PAYMENTS="PAYMENTS",i.FINANCE="FINANCE",i.REKAP="REKAP",i))(ut||{});const Pm=B.createContext(void 0),Wx=({children:i})=>{const[s,l]=B.useState(null);B.useEffect(()=>{const h=localStorage.getItem("borongan_current_user");h&&l(JSON.parse(h))},[]);const r=h=>{l(h),localStorage.setItem("borongan_current_user",JSON.stringify(h))},d=()=>{l(null),localStorage.removeItem("borongan_current_user")};return u.jsx(Pm.Provider,{value:{user:s,login:r,logout:d,isAuthenticated:!!s},children:i})},Ps=()=>{const i=B.useContext(Pm);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vm=(...i)=>i.filter((s,l,r)=>!!s&&r.indexOf(s)===l).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=B.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:d="",children:h,iconNode:f,...g},b)=>B.createElement("svg",{ref:b,...tv,width:s,height:s,stroke:i,strokeWidth:r?Number(l)*24/Number(s):l,className:Vm("lucide",d),...g},[...f.map(([p,v])=>B.createElement(p,v)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(i,s)=>{const l=B.forwardRef(({className:r,...d},h)=>B.createElement(av,{ref:h,iconNode:s,className:Vm(`lucide-${ev(i)}`,r),...d}));return l.displayName=`${i}`,l};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=_e("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=_e("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=_e("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=_e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=_e("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=_e("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=_e("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=_e("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=_e("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=_e("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=_e("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=_e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=_e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=_e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=_e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=_e("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=_e("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=_e("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=_e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=_e("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),pv=()=>{const[i,s]=B.useState(""),[l,r]=B.useState(""),[d,h]=B.useState(""),[f,g]=B.useState(!1),{login:b}=Ps(),p=async v=>{v.preventDefault(),h(""),g(!0);try{const j=await Ne.login(i,l);j?b(j):h("Username atau Password salah")}catch(j){h("Terjadi kesalahan saat login."),console.error(j)}finally{g(!1)}};return u.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-dark-bg flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-dark-card rounded-2xl shadow-xl border border-slate-200 dark:border-dark-border overflow-hidden animate-fade-in",children:[u.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:u.jsx("span",{className:"text-3xl font-bold text-white",children:"R"})}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"RedonePaypro"}),u.jsx("p",{className:"text-slate-300 text-sm",children:"Sistem Manajemen Produksi Borongan"})]}),u.jsxs("div",{className:"p-8",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-6 text-center",children:"Silahkan Login"}),d&&u.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-xl flex items-center gap-2",children:[u.jsx(Jm,{size:16}),d]}),u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Username"}),u.jsx("input",{type:"text",value:i,onChange:v=>s(v.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Masukkan username",required:!0,disabled:f})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Password"}),u.jsx("input",{type:"password",value:l,onChange:v=>r(v.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Masukkan password",required:!0,disabled:f})]}),u.jsx("button",{type:"submit",disabled:f,className:"w-full py-3.5 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold shadow-lg shadow-primary-600/20 transition-all flex items-center justify-center gap-2 mt-4 disabled:opacity-70 disabled:cursor-not-allowed",children:f?u.jsx(Et,{className:"animate-spin",size:20}):u.jsxs(u.Fragment,{children:[u.jsx(cv,{size:20})," Login Masuk"]})})]})]})]})})},Ys=({isOpen:i,title:s,message:l,onConfirm:r,onCancel:d,type:h="danger",confirmText:f="Ya, Lanjutkan",cancelText:g="Batal",singleButton:b=!1})=>{if(!i)return null;const p=()=>{switch(h){case"danger":return"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400";case"success":return"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400";default:return"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400"}},v=()=>{switch(h){case"danger":return"bg-red-600 hover:bg-red-700 shadow-red-600/30";case"success":return"bg-green-600 hover:bg-green-700 shadow-green-600/30";default:return"bg-primary-600 hover:bg-primary-700 shadow-primary-600/30"}};return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:u.jsx("div",{className:"bg-white dark:bg-dark-card w-full max-w-sm rounded-2xl shadow-2xl border border-slate-100 dark:border-dark-border transform transition-all scale-100",children:u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("div",{className:`mx-auto mb-4 w-12 h-12 rounded-full flex items-center justify-center ${p()}`,children:h==="danger"?u.jsx(mv,{size:24}):u.jsx(Ti,{size:24})}),u.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-2",children:s}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-6 leading-relaxed",children:l}),u.jsxs("div",{className:"flex gap-3 justify-center",children:[!b&&u.jsx("button",{type:"button",onClick:d,className:"flex-1 px-4 py-2.5 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl font-medium transition-colors border border-slate-200 dark:border-slate-700",children:g}),u.jsx("button",{type:"button",onClick:r,className:`flex-1 px-4 py-2.5 text-white rounded-xl font-medium transition-all shadow-lg ${v()}`,children:f})]})]})})})},bv=({onViewChange:i})=>{const{user:s}=Ps(),[l,r]=B.useState(!0),[d,h]=B.useState({empCount:0,compCount:0,totalProduction:0,totalPayments:0}),[f,g]=B.useState(!1);B.useEffect(()=>{(async()=>{r(!0);try{const j=await Ne.getEmployees(),N=await Ne.getComponents();let C=await Ne.getProductionLogs(),R=await Ne.getPayments();(s==null?void 0:s.role)==="USER"&&s.employeeId&&(C=C.filter(H=>H.employeeId===s.employeeId),R=R.filter(H=>H.employeeId===s.employeeId));const z=C.reduce((H,Y)=>H+Y.total,0),L=R.reduce((H,Y)=>H+Y.amount,0);h({empCount:j.length,compCount:N.length,totalProduction:z,totalPayments:L})}catch(j){console.error("Failed to fetch dashboard data",j)}finally{r(!1)}})()},[s]);const b=v=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(v),p=({title:v,value:j,icon:N,color:C,onClick:R})=>u.jsxs("div",{onClick:R,className:"bg-white dark:bg-dark-card p-3.5 md:p-6 rounded-xl md:rounded-2xl shadow-sm border border-slate-100 dark:border-dark-border hover:shadow-md transition-all cursor-pointer group relative overflow-hidden",children:[u.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-gradient-to-br from-transparent to-slate-50 dark:to-slate-800/50 rounded-bl-full -mr-4 -mt-4 opacity-50 pointer-events-none"}),u.jsxs("div",{className:"flex justify-between items-start gap-2 relative z-10",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs md:text-sm font-medium text-slate-500 dark:text-slate-400 mb-0.5 md:mb-1 truncate",children:v}),u.jsx("h3",{className:"text-xl md:text-2xl font-bold text-slate-800 dark:text-slate-100 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors truncate",children:l?u.jsx(Et,{className:"animate-spin",size:20}):j})]}),u.jsx("div",{className:`p-2 md:p-3 rounded-lg md:rounded-xl ${C} bg-opacity-10 dark:bg-opacity-20 shrink-0`,children:u.jsx(N,{className:`${C.replace("bg-","text-")} w-5 h-5 md:w-6 md:h-6`})})]})]});return u.jsxs("div",{className:"space-y-4 md:space-y-6 relative animate-fade-in",children:[u.jsxs("div",{onClick:()=>g(!0),className:"bg-white dark:bg-dark-card p-5 md:p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-dark-border flex flex-col md:flex-row items-start md:items-center justify-between gap-4 relative overflow-hidden cursor-pointer hover:shadow-lg hover:border-blue-200 dark:hover:border-blue-900 transition-all group",children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-slate-50 dark:bg-slate-800/50 rounded-bl-full -mr-8 -mt-8 opacity-50 pointer-events-none group-hover:scale-110 transition-transform duration-500"}),u.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[u.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-xl bg-gradient-to-br from-slate-800 to-slate-900 flex items-center justify-center text-white shadow-lg shadow-slate-800/20 shrink-0",children:u.jsx(mm,{size:24,className:"md:w-8 md:h-8"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h1",{className:"text-lg md:text-2xl font-bold text-slate-800 dark:text-slate-100 leading-tight",children:"PT. REDONE BERKAH MANDIRI UTAMA"}),u.jsx(Ti,{size:16,className:"text-blue-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),u.jsxs("p",{className:"text-slate-500 dark:text-slate-400 flex items-center gap-1.5 text-xs md:text-sm mt-1",children:[u.jsx(Xm,{size:14,className:"shrink-0"}),"Jl. Raya Cileungsi - Jonggol Km. 10, Cipeucang, Cileungsi, Bogor 16820"]})]})]}),u.jsxs("div",{className:"hidden md:block text-right relative z-10",children:[u.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Hari Ini"}),u.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 bg-slate-100 dark:bg-slate-800 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-700",children:new Date().toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 dark:from-dark-card dark:to-slate-900 p-5 md:p-8 rounded-2xl shadow-lg text-white relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white opacity-5 rounded-full blur-2xl"}),u.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-32 h-32 bg-primary-500 opacity-10 rounded-full blur-2xl"}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 px-3 py-1 rounded-full mb-4 backdrop-blur-sm border border-white/10",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-400 animate-pulse"}),u.jsx("span",{className:"text-xs font-medium text-slate-200",children:"Status Keuangan"})]}),u.jsx("h3",{className:"text-sm md:text-base font-medium text-slate-300 mb-1",children:(s==null?void 0:s.role)==="ADMIN"?"Total Hutang Gaji Perusahaan":"Sisa Saldo Gaji Saya"}),u.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6 tracking-tight",children:l?u.jsx(Et,{className:"animate-spin"}):b(d.totalProduction-d.totalPayments)}),(s==null?void 0:s.role)==="ADMIN"&&u.jsxs("button",{onClick:()=>i(ut.FINANCE),className:"w-full md:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-primary-600 hover:bg-primary-500 text-white rounded-xl text-sm font-bold transition-all shadow-lg shadow-primary-900/20 group",children:["Lihat Laporan Detail ",u.jsx(sr,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-3 md:gap-6",children:[(s==null?void 0:s.role)==="ADMIN"&&u.jsx(p,{title:"Total Karyawan",value:d.empCount,icon:Zm,color:"bg-blue-500 text-blue-500",onClick:()=>i(ut.EMPLOYEES)}),u.jsx(p,{title:"Item Komponen",value:d.compCount,icon:zi,color:"bg-purple-500 text-purple-500",onClick:()=>i(ut.COMPONENTS)})]}),f&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm animate-fade-in",children:u.jsxs("div",{className:"bg-white dark:bg-dark-card w-full max-w-2xl rounded-2xl shadow-2xl border border-slate-100 dark:border-dark-border flex flex-col max-h-[90vh]",children:[u.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-dark-border flex justify-between items-start",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-900 text-white flex items-center justify-center shadow-lg",children:u.jsx(mm,{size:32})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"PT. REDONE BERKAH MANDIRI UTAMA"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1 max-w-sm",children:"Jl. Raya Cileungsi - Jonggol Km. 10, Cipeucang, Cileungsi, Bogor 16820"})]})]}),u.jsx("button",{onClick:()=>g(!1),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-400 transition-colors",children:u.jsx(pa,{size:24})})]}),u.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(gv,{size:18,className:"text-primary-500"}),u.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Tentang Aplikasi"})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"font-bold text-lg text-slate-800 dark:text-slate-100 mb-2",children:["RedonePaypro ",u.jsx("span",{className:"text-xs bg-primary-500 text-white px-2 py-0.5 rounded-full ml-2 align-middle",children:"v1.0.0"})]}),u.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed",children:"Sistem manajemen produksi dan penggajian borongan terintegrasi yang dirancang khusus untuk mempermudah pencatatan hasil kerja karyawan, pengelolaan kasbon, serta perhitungan gaji otomatis yang akurat dan transparan."})]})]})}),u.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-dark-border bg-slate-50 dark:bg-dark-card rounded-b-2xl flex justify-center text-xs text-slate-400",children:[" ",new Date().getFullYear()," RedonePaypro. All rights reserved."]})]})})]})},yv=()=>{const[i,s]=B.useState([]),[l,r]=B.useState([]),[d,h]=B.useState(!0),[f,g]=B.useState(!1),[b,p]=B.useState(!1),[v,j]=B.useState(""),[N,C]=B.useState({id:"",name:"",address:""}),[R,z]=B.useState(!1),[L,H]=B.useState(!1),[Y,$]=B.useState({username:"",password:""}),[F,le]=B.useState(null),[P,Q]=B.useState(null),[se,pe]=B.useState(null),[ke,ne]=B.useState(null);B.useEffect(()=>{je()},[]),B.useEffect(()=>{const E=I=>{ke&&!I.target.closest(".action-menu")&&ne(null)};return document.addEventListener("click",E),()=>document.removeEventListener("click",E)},[ke]);const je=async()=>{h(!0);try{const E=await Ne.getEmployees(),I=await Ne.getUsers();s(E),r(I)}catch(E){console.error("Error loading employees",E)}finally{h(!1)}},he=E=>{if(E)C({...E}),p(!0);else{const W=`KPRD-${(i.reduce((ue,xe)=>{const He=parseInt(xe.id.replace("KPRD-",""),10);return!isNaN(He)&&He>ue?He:ue},0)+1).toString().padStart(3,"0")}`;C({id:W,name:"",address:""}),p(!1)}g(!0)},Z=async E=>{if(E.preventDefault(),!!N.name.trim())try{await Ne.saveEmployee(N),g(!1),je()}catch{alert("Gagal menyimpan data.")}},ge=async E=>{le(E);const I=await Ne.getUserByEmployeeId(E.id);$(I?{username:I.username,password:I.password}:{username:"",password:""}),H(!0)},_=async E=>{if(E.preventDefault(),!!F){if(!Y.username||!Y.password){alert("Username dan Password wajib diisi");return}try{const I={username:Y.username,password:Y.password,role:"USER",employeeId:F.id,fullName:F.name};await Ne.saveUser(I),H(!1),je()}catch(I){alert(I.message)}}},G=async()=>{F&&window.confirm(`Hapus akses login untuk ${F.name}?`)&&(await Ne.deleteUserByEmployeeId(F.id),H(!1),je())},ee=async E=>{const I=await Ne.checkEmployeeDependencies(E.id);if(I.hasDependencies){const W=[];I.details.production>0&&W.push(`Hasil Kerja (${I.details.production})`),I.details.payments>0&&W.push(`Pembayaran/Kasbon (${I.details.payments})`);const ue=`Tidak dapat menghapus karyawan ${E.name}. Data ini masih memiliki keterkaitan dengan: ${W.join(", ")}. Harap hapus transaksi terkait terlebih dahulu.`;pe(ue)}else Q(E.id)},J=async()=>{P&&(await Ne.deleteEmployee(P),je(),Q(null))},te=()=>{const E=window;if(!E.jspdf){alert("Library PDF sedang dimuat.");return}z(!0);try{const{jsPDF:I}=E.jspdf,W=new I("p","mm","a4");W.setFontSize(16),W.setFont("helvetica","bold"),W.text("PT. REDONE BERKAH MANDIRI UTAMA",14,15),W.setFontSize(12),W.setFont("helvetica","normal"),W.text("DATA KARYAWAN AKTIF",14,21),W.setFontSize(10);const ue=new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"});W.text(`Per Tanggal: ${ue}`,14,27),W.text(`Total Karyawan: ${i.length} Orang`,14,32),W.line(14,35,196,35);const xe=["ID Karyawan","Nama Lengkap","Alamat / Domisili"],He=i.map(Tt=>[Tt.id,Tt.name,Tt.address]);W.autoTable({head:[xe],body:He,startY:40,theme:"grid",headStyles:{fillColor:[22,163,74],textColor:255,fontStyle:"bold",halign:"center"},styles:{fontSize:10,cellPadding:3,textColor:20},columnStyles:{0:{cellWidth:35,font:"courier"},1:{cellWidth:50,fontStyle:"bold"},2:{cellWidth:"auto"}}});const Me=W.lastAutoTable.finalY+20;Me>250&&W.addPage();const bt=Me>250?40:Me;W.setFont("helvetica","normal"),W.setFontSize(10),W.setTextColor(0,0,0),W.text("Mengetahui,",150,bt,{align:"center"}),W.text("Manager HRD",150,bt+5,{align:"center"}),W.text("(________________________)",150,bt+30,{align:"center"}),W.save(`Data_Karyawan_${new Date().toISOString().split("T")[0]}.pdf`)}catch(I){console.error(I),alert("Gagal membuat PDF.")}finally{z(!1)}},x=i.filter(E=>E.name.toLowerCase().includes(v.toLowerCase())||E.id.toLowerCase().includes(v.toLowerCase())),D=E=>l.some(I=>I.employeeId===E);return u.jsxs("div",{className:"space-y-4 md:space-y-6 relative animate-fade-in",children:[R&&u.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black/80 flex flex-col items-center justify-center text-white backdrop-blur-sm",children:[u.jsx(Et,{size:48,className:"animate-spin mb-4 text-primary-500"}),u.jsx("p",{className:"text-lg font-bold",children:"Sedang Membuat Dokumen PDF..."})]}),u.jsx(Ys,{isOpen:!!P,title:"Hapus Data Karyawan",message:"Apakah Anda yakin ingin menghapus data ini? Data yang dihapus tidak dapat dikembalikan.",onConfirm:J,onCancel:()=>Q(null),type:"danger",confirmText:"Hapus"}),u.jsx(Ys,{isOpen:!!se,title:"Gagal Menghapus Data",message:se||"",onConfirm:()=>pe(null),onCancel:()=>pe(null),type:"info",singleButton:!0,confirmText:"Mengerti"}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-3 md:gap-4",children:[u.jsxs("div",{className:"relative w-full sm:w-72",children:[u.jsx(nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{type:"text",placeholder:"Cari nama atau ID...",value:v,onChange:E=>j(E.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-dark-border bg-white dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-primary-500/50 transition-all shadow-sm"})]}),u.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[u.jsxs("button",{onClick:te,className:"flex-1 sm:flex-none flex justify-center items-center gap-2 px-4 py-2.5 bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900 rounded-xl hover:bg-slate-900 dark:hover:bg-slate-200 shadow-lg shadow-slate-800/20 transition-all font-medium text-sm",children:[u.jsx(bs,{size:18})," Ekspor PDF"]}),u.jsxs("button",{onClick:()=>he(),className:"flex-1 sm:flex-none flex justify-center items-center gap-2 px-4 py-2.5 bg-primary-600 text-white rounded-xl hover:bg-primary-700 shadow-lg shadow-primary-600/30 transition-all font-medium text-sm",children:[u.jsx(Ui,{size:18})," Tambah"]})]})]}),d?u.jsx("div",{className:"p-12 flex justify-center",children:u.jsx(Et,{className:"animate-spin text-primary-500",size:40})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"hidden md:block bg-white dark:bg-dark-card rounded-2xl border border-slate-200 dark:border-dark-border overflow-visible shadow-sm",children:u.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-dark-border",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 font-semibold text-slate-500 text-xs uppercase tracking-wider",children:"ID Karyawan"}),u.jsx("th",{className:"px-6 py-4 font-semibold text-slate-500 text-xs uppercase tracking-wider",children:"Nama Lengkap"}),u.jsx("th",{className:"px-6 py-4 font-semibold text-slate-500 text-xs uppercase tracking-wider",children:"Alamat / Domisili"}),u.jsx("th",{className:"px-6 py-4 font-semibold text-slate-500 text-xs uppercase tracking-wider text-right",children:"Aksi"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-dark-border",children:x.map(E=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"font-mono text-xs font-medium text-primary-600 bg-primary-50 dark:bg-primary-900/30 px-2 py-1 rounded",children:E.id})}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-slate-500",children:u.jsx(_c,{size:16})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-medium text-sm text-slate-700 dark:text-slate-200",children:E.name}),D(E.id)&&u.jsxs("span",{className:"text-[10px] text-green-600 dark:text-green-400 flex items-center gap-1",children:[u.jsx(bm,{size:10})," Akses Login Aktif"]})]})]})}),u.jsx("td",{className:"px-6 py-4 text-xs text-slate-500",children:E.address}),u.jsxs("td",{className:"px-6 py-4 text-right relative action-menu",children:[u.jsx("button",{onClick:I=>{I.stopPropagation(),ne(ke===E.id?null:E.id)},className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-400 hover:text-slate-600 transition-colors",children:u.jsx(gm,{size:18})}),ke===E.id&&u.jsxs("div",{className:"absolute right-8 top-8 w-48 bg-white dark:bg-dark-card border border-slate-200 dark:border-dark-border rounded-xl shadow-lg z-50 p-1 flex flex-col text-left",children:[u.jsxs("button",{onClick:I=>{I.stopPropagation(),ge(E),ne(null)},className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg",children:[u.jsx(ji,{size:14,className:D(E.id)?"text-green-500":"text-slate-400"}),D(E.id)?"Ubah Akses Login":"Buat Akses Login"]}),u.jsxs("button",{onClick:I=>{I.stopPropagation(),he(E),ne(null)},className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg",children:[u.jsx(Zn,{size:14})," Edit Data"]}),u.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-700 my-1"}),u.jsxs("button",{onClick:I=>{I.stopPropagation(),ee(E),ne(null)},className:"flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:[u.jsx(Fn,{size:14})," Hapus Karyawan"]})]})]})]},E.id))})]})})}),u.jsx("div",{className:"md:hidden space-y-3",children:x.map(E=>u.jsxs("div",{className:"bg-white dark:bg-dark-card p-3.5 rounded-xl shadow-sm border border-slate-200 dark:border-dark-border flex items-center justify-between overflow-visible relative",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-50 dark:bg-primary-900/20 text-primary-600 flex items-center justify-center font-bold text-sm",children:E.name.charAt(0)}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 text-sm truncate",children:E.name}),u.jsxs("div",{className:"flex flex-col gap-0.5 mt-0.5",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] font-mono text-slate-400 bg-slate-100 dark:bg-slate-800 w-fit px-1.5 rounded",children:E.id}),D(E.id)&&u.jsx(bm,{size:10,className:"text-green-500"})]}),u.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-slate-500 truncate",children:[u.jsx(Xm,{size:10})," ",E.address]})]})]})]}),u.jsxs("div",{className:"relative action-menu shrink-0",children:[u.jsx("button",{onClick:I=>{I.stopPropagation(),ne(ke===E.id?null:E.id)},className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:u.jsx(gm,{size:20})}),ke===E.id&&u.jsxs("div",{className:"absolute right-0 top-10 w-48 bg-white dark:bg-dark-card border border-slate-200 dark:border-dark-border rounded-xl shadow-xl z-50 p-1 flex flex-col text-left",children:[u.jsxs("button",{onClick:I=>{I.stopPropagation(),ge(E),ne(null)},className:"flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg",children:[u.jsx(ji,{size:16,className:D(E.id)?"text-green-500":"text-slate-400"}),D(E.id)?"Ubah Akses":"Buat Akses"]}),u.jsxs("button",{onClick:I=>{I.stopPropagation(),he(E),ne(null)},className:"flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg",children:[u.jsx(Zn,{size:16})," Edit Data"]}),u.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-700 my-1"}),u.jsxs("button",{onClick:I=>{I.stopPropagation(),ee(E),ne(null)},className:"flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:[u.jsx(Fn,{size:16})," Hapus"]})]})]})]},E.id))}),x.length===0&&u.jsxs("div",{className:"p-12 text-center text-slate-400 flex flex-col items-center",children:[u.jsx(_c,{size:48,className:"mb-4 opacity-20"}),u.jsx("p",{children:"Data karyawan tidak ditemukan."})]})]}),f&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm animate-fade-in",children:u.jsxs("div",{className:"bg-white dark:bg-dark-card w-full max-w-md rounded-2xl p-6 shadow-2xl border border-slate-100 dark:border-dark-border",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:b?"Edit Data Karyawan":"Karyawan Baru"}),u.jsx("button",{onClick:()=>g(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-500",children:u.jsx(pa,{size:20})})]}),u.jsxs("form",{onSubmit:Z,className:"space-y-4 pb-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-500 block mb-1",children:"ID Karyawan"}),u.jsx("input",{type:"text",value:N.id,readOnly:!0,className:"w-full px-4 py-3 md:py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-500 cursor-not-allowed font-mono"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Nama Lengkap"}),u.jsx("input",{type:"text",required:!0,value:N.name,onChange:E=>C({...N,name:E.target.value}),placeholder:"Contoh: Budi Santoso",className:"w-full px-4 py-3 md:py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Alamat"}),u.jsx("textarea",{required:!0,value:N.address,onChange:E=>C({...N,address:E.target.value}),placeholder:"Alamat lengkap...",className:"w-full px-4 py-3 md:py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3})]}),u.jsxs("div",{className:"flex gap-3 mt-8 pt-4 border-t border-slate-100 dark:border-slate-800",children:[u.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 px-4 py-3 text-slate-600 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 rounded-xl transition-colors border border-slate-200 dark:border-slate-700 font-medium",children:"Batal"}),u.jsxs("button",{type:"submit",className:"flex-1 flex justify-center items-center gap-2 px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold transition-all shadow-lg shadow-primary-600/20",children:[u.jsx(Xn,{size:18})," Simpan"]})]})]})]})}),L&&F&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm animate-fade-in",children:u.jsxs("div",{className:"bg-white dark:bg-dark-card w-full max-w-sm rounded-2xl p-6 shadow-2xl border border-slate-100 dark:border-dark-border",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Akses Login"}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Untuk ",F.name]})]}),u.jsx("button",{onClick:()=>H(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-500",children:u.jsx(pa,{size:20})})]}),u.jsxs("form",{onSubmit:_,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Username"}),u.jsx("input",{type:"text",required:!0,value:Y.username,onChange:E=>$({...Y,username:E.target.value}),placeholder:"Username unik",className:"w-full px-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-green-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Password"}),u.jsx("input",{type:"text",required:!0,value:Y.password,onChange:E=>$({...Y,password:E.target.value}),placeholder:"Password",className:"w-full px-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-green-500"})]}),u.jsxs("div",{className:"flex flex-col gap-2 mt-6 pt-4 border-t border-slate-100 dark:border-slate-800",children:[u.jsxs("button",{type:"submit",className:"w-full flex justify-center items-center gap-2 px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold transition-all shadow-lg shadow-green-600/20",children:[u.jsx(ji,{size:18})," Simpan Akses"]}),D(F.id)&&u.jsx("button",{type:"button",onClick:G,className:"w-full flex justify-center items-center gap-2 px-4 py-2.5 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl font-medium transition-colors",children:"Hapus Akses"})]})]})]})})]})},xv=()=>{const{user:i}=Ps(),[s,l]=B.useState([]),[r,d]=B.useState(!0),[h,f]=B.useState(!1),[g,b]=B.useState(!1),[p,v]=B.useState(""),[j,N]=B.useState({id:"",name:"",price:0}),[C,R]=B.useState(!1),[z,L]=B.useState(1),[H,Y]=B.useState(10),[$,F]=B.useState(null),[le,P]=B.useState(null);B.useEffect(()=>{Q()},[]);const Q=async()=>{d(!0);try{const J=await Ne.getComponents();l(J)}catch(J){console.error(J)}finally{d(!1)}};B.useEffect(()=>{L(1)},[p,H]);const se=J=>{if(J)N({...J}),b(!0);else{const te=s.reduce((x,D)=>{const E=parseInt(D.id.replace("KP-",""),10);return!isNaN(E)&&E>x?E:x},0);N({id:`KP-${(te+1).toString().padStart(3,"0")}`,name:"",price:0}),b(!1)}f(!0)},pe=async J=>{if(J.preventDefault(),!(!j.name.trim()||j.price<=0))try{await Ne.saveComponent(j),f(!1),Q()}catch{alert("Gagal menyimpan komponen.")}},ke=async J=>{const te=await Ne.checkComponentDependencies(J.id);if(te.hasDependencies){const x=`Tidak dapat menghapus komponen ${J.name}. Data ini masih digunakan pada ${te.details.production} riwayat Hasil Kerja. Harap hapus transaksi terkait terlebih dahulu.`;P(x)}else F(J.id)},ne=async()=>{$&&(await Ne.deleteComponent($),Q(),F(null))},je=()=>{const J=window;if(!J.jspdf){alert("Library PDF sedang dimuat.");return}R(!0);try{const{jsPDF:te}=J.jspdf,x=new te("p","mm","a4");x.setFontSize(16),x.setFont("helvetica","bold"),x.text("PT. REDONE BERKAH MANDIRI UTAMA",14,15),x.setFontSize(12),x.setFont("helvetica","normal"),x.text("DAFTAR HARGA KOMPONEN & UPAH KERJA",14,21),x.setFontSize(10);const D=new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"});x.text(`Tanggal Cetak: ${D}`,14,27),x.text(`Total Item: ${s.length}`,14,32),x.line(14,35,196,35);const E=["ID Komponen","Nama Komponen","Harga Satuan (Rp)"],I=he.map(xe=>[xe.id,xe.name,new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(xe.price)]);x.autoTable({head:[E],body:I,startY:40,theme:"grid",headStyles:{fillColor:[147,51,234],textColor:255,fontStyle:"bold",halign:"center"},styles:{fontSize:10,cellPadding:3,textColor:20},columnStyles:{0:{cellWidth:35,font:"courier"},1:{cellWidth:"auto"},2:{cellWidth:50,halign:"right",fontStyle:"bold"}}});const W=x.lastAutoTable.finalY+20;W>250&&x.addPage();const ue=W>250?40:W;x.setFont("helvetica","normal"),x.setFontSize(10),x.setTextColor(0,0,0),x.text("Dibuat Oleh,",40,ue,{align:"center"}),x.text("Admin Produksi",40,ue+5,{align:"center"}),x.text("(________________________)",40,ue+30,{align:"center"}),x.text("Disetujui Oleh,",150,ue,{align:"center"}),x.text("Manager Operasional",150,ue+5,{align:"center"}),x.text("(________________________)",150,ue+30,{align:"center"}),x.save(`Daftar_Komponen_${new Date().toISOString().split("T")[0]}.pdf`)}catch(te){console.error(te),alert("Gagal membuat PDF.")}finally{R(!1)}},he=s.filter(J=>J.name.toLowerCase().includes(p.toLowerCase())||J.id.toLowerCase().includes(p.toLowerCase())),Z=he.length,ge=Math.ceil(Z/H),_=(z-1)*H,G=Math.min(_+H,Z),ee=he.slice(_,_+H);return u.jsxs("div",{className:"space-y-4 md:space-y-6 relative animate-fade-in",children:[C&&u.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black/80 flex flex-col items-center justify-center text-white backdrop-blur-sm",children:[u.jsx(Et,{size:48,className:"animate-spin mb-4 text-purple-500"}),u.jsx("p",{className:"text-lg font-bold",children:"Sedang Membuat Dokumen PDF..."})]}),u.jsx(Ys,{isOpen:!!$,title:"Hapus Komponen",message:"Yakin ingin menghapus komponen ini?",onConfirm:ne,onCancel:()=>F(null),type:"danger",confirmText:"Hapus"}),u.jsx(Ys,{isOpen:!!le,title:"Gagal Menghapus Data",message:le||"",onConfirm:()=>P(null),onCancel:()=>P(null),type:"info",singleButton:!0,confirmText:"Mengerti"}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[u.jsxs("div",{className:"relative w-full sm:w-72",children:[u.jsx(nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{type:"text",placeholder:"Cari komponen...",value:p,onChange:J=>v(J.target.value),className:"w-full pl-10 pr-4 py-3 md:py-2 rounded-xl border border-slate-200 dark:border-dark-border bg-white dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-purple-500/50 transition-all shadow-sm"})]}),u.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[u.jsxs("button",{onClick:je,className:"flex-1 sm:flex-none flex justify-center items-center gap-2 px-4 py-3 md:py-2 bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900 rounded-xl hover:bg-slate-900 dark:hover:bg-slate-200 shadow-lg shadow-slate-800/20 transition-all font-medium text-sm",children:[u.jsx(bs,{size:18})," Ekspor PDF"]}),(i==null?void 0:i.role)==="ADMIN"&&u.jsxs("button",{onClick:()=>se(),className:"flex-1 sm:flex-none flex justify-center items-center gap-2 px-4 py-3 md:py-2 bg-purple-600 text-white rounded-xl hover:bg-purple-700 shadow-lg shadow-purple-600/30 transition-all font-medium text-sm",children:[u.jsx(Ui,{size:18})," Tambah"]})]})]}),r?u.jsx("div",{className:"p-12 flex justify-center",children:u.jsx(Et,{className:"animate-spin text-purple-500",size:40})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"hidden md:block bg-white dark:bg-dark-card rounded-2xl border border-slate-200 dark:border-dark-border overflow-hidden shadow-sm",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-dark-border",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 font-semibold text-slate-500 text-xs uppercase tracking-wider",children:"ID"}),u.jsx("th",{className:"px-6 py-4 font-semibold text-slate-500 text-xs uppercase tracking-wider",children:"Nama Komponen"}),u.jsx("th",{className:"px-6 py-4 font-semibold text-slate-500 text-xs uppercase tracking-wider text-right",children:"Harga Satuan"}),(i==null?void 0:i.role)==="ADMIN"&&u.jsx("th",{className:"px-6 py-4 font-semibold text-slate-500 text-xs uppercase tracking-wider text-right",children:"Aksi"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-dark-border",children:ee.map(J=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"font-mono text-xs font-medium text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:J.id})}),u.jsx("td",{className:"px-6 py-4 font-medium text-sm text-slate-800 dark:text-slate-200",children:J.name}),u.jsxs("td",{className:"px-6 py-4 text-right font-bold text-sm text-slate-700 dark:text-slate-300",children:["Rp ",J.price.toLocaleString("id-ID")]}),(i==null?void 0:i.role)==="ADMIN"&&u.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[u.jsx("button",{onClick:()=>se(J),className:"text-blue-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition-colors",children:u.jsx(Zn,{size:16})}),u.jsx("button",{onClick:()=>ke(J),className:"text-slate-400 hover:text-red-500 p-2 hover:bg-red-50 rounded-lg transition-colors",children:u.jsx(Fn,{size:16})})]})]},J.id))})]})}),u.jsx("div",{className:"md:hidden space-y-2",children:ee.map(J=>u.jsxs("div",{className:"bg-white dark:bg-dark-card p-3 rounded-xl shadow-sm border border-slate-200 dark:border-dark-border",children:[u.jsxs("div",{className:"flex justify-between items-start gap-3",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 text-sm truncate",children:J.name}),u.jsx("span",{className:"text-[10px] font-mono text-slate-400 bg-slate-100 dark:bg-slate-800 px-1.5 py-0.5 rounded mt-0.5 inline-block",children:J.id})]}),u.jsx("div",{className:"text-right whitespace-nowrap",children:u.jsxs("span",{className:"font-bold text-purple-600 dark:text-purple-400 text-sm",children:["Rp ",J.price.toLocaleString("id-ID")]})})]}),(i==null?void 0:i.role)==="ADMIN"&&u.jsxs("div",{className:"flex justify-end gap-2 border-t border-slate-50 dark:border-slate-800 pt-1.5 mt-1.5",children:[u.jsx("button",{onClick:()=>se(J),className:"flex items-center gap-1 text-[10px] font-bold text-blue-600 bg-blue-50 dark:bg-blue-900/20 px-3 py-1.5 rounded-lg active:scale-95 transition-transform",children:"Edit"}),u.jsx("button",{onClick:()=>ke(J),className:"flex items-center gap-1 text-[10px] font-bold text-red-600 bg-red-50 dark:bg-red-900/20 px-3 py-1.5 rounded-lg active:scale-95 transition-transform",children:"Hapus"})]})]},J.id))})]}),!r&&he.length===0&&u.jsxs("div",{className:"p-12 text-center text-slate-400 flex flex-col items-center",children:[u.jsx(zi,{size:48,className:"mb-4 opacity-20"}),u.jsx("p",{children:"Data komponen tidak ditemukan."})]}),!r&&he.length>0&&u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 p-4 bg-white dark:bg-dark-card rounded-2xl border border-slate-200 dark:border-dark-border shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 w-full sm:w-auto justify-between sm:justify-start",children:[u.jsx("span",{children:"Tampilkan:"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:H,onChange:J=>Y(Number(J.target.value)),className:"appearance-none bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg pl-3 pr-8 py-1.5 focus:outline-none focus:ring-2 focus:ring-purple-500 font-medium text-slate-800 dark:text-slate-200",children:[u.jsx("option",{value:10,children:"10 Baris"}),u.jsx("option",{value:25,children:"25 Baris"}),u.jsx("option",{value:50,children:"50 Baris"}),u.jsx("option",{value:100,children:"100 Baris"})]}),u.jsx(ps,{size:14,className:"absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto",children:[u.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[_+1," - ",G," dari ",Z," data"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>L(J=>Math.max(1,J-1)),disabled:z===1,className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-800 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Ri,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"Sebelumnya"})]}),u.jsxs("button",{onClick:()=>L(J=>Math.min(ge,J+1)),disabled:z===ge,className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-800 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("span",{className:"hidden sm:inline",children:"Selanjutnya"})," ",u.jsx(sr,{size:16})]})]})]})]}),(i==null?void 0:i.role)==="ADMIN"&&h&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm animate-fade-in",children:u.jsxs("div",{className:"bg-white dark:bg-dark-card w-full max-w-md rounded-2xl p-6 shadow-2xl border border-slate-100 dark:border-dark-border",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:g?"Edit Harga Komponen":"Komponen Baru"}),u.jsx("button",{onClick:()=>f(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-500",children:u.jsx(pa,{size:20})})]}),u.jsxs("form",{onSubmit:pe,className:"space-y-4 pb-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-500 block mb-1",children:"ID Komponen"}),u.jsx("input",{type:"text",value:j.id,readOnly:!0,className:"w-full px-4 py-3 md:py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-500 cursor-not-allowed font-mono"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Nama Komponen"}),u.jsx("input",{type:"text",required:!0,value:j.name,onChange:J=>N({...j,name:J.target.value}),className:"w-full px-4 py-3 md:py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Contoh: Bodi Depan X"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Harga Satuan (Rp)"}),u.jsx("input",{type:"number",required:!0,min:"1",value:j.price,onChange:J=>N({...j,price:Number(J.target.value)}),className:"w-full px-4 py-3 md:py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-purple-500 font-bold text-lg"})]}),u.jsxs("div",{className:"flex gap-3 mt-8 pt-4 border-t border-slate-100 dark:border-slate-800",children:[u.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-3 text-slate-600 hover:bg-slate-100 dark:text-slate-400 rounded-xl transition-colors border border-slate-200 dark:border-slate-700 font-medium",children:"Batal"}),u.jsxs("button",{type:"submit",className:"flex-1 flex justify-center items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-medium transition-all shadow-lg shadow-purple-600/20",children:[u.jsx(Xn,{size:18})," Simpan"]})]})]})]})})]})},vv=()=>{const{user:i}=Ps(),[s,l]=B.useState([]),[r,d]=B.useState([]),[h,f]=B.useState([]),[g,b]=B.useState(!0),[p,v]=B.useState(""),[j,N]=B.useState(""),[C,R]=B.useState(""),[z,L]=B.useState(""),[H,Y]=B.useState(!1),[$,F]=B.useState(1),[le,P]=B.useState(10),[Q,se]=B.useState(!1),[pe,ke]=B.useState(!1),[ne,je]=B.useState({id:"",date:"",employeeId:"",componentId:"",qty:0}),[he,Z]=B.useState(null),[ge,_]=B.useState(!1),[G,ee]=B.useState(!1),[J,te]=B.useState({start:"",end:""}),[x,D]=B.useState("COMPONENT"),[E,I]=B.useState("");B.useEffect(()=>{W()},[i]);const W=async()=>{b(!0);try{let ae=await Ne.getProductionLogs();const Ve=await Ne.getEmployees(),qt=await Ne.getComponents();(i==null?void 0:i.role)==="USER"&&i.employeeId&&(ae=ae.filter(va=>va.employeeId===i.employeeId),R(i.employeeId)),l(ae),d(Ve),f(qt)}catch(ae){console.error(ae)}finally{b(!1)}const V=new Date,ve=new Date(V.getFullYear(),V.getMonth(),1).toLocaleDateString("en-CA"),Fe=new Date(V.getFullYear(),V.getMonth()+1,0).toLocaleDateString("en-CA");te({start:ve,end:Fe})};B.useEffect(()=>{F(1)},[p,j,C,z,le]);const ue=V=>{if(V)je({...V}),ke(!0);else{const ve=new Date().toLocaleDateString("en-CA");je({id:Date.now().toString(),date:ve,employeeId:"",componentId:"",qty:0}),ke(!1)}se(!0)},xe=async V=>{if(V.preventDefault(),!ne.employeeId||!ne.componentId||ne.qty<=0)return;const ve=h.find(ae=>ae.id===ne.componentId);if(!ve)return;const Fe={...ne,priceSnapshot:ve.price,total:ne.qty*ve.price};try{await Ne.saveProductionLog(Fe),se(!1),W()}catch{alert("Gagal menyimpan data produksi.")}},He=async()=>{he&&(await Ne.deleteProductionLog(he),W(),Z(null))},Me=()=>{v(""),N(""),(i==null?void 0:i.role)==="ADMIN"&&R(""),L("")},bt=V=>{var ve;return((ve=r.find(Fe=>Fe.id===V))==null?void 0:ve.name)||V},Tt=V=>{var ve;return((ve=h.find(Fe=>Fe.id===V))==null?void 0:ve.name)||V},ba=()=>{var ve;return(((ve=h.find(Fe=>Fe.id===ne.componentId))==null?void 0:ve.price)||0)*ne.qty},ka=V=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(V),Ie=(()=>{if(!ne.employeeId||!ne.date)return null;const V=s.filter(ae=>ae.employeeId===ne.employeeId&&ae.date===ne.date&&ae.id!==ne.id),ve=V.reduce((ae,Ve)=>ae+Ve.total,0),Fe=V.length;return{totalDaily:ve,countItems:Fe}})(),be=s.filter(V=>{const ve=p?V.date>=p:!0,Fe=j?V.date<=j:!0,ae=C?V.employeeId===C:!0,Ve=z?V.componentId===z:!0;return ve&&Fe&&ae&&Ve}).sort((V,ve)=>new Date(ve.date).getTime()-new Date(V.date).getTime()),Ye=be.length,ua=Math.ceil(Ye/le),ya=($-1)*le,xs=Math.min(ya+le,Ye),xa=be.slice(ya,ya+le),Wn=async()=>{const V=window;if(!V.jspdf){alert("Library PDF sedang dimuat.");return}let ve=E;if((i==null?void 0:i.role)==="USER"&&(ve=i.employeeId||""),x==="EMPLOYEE"&&!ve){alert("Silakan pilih karyawan terlebih dahulu.");return}_(!0),ee(!1);try{const{jsPDF:Fe}=V.jspdf,ae=new Fe("p","mm","a4"),Ve=new Date(J.start).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),qt=new Date(J.end).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"});let va=await Ne.getProductionLogs();if(va=va.filter(At=>At.date>=J.start&&At.date<=J.end),x==="COMPONENT"){ae.setFontSize(16),ae.setFont("helvetica","bold"),ae.text("PT. REDONE BERKAH MANDIRI UTAMA",14,15),ae.setFontSize(12),ae.setFont("helvetica","normal"),ae.text("REKAPITULASI PRODUKSI PER KOMPONEN",14,21),ae.setFontSize(10),ae.text(`Periode: ${Ve} s/d ${qt}`,14,27),(i==null?void 0:i.role)==="USER"&&ae.text(`Karyawan: ${bt(i.employeeId||"")}`,14,32),ae.line(14,35,196,35),(i==null?void 0:i.role)==="USER"&&i.employeeId&&(va=va.filter(Ce=>Ce.employeeId===i.employeeId));const At=new Map;va.forEach(Ce=>{At.has(Ce.componentId)||At.set(Ce.componentId,{compName:Tt(Ce.componentId),totalQty:0,totalAmount:0});const Ct=At.get(Ce.componentId);Ct.totalQty+=Ce.qty,Ct.totalAmount+=Ce.total});const Zt=Array.from(At.values()).sort((Ce,Ct)=>Ce.compName.localeCompare(Ct.compName)),el=["No","Nama Komponen","Total Qty","Total Upah"],Ot=[];Zt.forEach((Ce,Ct)=>{Ot.push([Ct+1,Ce.compName,Ce.totalQty,ka(Ce.totalAmount)])});const ft=Zt.reduce((Ce,Ct)=>Ce+Ct.totalAmount,0),Ft=Zt.reduce((Ce,Ct)=>Ce+Ct.totalQty,0);Ot.push([{content:"TOTAL GRAND",colSpan:2,styles:{halign:"right",fontStyle:"bold"}},{content:Ft,styles:{fontStyle:"bold"}},{content:ka(ft),styles:{fontStyle:"bold",fillColor:[240,253,244]}}]),ae.autoTable({head:[el],body:Ot,startY:40,theme:"grid",headStyles:{fillColor:[22,163,74],textColor:255,fontStyle:"bold",halign:"center"},columnStyles:{0:{cellWidth:10,halign:"center"},1:{cellWidth:"auto"},2:{cellWidth:30,halign:"center"},3:{cellWidth:40,halign:"right",fontStyle:"bold"}}}),ae.save(`Rekap_Komponen_${J.start}.pdf`)}else{const At=bt(ve);ae.setFont("helvetica","bold"),ae.setFontSize(16),ae.text("PT. REDONE BERKAH MANDIRI UTAMA",105,15,{align:"center"}),ae.setFontSize(12),ae.text("SLIP GAJI BORONGAN",105,22,{align:"center"}),ae.setLineWidth(.5),ae.line(15,26,195,26),ae.setLineWidth(.1),ae.setFontSize(10),ae.setFont("helvetica","normal");const Zt=35;ae.text("Nama Karyawan",15,Zt),ae.text(":",45,Zt),ae.setFont("helvetica","bold"),ae.text(At.toUpperCase(),48,Zt),ae.setFont("helvetica","normal"),ae.text("Periode",15,Zt+5),ae.text(":",45,Zt+5),ae.text(`${Ve} - ${qt}`,48,Zt+5);const el=va.filter(at=>at.employeeId===ve),Ot=new Map;el.forEach(at=>{Ot.has(at.componentId)||Ot.set(at.componentId,{compName:Tt(at.componentId),totalQty:0,totalAmount:0});const Ht=Ot.get(at.componentId);Ht.totalQty+=at.qty,Ht.totalAmount+=at.total});const ft=Array.from(Ot.values()).sort((at,Ht)=>at.compName.localeCompare(Ht.compName)),Ft=["No","Nama Pekerjaan / Komponen","Qty","Subtotal"],Ce=[];ft.forEach((at,Ht)=>{Ce.push([Ht+1,at.compName,at.totalQty,ka(at.totalAmount)])});const Ct=ft.reduce((at,Ht)=>at+Ht.totalAmount,0);ae.autoTable({head:[Ft],body:Ce,startY:45,theme:"plain",headStyles:{fillColor:[243,244,246],textColor:33,fontStyle:"bold",lineWidth:.1,lineColor:200,halign:"left"},bodyStyles:{lineColor:229,lineWidth:.1,textColor:50},styles:{fontSize:10,cellPadding:3,valign:"middle"},columnStyles:{0:{cellWidth:15,halign:"center"},1:{cellWidth:"auto"},2:{cellWidth:25,halign:"center"},3:{cellWidth:45,halign:"right"}}});const Vs=ae.lastAutoTable.finalY+5;ae.setFillColor(243,244,246),ae.rect(125,Vs,70,12,"F"),ae.setFontSize(11),ae.setFont("helvetica","bold"),ae.setTextColor(33,33,33),ae.text("TOTAL TERIMA:",130,Vs+8),ae.text(ka(Ct),190,Vs+8,{align:"right"});const Qs=Vs+35;ae.setFontSize(10),ae.setFont("helvetica","normal"),ae.text("Penerima,",40,Qs,{align:"center"}),ae.text(`(${At})`,40,Qs+25,{align:"center"}),ae.text("Admin Keuangan,",160,Qs,{align:"center"}),ae.text("(____________________)",160,Qs+25,{align:"center"}),ae.save(`Slip_Gaji_${At.replace(/\s+/g,"_")}_${J.start}.pdf`)}}catch(Fe){console.error(Fe),alert("Gagal membuat PDF.")}finally{_(!1)}};return u.jsxs("div",{className:"space-y-4 md:space-y-6 relative animate-fade-in",children:[ge&&u.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black/80 flex flex-col items-center justify-center text-white backdrop-blur-sm",children:[u.jsx(Et,{size:48,className:"animate-spin mb-4 text-green-500"}),u.jsx("p",{className:"text-lg font-bold",children:"Sedang Mengolah Data & Membuat PDF..."})]}),u.jsx(Ys,{isOpen:!!he,title:"Hapus Data Hasil Kerja",message:"Yakin ingin menghapus data ini?",onConfirm:He,onCancel:()=>Z(null),type:"danger",confirmText:"Hapus"}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Hasil Kerja Harian"}),u.jsx("p",{className:"text-sm text-slate-500",children:(i==null?void 0:i.role)==="ADMIN"?"Rekapitulasi output produksi":"Riwayat pekerjaan Anda"})]}),u.jsxs("div",{className:"flex w-full sm:w-auto gap-2",children:[u.jsxs("button",{onClick:()=>ee(!0),className:"flex-1 sm:flex-none flex justify-center items-center gap-2 px-4 py-2.5 bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900 rounded-xl hover:bg-slate-900 dark:hover:bg-slate-200 shadow-lg shadow-slate-800/20 transition-all font-medium text-sm",children:[u.jsx(bs,{size:18})," Ekspor PDF"]}),(i==null?void 0:i.role)==="ADMIN"&&u.jsxs("button",{onClick:()=>ue(),className:"flex-1 sm:flex-none flex justify-center items-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700 shadow-lg shadow-green-600/30 transition-all font-medium text-sm",children:[u.jsx(Ui,{size:18})," Input Hasil"]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-2xl border border-slate-200 dark:border-dark-border shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-slate-50/50 dark:bg-slate-800/20",onClick:()=>Y(!H),children:[u.jsxs("div",{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200 font-semibold",children:[u.jsx(tr,{size:18,className:"text-slate-500"}),u.jsx("h3",{children:"Filter & Cari Data"})]}),H?u.jsx(Oc,{size:20,className:"text-slate-400"}):u.jsx(ps,{size:20,className:"text-slate-400"})]}),H&&u.jsx("div",{className:"p-5 border-t border-slate-100 dark:border-dark-border animate-fade-in",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("label",{className:"text-xs text-slate-500 font-bold mb-1 block uppercase",children:"Dari Tanggal"}),u.jsx("input",{type:"date",value:p,onChange:V=>v(V.target.value),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("label",{className:"text-xs text-slate-500 font-bold mb-1 block uppercase",children:"Sampai Tanggal"}),u.jsx("input",{type:"date",value:j,onChange:V=>N(V.target.value),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm"})]}),(i==null?void 0:i.role)==="ADMIN"&&u.jsxs("div",{className:"relative",children:[u.jsx("label",{className:"text-xs text-slate-500 font-bold mb-1 block uppercase",children:"Karyawan"}),u.jsxs("select",{value:C,onChange:V=>R(V.target.value),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm appearance-none",children:[u.jsx("option",{value:"",children:"Semua Karyawan"}),r.map(V=>u.jsx("option",{value:V.id,children:V.name},V.id))]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("label",{className:"text-xs text-slate-500 font-bold mb-1 block uppercase",children:"Komponen"}),u.jsxs("select",{value:z,onChange:V=>L(V.target.value),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm appearance-none",children:[u.jsx("option",{value:"",children:"Semua Komponen"}),h.map(V=>u.jsx("option",{value:V.id,children:V.name},V.id))]})]}),u.jsx("div",{className:"flex items-end",children:u.jsxs("button",{onClick:Me,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors text-sm font-medium h-[38px]",children:[u.jsx(Cc,{size:16})," Reset"]})})]})})]}),g?u.jsx("div",{className:"p-12 flex justify-center",children:u.jsx(Et,{className:"animate-spin text-green-500",size:40})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"hidden md:block bg-white dark:bg-dark-card rounded-2xl border border-slate-200 dark:border-dark-border overflow-hidden shadow-sm",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-dark-border",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Tanggal"}),u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Karyawan"}),u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Komponen"}),u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider text-right",children:"Qty"}),u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider text-right",children:"Total Upah"}),(i==null?void 0:i.role)==="ADMIN"&&u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider text-right",children:"Aksi"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-dark-border",children:xa.map(V=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 text-xs text-slate-600 dark:text-slate-300 whitespace-nowrap",children:new Date(V.date).toLocaleDateString("id-ID")}),u.jsx("td",{className:"px-6 py-4 text-xs font-medium text-slate-800 dark:text-slate-200",children:bt(V.employeeId)}),u.jsx("td",{className:"px-6 py-4 text-xs text-slate-600 dark:text-slate-400",children:Tt(V.componentId)}),u.jsx("td",{className:"px-6 py-4 text-xs text-right font-mono",children:V.qty}),u.jsxs("td",{className:"px-6 py-4 text-xs text-right font-bold text-green-600 dark:text-green-400",children:["Rp ",V.total.toLocaleString("id-ID")]}),(i==null?void 0:i.role)==="ADMIN"&&u.jsxs("td",{className:"px-6 py-4 text-right space-x-2 whitespace-nowrap",children:[u.jsx("button",{onClick:()=>ue(V),className:"text-blue-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition-colors",children:u.jsx(Zn,{size:16})}),u.jsx("button",{onClick:()=>Z(V.id),className:"text-slate-400 hover:text-red-500 p-2 hover:bg-red-50 rounded-lg transition-colors",children:u.jsx(Fn,{size:16})})]})]},V.id))})]})})}),u.jsx("div",{className:"md:hidden space-y-4",children:xa.map(V=>u.jsxs("div",{className:"bg-white dark:bg-dark-card p-4 rounded-xl shadow-sm border border-slate-200 dark:border-dark-border",children:[u.jsxs("div",{className:"flex justify-between items-start gap-3 mb-3",children:[u.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 text-base truncate flex-1",children:bt(V.employeeId)}),u.jsxs("span",{className:"font-bold text-green-600 dark:text-green-400 text-base shrink-0",children:["Rp ",V.total.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between items-center text-sm mb-4 text-slate-500 dark:text-slate-400",children:[u.jsx("span",{className:"truncate pr-2",children:Tt(V.componentId)}),u.jsxs("span",{className:"font-mono bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded text-slate-600 dark:text-slate-300 text-xs font-bold",children:["x",V.qty]})]}),u.jsxs("div",{className:`flex justify-between items-center pt-3 border-t border-slate-100 dark:border-slate-800 ${(i==null?void 0:i.role)!=="ADMIN"?"justify-end":""}`,children:[u.jsxs("div",{className:"flex items-center text-xs text-slate-400 font-medium mr-auto",children:[u.jsx(wc,{size:12,className:"mr-1.5"}),new Date(V.date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})]}),(i==null?void 0:i.role)==="ADMIN"&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>ue(V),className:"flex items-center gap-1.5 text-xs font-bold text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-3 py-1.5 rounded-lg active:scale-95 transition-transform",children:"Edit"}),u.jsx("button",{onClick:()=>Z(V.id),className:"flex items-center gap-1.5 text-xs font-bold text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 px-3 py-1.5 rounded-lg active:scale-95 transition-transform",children:"Hapus"})]})]})]},V.id))})]}),!g&&be.length===0&&u.jsxs("div",{className:"p-12 text-center flex flex-col items-center justify-center text-slate-500 bg-white dark:bg-dark-card rounded-2xl border border-dashed border-slate-200 dark:border-slate-700",children:[u.jsx(nr,{size:48,className:"text-slate-200 dark:text-slate-700 mb-4"}),u.jsx("p",{className:"font-medium",children:"Data tidak ditemukan"}),u.jsx("p",{className:"text-sm",children:"Coba sesuaikan filter pencarian Anda."})]}),!g&&be.length>0&&u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 p-4 bg-white dark:bg-dark-card rounded-2xl border border-slate-200 dark:border-dark-border shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 w-full sm:w-auto justify-between sm:justify-start",children:[u.jsx("span",{children:"Tampilkan:"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:le,onChange:V=>P(Number(V.target.value)),className:"appearance-none bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg pl-3 pr-8 py-1.5 focus:outline-none focus:ring-2 focus:ring-green-500 font-medium text-slate-800 dark:text-slate-200",children:[u.jsx("option",{value:10,children:"10 Baris"}),u.jsx("option",{value:20,children:"20 Baris"}),u.jsx("option",{value:50,children:"50 Baris"}),u.jsx("option",{value:100,children:"100 Baris"})]}),u.jsx(ps,{size:14,className:"absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto",children:[u.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[ya+1," - ",Math.min(xs,Ye)," dari ",Ye," data"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>F(V=>Math.max(1,V-1)),disabled:$===1,className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-800 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Ri,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"Sebelumnya"})]}),u.jsxs("button",{onClick:()=>F(V=>Math.min(ua,V+1)),disabled:$===ua,className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-800 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("span",{className:"hidden sm:inline",children:"Selanjutnya"})," ",u.jsx(sr,{size:16})]})]})]})]}),G&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm animate-fade-in",children:u.jsxs("div",{className:"bg-white dark:bg-dark-card w-full max-w-sm rounded-2xl p-6 shadow-2xl border border-slate-100 dark:border-dark-border",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(bs,{className:"text-slate-500",size:20}),u.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Ekspor Laporan PDF"})]}),u.jsx("button",{onClick:()=>ee(!1),className:"p-1.5 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-400",children:u.jsx(pa,{size:18})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[u.jsxs("button",{onClick:()=>D("COMPONENT"),className:`flex flex-col items-center justify-center p-3 rounded-xl border transition-all ${x==="COMPONENT"?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700":"border-slate-200 dark:border-slate-700 text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[u.jsx(zi,{size:24,className:"mb-2"}),u.jsx("span",{className:"text-xs font-bold",children:"Per Komponen"})]}),u.jsxs("button",{onClick:()=>D("EMPLOYEE"),className:`flex flex-col items-center justify-center p-3 rounded-xl border transition-all ${x==="EMPLOYEE"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700":"border-slate-200 dark:border-slate-700 text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[u.jsx(_c,{size:24,className:"mb-2"}),u.jsx("span",{className:"text-xs font-bold",children:"Per Karyawan"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1.5 block uppercase",children:"Dari Tanggal"}),u.jsx("input",{type:"date",value:J.start,onChange:V=>te({...J,start:V.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm font-medium"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1.5 block uppercase",children:"Sampai Tanggal"}),u.jsx("input",{type:"date",value:J.end,onChange:V=>te({...J,end:V.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm font-medium"})]}),x==="EMPLOYEE"&&(i==null?void 0:i.role)==="ADMIN"&&u.jsxs("div",{className:"animate-fade-in",children:[u.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1.5 block uppercase",children:"Pilih Karyawan"}),u.jsxs("select",{value:E,onChange:V=>I(V.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-900 border border-blue-200 dark:border-blue-900 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium",children:[u.jsx("option",{value:"",children:"-- Pilih Nama Karyawan --"}),r.map(V=>u.jsx("option",{value:V.id,children:V.name},V.id))]})]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx("button",{onClick:()=>ee(!1),className:"flex-1 py-2.5 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl font-medium transition-colors border border-slate-200 dark:border-slate-700",children:"Batal"}),u.jsx("button",{onClick:Wn,className:"flex-1 py-2.5 bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900 rounded-xl font-bold transition-all shadow-lg shadow-slate-800/20",children:"Cetak PDF"})]})]})}),(i==null?void 0:i.role)==="ADMIN"&&Q&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm animate-fade-in",children:u.jsxs("div",{className:"bg-white dark:bg-dark-card w-full max-w-lg rounded-2xl p-6 shadow-2xl border border-slate-100 dark:border-dark-border max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6 sticky top-0 bg-white dark:bg-dark-card z-10 pb-2 border-b border-slate-50 dark:border-slate-800",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:pe?"Edit Hasil Kerja":"Input Hasil Baru"}),u.jsx("button",{onClick:()=>se(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-500",children:u.jsx(pa,{size:20})})]}),u.jsxs("form",{onSubmit:xe,className:"space-y-4 pb-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Tanggal Pengerjaan"}),u.jsx("input",{type:"date",required:!0,value:ne.date,onChange:V=>je({...ne,date:V.target.value}),className:"w-full px-4 py-3 md:py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-green-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Nama Karyawan"}),u.jsxs("select",{required:!0,value:ne.employeeId,onChange:V=>je({...ne,employeeId:V.target.value}),className:"w-full px-4 py-3 md:py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-green-500",children:[u.jsx("option",{value:"",children:"-- Pilih Karyawan --"}),r.map(V=>u.jsx("option",{value:V.id,children:V.name},V.id))]})]}),Ie&&Ie.countItems>0&&u.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-100 dark:border-amber-800 rounded-xl flex items-start gap-3",children:[u.jsx(Jm,{size:16,className:"text-amber-600 dark:text-amber-400 mt-0.5 shrink-0"}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs font-bold text-amber-800 dark:text-amber-300 uppercase tracking-wide",children:"Info Harian"}),u.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-400 mt-0.5",children:["Karyawan ini sudah memiliki ",u.jsxs("b",{children:[Ie.countItems," input"]})," pada tanggal ini dengan total upah ",u.jsxs("b",{children:["Rp ",Ie.totalDaily.toLocaleString("id-ID")]}),"."]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Komponen / Item"}),u.jsxs("select",{required:!0,value:ne.componentId,onChange:V=>je({...ne,componentId:V.target.value}),className:"w-full px-4 py-3 md:py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-green-500",children:[u.jsx("option",{value:"",children:"-- Pilih Komponen --"}),h.map(V=>u.jsxs("option",{value:V.id,children:[V.name," - Rp ",V.price]},V.id))]})]}),u.jsxs("div",{className:"flex gap-4 items-end bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-100 dark:border-slate-700",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Quantity (Pcs)"}),u.jsx("input",{type:"number",required:!0,min:"1",value:ne.qty,onChange:V=>je({...ne,qty:Number(V.target.value)}),className:"w-full px-4 py-2 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-green-500 font-bold text-lg"})]}),u.jsxs("div",{className:"text-right pl-4 border-l border-slate-200 dark:border-slate-700",children:[u.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide block mb-1",children:"Estimasi Upah"}),u.jsxs("span",{className:"font-bold text-green-600 text-xl block",children:["Rp ",ba().toLocaleString("id-ID")]})]})]}),u.jsxs("div",{className:"flex gap-3 mt-8 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>se(!1),className:"flex-1 px-4 py-3 text-slate-600 hover:bg-slate-100 dark:text-slate-400 rounded-xl transition-colors border border-slate-200 dark:border-slate-700 font-medium",children:"Batal"}),u.jsxs("button",{type:"submit",className:"flex-1 flex justify-center items-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold transition-all shadow-lg shadow-green-600/20",children:[u.jsx(Xn,{size:18})," Simpan"]})]})]})]})})]})},wv=()=>{const{user:i}=Ps(),[s,l]=B.useState([]),[r,d]=B.useState([]),[h,f]=B.useState([]),[g,b]=B.useState(!0),[p,v]=B.useState(!1),[j,N]=B.useState(!1),[C,R]=B.useState(!1),[z,L]=B.useState({start:"",end:""}),[H,Y]=B.useState(""),[$,F]=B.useState(""),[le,P]=B.useState(!1),[Q,se]=B.useState("ALL"),[pe,ke]=B.useState(1),[ne,je]=B.useState(20),[he,Z]=B.useState({id:"",date:"",employeeId:"",amount:0,type:"KASBON",note:""}),[ge,_]=B.useState(null),[G,ee]=B.useState(!1);B.useEffect(()=>{J();const X=new Date,Ie=new Date(X.getFullYear(),X.getMonth(),1).toLocaleDateString("en-CA"),be=new Date(X.getFullYear(),X.getMonth()+1,0).toLocaleDateString("en-CA");L({start:Ie,end:be})},[i]),B.useEffect(()=>{ke(1)},[H,$,Q,ne]);const J=async()=>{b(!0);try{let X=await Ne.getPayments(),Ie=await Ne.getProductionLogs();const be=await Ne.getEmployees();(i==null?void 0:i.role)==="USER"&&i.employeeId&&(X=X.filter(Ye=>Ye.employeeId===i.employeeId),Ie=Ie.filter(Ye=>Ye.employeeId===i.employeeId)),l(X),d(be),f(Ie)}catch(X){console.error(X)}finally{b(!1)}},te=X=>{if(X)Z({...X}),N(!0);else{const Ie=new Date().toLocaleDateString("en-CA");Z({id:Date.now().toString(),date:Ie,employeeId:"",amount:0,type:"KASBON",note:""}),N(!1)}v(!0)},x=async X=>{if(X.preventDefault(),!(!he.employeeId||he.amount<=0))try{await Ne.savePayment(he),v(!1),J()}catch{alert("Gagal menyimpan data pembayaran")}},D=async()=>{ge&&(await Ne.deletePayment(ge),J(),_(null))},E=()=>{Y(""),F(""),se("ALL")},I=X=>{var Ie;return((Ie=r.find(be=>be.id===X))==null?void 0:Ie.name)||X},W=s.filter(X=>{const Ie=Q==="ALL"||X.type===Q,be=H?X.date>=H:!0,Ye=$?X.date<=$:!0;return Ie&&be&&Ye}),ue=W.length,xe=Math.ceil(ue/ne),He=(pe-1)*ne,Me=Math.min(He+ne,ue),bt=W.slice(He,He+ne),ba=(X=>{if(!X)return 0;const Ie=h.filter(Ye=>Ye.employeeId===X).reduce((Ye,ua)=>Ye+ua.total,0),be=s.filter(Ye=>Ye.employeeId===X&&Ye.id!==he.id).reduce((Ye,ua)=>Ye+ua.amount,0);return Ie-be})(he.employeeId),ka=async()=>{const X=window;if(!X.jspdf){alert("Library PDF sedang dimuat.");return}ee(!0),R(!1);try{const{jsPDF:Ie}=X.jspdf,be=new Ie("p","mm","a4");let Ye=s.filter(Ve=>Ve.date>=z.start&&Ve.date<=z.end);Q!=="ALL"&&(Ye=Ye.filter(Ve=>Ve.type===Q)),Ye.sort((Ve,qt)=>new Date(qt.date).getTime()-new Date(Ve.date).getTime()),be.setFontSize(14),be.setFont("helvetica","bold"),be.text("PT. REDONE BERKAH MANDIRI UTAMA",14,15),be.setFontSize(11),be.setFont("helvetica","normal"),be.text("DATA PEMBAYARAN & KASBON",14,20),be.setFontSize(9);const ua=new Date(z.start).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),ya=new Date(z.end).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),xs=Q==="ALL"?"Semua Transaksi":Q==="KASBON"?"Kasbon":"Pembayaran Gaji";be.text(`Periode: ${ua} s/d ${ya}`,14,25),be.text(`Kategori: ${xs}`,14,29),(i==null?void 0:i.role)==="USER"&&be.text(`Karyawan: ${I(i.employeeId||"")}`,14,33);const xa=(i==null?void 0:i.role)==="USER"?36:32;be.setLineWidth(.5),be.line(14,xa,196,xa);const Wn=["Tanggal","Karyawan","Tipe","Catatan","Nominal"],V=Ye.map(Ve=>[new Date(Ve.date).toLocaleDateString("id-ID"),I(Ve.employeeId),Ve.type==="KASBON"?"Kasbon":"Gaji",Ve.note||"-",new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(Ve.amount)]),ve=Ye.reduce((Ve,qt)=>Ve+qt.amount,0);V.push([{content:"TOTAL",colSpan:4,styles:{halign:"right",fontStyle:"bold"}},{content:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(ve),styles:{fontStyle:"bold"}}]),be.autoTable({head:[Wn],body:V,startY:xa+5,theme:"grid",headStyles:{fillColor:[30,64,175],textColor:255,fontStyle:"bold",halign:"center",cellPadding:3},styles:{fontSize:9,cellPadding:3,textColor:20,lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{cellWidth:30},1:{cellWidth:50},2:{cellWidth:25},3:{cellWidth:"auto"},4:{cellWidth:40,halign:"right",fontStyle:"bold"}}});const Fe=be.lastAutoTable.finalY+20;Fe>250&&be.addPage();const ae=Fe>250?40:Fe;be.setFont("helvetica","normal"),be.setFontSize(10),be.setTextColor(0,0,0),be.text("Dibuat Oleh,",40,ae,{align:"center"}),be.text("Admin Keuangan",40,ae+5,{align:"center"}),be.text("(________________________)",40,ae+30,{align:"center"}),be.text("Disetujui Oleh,",150,ae,{align:"center"}),be.text("Manager Keuangan",150,ae+5,{align:"center"}),be.text("(________________________)",150,ae+30,{align:"center"}),be.save(`Data_Pembayaran_${z.start}.pdf`)}catch(Ie){console.error(Ie),alert("Gagal membuat PDF.")}finally{ee(!1)}};return u.jsxs("div",{className:"space-y-4 md:space-y-6 relative animate-fade-in",children:[G&&u.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black/80 flex flex-col items-center justify-center text-white backdrop-blur-sm",children:[u.jsx(Et,{size:48,className:"animate-spin mb-4 text-blue-500"}),u.jsx("p",{className:"text-lg font-bold",children:"Sedang Membuat Dokumen PDF..."})]}),u.jsx(Ys,{isOpen:!!ge,title:"Hapus Data Pembayaran",message:"Yakin ingin menghapus data transaksi ini?",onConfirm:D,onCancel:()=>_(null),type:"danger",confirmText:"Hapus"}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Pembayaran & Kasbon"}),u.jsx("p",{className:"text-sm text-slate-500",children:(i==null?void 0:i.role)==="ADMIN"?"Kelola pengeluaran untuk karyawan":"Riwayat penerimaan uang Anda"})]}),u.jsxs("div",{className:"flex w-full md:w-auto gap-2",children:[u.jsxs("button",{onClick:()=>R(!0),className:"flex-1 md:flex-none flex justify-center items-center gap-2 px-4 py-2.5 bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900 rounded-xl hover:bg-slate-900 dark:hover:bg-slate-200 shadow-lg shadow-slate-800/20 transition-all font-medium text-sm",children:[u.jsx(bs,{size:18})," Ekspor PDF"]}),(i==null?void 0:i.role)==="ADMIN"&&u.jsxs("button",{onClick:()=>te(),className:"flex-1 md:flex-none flex justify-center items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 shadow-lg shadow-blue-600/30 transition-all font-medium text-sm",children:[u.jsx(Ui,{size:18})," Input Transaksi"]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-2xl border border-slate-200 dark:border-dark-border shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-slate-50/50 dark:bg-slate-800/20",onClick:()=>P(!le),children:[u.jsxs("div",{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200 font-semibold",children:[u.jsx(tr,{size:18,className:"text-slate-500"}),u.jsx("h3",{children:"Filter Data"})]}),le?u.jsx(Oc,{size:20,className:"text-slate-400"}):u.jsx(ps,{size:20,className:"text-slate-400"})]}),le&&u.jsx("div",{className:"p-5 border-t border-slate-100 dark:border-dark-border animate-fade-in",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("label",{className:"text-xs text-slate-500 font-bold mb-1 block uppercase",children:"Dari Tanggal"}),u.jsx("input",{type:"date",value:H,onChange:X=>Y(X.target.value),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("label",{className:"text-xs text-slate-500 font-bold mb-1 block uppercase",children:"Sampai Tanggal"}),u.jsx("input",{type:"date",value:$,onChange:X=>F(X.target.value),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),u.jsx("div",{className:"flex items-end",children:u.jsxs("button",{onClick:E,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors text-sm font-medium h-[38px]",children:[u.jsx(Cc,{size:16})," Reset"]})})]})})]}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0 hide-scrollbar",children:[{id:"ALL",label:"Semua"},{id:"KASBON",label:"Kasbon"},{id:"SALARY",label:"Pembayaran Gaji"}].map(X=>u.jsx("button",{onClick:()=>se(X.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${Q===X.id?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"bg-white text-slate-600 dark:bg-dark-card dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:X.label},X.id))}),g?u.jsx("div",{className:"p-12 flex justify-center",children:u.jsx(Et,{className:"animate-spin text-blue-500",size:40})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"hidden md:block bg-white dark:bg-dark-card rounded-2xl border border-slate-200 dark:border-dark-border overflow-hidden shadow-sm",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-dark-border",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Tanggal"}),u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Karyawan"}),u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Jenis Transaksi"}),u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Catatan"}),u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider text-right",children:"Nominal"}),(i==null?void 0:i.role)==="ADMIN"&&u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider text-right",children:"Aksi"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-dark-border",children:bt.map(X=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-300 whitespace-nowrap",children:new Date(X.date).toLocaleDateString("id-ID")}),u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-800 dark:text-slate-200",children:I(X.employeeId)}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-xs font-bold uppercase tracking-wide ${X.type==="KASBON"?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400":"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"}`,children:X.type==="KASBON"?"Kasbon":"Bayar Gaji"})}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-500 dark:text-slate-400 italic truncate max-w-[150px]",children:X.note||"-"}),u.jsxs("td",{className:"px-6 py-4 text-sm text-right font-bold text-slate-700 dark:text-slate-200",children:["Rp ",X.amount.toLocaleString("id-ID")]}),(i==null?void 0:i.role)==="ADMIN"&&u.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[u.jsx("button",{onClick:()=>te(X),className:"text-blue-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition-colors",children:u.jsx(Zn,{size:16})}),u.jsx("button",{onClick:()=>_(X.id),className:"text-slate-400 hover:text-red-500 p-2 hover:bg-red-50 rounded-lg transition-colors",children:u.jsx(Fn,{size:16})})]})]},X.id))})]})}),u.jsx("div",{className:"md:hidden space-y-3",children:bt.map(X=>u.jsxs("div",{className:"bg-white dark:bg-dark-card p-3.5 rounded-xl shadow-sm border border-slate-200 dark:border-dark-border",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`p-2 rounded-lg shrink-0 ${X.type==="KASBON"?"bg-orange-50 text-orange-600":"bg-green-50 text-green-600"}`,children:X.type==="KASBON"?u.jsx(Ai,{size:18}):u.jsx(fm,{size:18})}),u.jsxs("div",{children:[u.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 block text-sm",children:I(X.employeeId)}),u.jsx("span",{className:"text-xs text-slate-500",children:new Date(X.date).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]})]}),u.jsx("div",{className:"text-right",children:u.jsxs("span",{className:`block font-bold text-base ${X.type==="KASBON"?"text-orange-600":"text-green-600"}`,children:["Rp ",X.amount.toLocaleString("id-ID")]})})]}),u.jsxs("div",{className:`flex justify-between items-center pt-2 border-t border-slate-50 dark:border-slate-800 ${(i==null?void 0:i.role)!=="ADMIN"?"justify-end":""}`,children:[u.jsx("div",{className:"text-xs text-slate-500 italic max-w-[60%] truncate mr-auto",children:X.note?X.note:X.type==="KASBON"?"Pinjaman Karyawan":"Pembayaran Gaji"}),(i==null?void 0:i.role)==="ADMIN"&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>te(X),className:"p-1.5 text-blue-500 bg-blue-50 dark:bg-blue-900/20 rounded-lg active:scale-95 transition-transform",children:u.jsx(Zn,{size:16})}),u.jsx("button",{onClick:()=>_(X.id),className:"p-1.5 text-red-500 bg-red-50 dark:bg-red-900/20 rounded-lg active:scale-95 transition-transform",children:u.jsx(Fn,{size:16})})]})]})]},X.id))})]}),!g&&W.length===0&&u.jsxs("div",{className:"p-12 text-center text-slate-500 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-2xl",children:[u.jsx(tr,{size:32,className:"mx-auto mb-2 opacity-30"}),u.jsx("p",{children:"Belum ada data transaksi."})]}),!g&&W.length>0&&u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 p-4 bg-white dark:bg-dark-card rounded-2xl border border-slate-200 dark:border-dark-border shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 w-full sm:w-auto justify-between sm:justify-start",children:[u.jsx("span",{children:"Tampilkan:"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:ne,onChange:X=>je(Number(X.target.value)),className:"appearance-none bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg pl-3 pr-8 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-slate-800 dark:text-slate-200",children:[u.jsx("option",{value:10,children:"10 Baris"}),u.jsx("option",{value:20,children:"20 Baris"}),u.jsx("option",{value:50,children:"50 Baris"}),u.jsx("option",{value:100,children:"100 Baris"})]}),u.jsx(ps,{size:14,className:"absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto",children:[u.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[He+1," - ",Me," dari ",ue," data"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>ke(X=>Math.max(1,X-1)),disabled:pe===1,className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-800 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Ri,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"Sebelumnya"})]}),u.jsxs("button",{onClick:()=>ke(X=>Math.min(xe,X+1)),disabled:pe===xe,className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-800 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("span",{className:"hidden sm:inline",children:"Selanjutnya"})," ",u.jsx(sr,{size:16})]})]})]})]}),C&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm animate-fade-in",children:u.jsxs("div",{className:"bg-white dark:bg-dark-card w-full max-w-sm rounded-2xl p-6 shadow-2xl border border-slate-100 dark:border-dark-border",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(bs,{className:"text-slate-500",size:20}),u.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Ekspor Laporan PDF"})]}),u.jsx("button",{onClick:()=>R(!1),className:"p-1.5 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-400",children:u.jsx(pa,{size:18})})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300 rounded-xl text-sm mb-4 flex items-start gap-2",children:[u.jsx(Ti,{size:16,className:"mt-0.5 shrink-0"}),u.jsxs("p",{children:["Filter periode akan diterapkan pada kategori ",u.jsx("b",{children:Q==="ALL"?"Semua Transaksi":Q==="KASBON"?"Kasbon":"Pembayaran Gaji"}),"."]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1.5 block uppercase",children:"Dari Tanggal"}),u.jsx("input",{type:"date",value:z.start,onChange:X=>L({...z,start:X.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1.5 block uppercase",children:"Sampai Tanggal"}),u.jsx("input",{type:"date",value:z.end,onChange:X=>L({...z,end:X.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"})]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx("button",{onClick:()=>R(!1),className:"flex-1 py-2.5 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl font-medium transition-colors border border-slate-200 dark:border-slate-700",children:"Batal"}),u.jsx("button",{onClick:ka,className:"flex-1 py-2.5 bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900 rounded-xl font-bold transition-all shadow-lg shadow-slate-800/20",children:"Cetak PDF"})]})]})}),(i==null?void 0:i.role)==="ADMIN"&&p&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm animate-fade-in",children:u.jsxs("div",{className:"bg-white dark:bg-dark-card w-full max-w-md rounded-2xl p-6 shadow-2xl border border-slate-100 dark:border-dark-border",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:j?"Edit Transaksi":"Transaksi Baru"}),u.jsx("button",{onClick:()=>v(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-500",children:u.jsx(pa,{size:20})})]}),u.jsxs("form",{onSubmit:x,className:"space-y-4 pb-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[u.jsxs("label",{className:`cursor-pointer border rounded-xl p-3 flex flex-col items-center justify-center gap-2 transition-all ${he.type==="KASBON"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700":"border-slate-200 dark:border-slate-700 text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[u.jsx("input",{type:"radio",name:"type",value:"KASBON",checked:he.type==="KASBON",onChange:()=>Z({...he,type:"KASBON"}),className:"hidden"}),u.jsx(Ai,{size:24}),u.jsx("span",{className:"font-bold text-sm",children:"Kasbon"})]}),u.jsxs("label",{className:`cursor-pointer border rounded-xl p-3 flex flex-col items-center justify-center gap-2 transition-all ${he.type==="SALARY"?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700":"border-slate-200 dark:border-slate-700 text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[u.jsx("input",{type:"radio",name:"type",value:"SALARY",checked:he.type==="SALARY",onChange:()=>Z({...he,type:"SALARY"}),className:"hidden"}),u.jsx(fm,{size:24}),u.jsx("span",{className:"font-bold text-sm",children:"Bayar Gaji"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Tanggal"}),u.jsx("input",{type:"date",required:!0,value:he.date,onChange:X=>Z({...he,date:X.target.value}),className:"w-full px-4 py-3 md:py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Karyawan"}),u.jsxs("select",{required:!0,value:he.employeeId,onChange:X=>Z({...he,employeeId:X.target.value}),className:"w-full px-4 py-3 md:py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"-- Pilih Karyawan --"}),r.map(X=>u.jsx("option",{value:X.id,children:X.name},X.id))]})]}),he.employeeId&&u.jsxs("div",{className:`p-3 rounded-xl border flex items-start gap-3 transition-colors ${ba>=0?"bg-blue-50 dark:bg-blue-900/20 border-blue-100 dark:border-blue-900 text-blue-800 dark:text-blue-300":"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-900 text-red-800 dark:text-red-300"}`,children:[u.jsx("div",{className:"p-1 bg-white dark:bg-dark-card rounded-full shadow-sm shrink-0",children:u.jsx(Ti,{size:16})}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs font-bold uppercase tracking-wide opacity-70",children:"Sisa Gaji Tersimpan"}),u.jsxs("span",{className:"block text-lg font-bold",children:["Rp ",ba.toLocaleString("id-ID")]}),he.type==="SALARY"&&u.jsx("div",{className:"mt-1 flex gap-2",children:u.jsxs("button",{type:"button",onClick:()=>Z({...he,amount:ba>0?ba:0}),className:"text-xs bg-white dark:bg-dark-card border border-blue-200 dark:border-blue-800 px-2 py-1 rounded shadow-sm hover:bg-blue-50 dark:hover:bg-blue-900/50 flex items-center gap-1",children:[u.jsx(nv,{size:10})," Bayar Semua"]})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Nominal (Rp)"}),u.jsx("input",{type:"number",required:!0,min:"1",value:he.amount,onChange:X=>Z({...he,amount:Number(X.target.value)}),className:"w-full px-4 py-3 md:py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-blue-500 font-bold text-lg"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Catatan (Opsional)"}),u.jsx("input",{type:"text",value:he.note||"",onChange:X=>Z({...he,note:X.target.value}),placeholder:"Contoh: Cicilan ke-1",className:"w-full px-4 py-3 md:py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"flex gap-3 mt-8 pt-4 border-t border-slate-100 dark:border-slate-800",children:[u.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-4 py-3 text-slate-600 hover:bg-slate-100 dark:text-slate-400 rounded-xl transition-colors border border-slate-200 dark:border-slate-700 font-medium",children:"Batal"}),u.jsxs("button",{type:"submit",className:"flex-1 flex justify-center items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-all shadow-lg shadow-blue-600/20",children:[u.jsx(Xn,{size:18})," Simpan"]})]})]})]})})]})},_v=()=>{const[i,s]=B.useState([]),[l,r]=B.useState([]),[d,h]=B.useState(""),[f,g]=B.useState(""),[b,p]=B.useState(""),[v,j]=B.useState(!1),[N,C]=B.useState(!1),[R,z]=B.useState(!0),[L,H]=B.useState(1),[Y,$]=B.useState(20);B.useEffect(()=>{F()},[]),B.useEffect(()=>{H(1)},[d,f,b,Y]);const F=async()=>{z(!0);try{const Z=await Ne.getEmployees();r(Z);const ge=await Ne.getProductionLogs(),_=await Ne.getPayments(),G=await Ne.getComponents();let ee=[];ge.forEach(te=>{const x=Z.find(E=>E.id===te.employeeId),D=G.find(E=>E.id===te.componentId);ee.push({id:te.id,date:te.date,employeeId:te.employeeId,employeeName:(x==null?void 0:x.name)||"Unknown",description:`Hasil Kerja (${te.qty}x ${(D==null?void 0:D.name)||"Item"})`,type:"IN",amount:te.total,balance:0})}),_.forEach(te=>{const x=Z.find(D=>D.id===te.employeeId);ee.push({id:te.id,date:te.date,employeeId:te.employeeId,employeeName:(x==null?void 0:x.name)||"Unknown",description:te.type==="KASBON"?"KASBON (Pinjaman)":"PEMBAYARAN GAJI",type:"OUT",amount:te.amount,balance:0})}),ee.sort((te,x)=>{const D=new Date(te.date).getTime(),E=new Date(x.date).getTime();return D!==E?D-E:te.type==="IN"?-1:1});let J=0;ee=ee.map(te=>(te.type==="IN"?J+=te.amount:J-=te.amount,{...te,balance:J})),s(ee.reverse())}catch(Z){console.error(Z)}finally{z(!1)}},le=Z=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(Z),P=()=>{h(""),g(""),p("")},Q=i.filter(Z=>{const ge=d?Z.date>=d:!0,_=f?Z.date<=f:!0,G=b?Z.employeeId===b:!0;return ge&&_&&G}),se=Q.length,pe=Math.ceil(se/Y),ke=(L-1)*Y,ne=Math.min(ke+Y,se),je=Q.slice(ke,ke+Y),he=()=>{const Z=window;if(!Z.jspdf){alert("Library PDF sedang dimuat.");return}C(!0);try{const{jsPDF:ge}=Z.jspdf,_=new ge("landscape","mm","a4");_.setFontSize(16),_.setFont("helvetica","bold"),_.text("PT. REDONE BERKAH MANDIRI UTAMA",14,15),_.setFontSize(12),_.setFont("helvetica","normal"),_.text("LAPORAN KEUANGAN & MUTASI GAJI",14,21);const G=d?new Date(d).toLocaleDateString("id-ID"):"Awal",ee=f?new Date(f).toLocaleDateString("id-ID"):"Sekarang";_.setFontSize(10),_.text(`Periode: ${G} s/d ${ee}`,14,27),_.line(14,30,283,30);const J=["Tanggal","Karyawan","Keterangan","Masuk","Keluar","Saldo"],te=[];Q.forEach(E=>{const I=[new Date(E.date).toLocaleDateString("id-ID"),E.employeeName,E.description,E.type==="IN"?le(E.amount):"-",E.type==="OUT"?le(E.amount):"-",le(E.balance)];te.push(I)}),_.autoTable({head:[J],body:te,startY:35,theme:"grid",headStyles:{fillColor:[30,41,59],textColor:255,fontStyle:"bold",halign:"center"},styles:{fontSize:9,cellPadding:2,textColor:20},columnStyles:{0:{cellWidth:25},1:{cellWidth:40},2:{cellWidth:"auto"},3:{halign:"right",font:"courier",textColor:[22,163,74]},4:{halign:"right",font:"courier",textColor:[234,88,12]},5:{halign:"right",font:"courier",fontStyle:"bold"}}});const x=_.lastAutoTable.finalY+20;x>170&&_.addPage();const D=x>170?40:x;_.setFont("helvetica","normal"),_.setFontSize(10),_.setTextColor(0,0,0),_.text("Disiapkan Oleh,",40,D,{align:"center"}),_.text("Admin Keuangan",40,D+5,{align:"center"}),_.text("(________________________)",40,D+30,{align:"center"}),_.text("Disetujui Oleh,",240,D,{align:"center"}),_.text("Manager Operasional",240,D+5,{align:"center"}),_.text("(________________________)",240,D+30,{align:"center"}),_.save(`Laporan_Keuangan_${G}_${ee}.pdf`)}catch(ge){console.error(ge),alert("Gagal membuat PDF.")}finally{C(!1)}};return u.jsxs("div",{className:"space-y-4 md:space-y-6 relative animate-fade-in",children:[N&&u.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black/80 flex flex-col items-center justify-center text-white backdrop-blur-sm",children:[u.jsx(Et,{size:48,className:"animate-spin mb-4 text-primary-500"}),u.jsx("p",{className:"text-lg font-bold",children:"Sedang Membuat Dokumen PDF..."})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 no-print",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Data Keuangan"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Mutasi Saldo Hutang Gaji"})]}),u.jsxs("button",{onClick:he,className:"w-full sm:w-auto flex justify-center items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-900 text-white dark:bg-slate-100 dark:hover:bg-slate-200 dark:text-slate-900 rounded-xl transition-all shadow-sm font-medium",children:[u.jsx(bs,{size:18})," Ekspor Data (PDF)"]})]}),u.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-2xl border border-slate-200 dark:border-dark-border shadow-sm overflow-hidden no-print",children:[u.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-slate-50/50 dark:bg-slate-800/20",onClick:()=>j(!v),children:[u.jsxs("div",{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200 font-semibold",children:[u.jsx(tr,{size:18,className:"text-slate-500"}),u.jsx("h3",{children:"Filter Transaksi"})]}),v?u.jsx(Oc,{size:20,className:"text-slate-400"}):u.jsx(ps,{size:20,className:"text-slate-400"})]}),v&&u.jsx("div",{className:"p-5 border-t border-slate-100 dark:border-dark-border animate-fade-in",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-slate-500 font-bold mb-1 block uppercase",children:"Dari Tanggal"}),u.jsx("input",{type:"date",value:d,onChange:Z=>h(Z.target.value),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-slate-500 font-bold mb-1 block uppercase",children:"Sampai Tanggal"}),u.jsx("input",{type:"date",value:f,onChange:Z=>g(Z.target.value),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-slate-500 font-bold mb-1 block uppercase",children:"Karyawan"}),u.jsxs("select",{value:b,onChange:Z=>p(Z.target.value),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm appearance-none",children:[u.jsx("option",{value:"",children:"Semua Karyawan"}),l.map(Z=>u.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),u.jsx("div",{className:"flex items-end",children:u.jsxs("button",{onClick:P,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors text-sm font-medium h-[38px]",children:[u.jsx(Cc,{size:16})," Reset"]})})]})})]}),R?u.jsx("div",{className:"p-12 flex justify-center",children:u.jsx(Et,{className:"animate-spin text-blue-500",size:40})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-2xl border border-slate-200 dark:border-dark-border overflow-hidden shadow-sm",children:[u.jsx("div",{className:"hidden md:block overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-100 dark:border-dark-border",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Tanggal"}),u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Karyawan"}),u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Keterangan"}),u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider text-right text-green-600",children:"Masuk"}),u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider text-right text-orange-600",children:"Keluar"}),u.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider text-right",children:"Saldo"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-dark-border",children:je.map((Z,ge)=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600 dark:text-slate-300",children:new Date(Z.date).toLocaleDateString("id-ID")}),u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-800 dark:text-slate-200",children:Z.employeeName}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:Z.description}),u.jsx("td",{className:"px-6 py-4 text-sm text-right font-medium text-green-600 dark:text-green-400",children:Z.type==="IN"?le(Z.amount):"-"}),u.jsx("td",{className:"px-6 py-4 text-sm text-right font-medium text-orange-600 dark:text-orange-400",children:Z.type==="OUT"?le(Z.amount):"-"}),u.jsx("td",{className:"px-6 py-4 text-sm text-right font-bold text-slate-800 dark:text-slate-100",children:le(Z.balance)})]},`${Z.id}-${ge}`))})]})}),u.jsx("div",{className:"md:hidden no-print space-y-3",children:je.map((Z,ge)=>u.jsx("div",{className:"bg-white dark:bg-dark-card p-3.5 rounded-xl shadow-sm border border-slate-200 dark:border-dark-border",children:u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`p-2 rounded-lg ${Z.type==="IN"?"bg-green-50 text-green-600":"bg-orange-50 text-orange-600"}`,children:Z.type==="IN"?u.jsx(sv,{size:18}):u.jsx(Qm,{size:18})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-100 text-sm",children:Z.employeeName}),u.jsx("span",{className:"text-xs text-slate-400",children:new Date(Z.date).toLocaleDateString("id-ID",{day:"numeric",month:"long"})})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:`block font-bold text-sm ${Z.type==="IN"?"text-green-600":"text-orange-600"}`,children:[Z.type==="IN"?"+":"-"," ",le(Z.amount)]}),u.jsxs("span",{className:"text-[10px] text-slate-400",children:["Saldo: ",le(Z.balance)]})]})]})},`${Z.id}-${ge}`))}),Q.length===0&&u.jsxs("div",{className:"p-12 text-center flex flex-col items-center justify-center text-slate-500",children:[u.jsx(nr,{size:48,className:"text-slate-200 dark:text-slate-700 mb-4"}),u.jsx("p",{className:"font-medium",children:"Data transaksi tidak ditemukan"})]})]}),Q.length>0&&u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 p-4 bg-white dark:bg-dark-card rounded-2xl border border-slate-200 dark:border-dark-border shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 w-full sm:w-auto justify-between sm:justify-start",children:[u.jsx("span",{children:"Tampilkan:"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:Y,onChange:Z=>$(Number(Z.target.value)),className:"appearance-none bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg pl-3 pr-8 py-1.5 focus:outline-none focus:ring-2 focus:ring-primary-500 font-medium text-slate-800 dark:text-slate-200",children:[u.jsx("option",{value:10,children:"10 Baris"}),u.jsx("option",{value:20,children:"20 Baris"}),u.jsx("option",{value:50,children:"50 Baris"}),u.jsx("option",{value:100,children:"100 Baris"})]}),u.jsx(ps,{size:14,className:"absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto",children:[u.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[ke+1," - ",ne," dari ",se," data"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>H(Z=>Math.max(1,Z-1)),disabled:L===1,className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-800 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Ri,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"Sebelumnya"})]}),u.jsxs("button",{onClick:()=>H(Z=>Math.min(pe,Z+1)),disabled:L===pe,className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-800 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("span",{className:"hidden sm:inline",children:"Selanjutnya"})," ",u.jsx(sr,{size:16})]})]})]})]})]})]})},Sv=()=>{const[i,s]=B.useState([]),[l,r]=B.useState(!0),[d,h]=B.useState(""),[f,g]=B.useState(""),[b,p]=B.useState("-"),[v,j]=B.useState(!1),[N,C]=B.useState(!1);B.useEffect(()=>{const P=new Date().toLocaleDateString("en-CA");h(P),g(P)},[]);const R=async()=>{C(!0);try{const P=await Ne.getEmployees(),Q=await Ne.getProductionLogs(),se=await Ne.getPayments(),pe=P.map(ne=>{const je=Q.filter(_=>_.employeeId===ne.id&&_.date>=d&&_.date<=f),he=se.filter(_=>_.employeeId===ne.id&&_.date>=d&&_.date<=f),Z=je.reduce((_,G)=>_+G.total,0),ge=he.reduce((_,G)=>_+G.amount,0);return{employeeId:ne.id,name:ne.name,totalUpah:Z,totalDibayar:ge,saldo:Z-ge}}).filter(ne=>ne.totalUpah>0||ne.totalDibayar>0);s(pe);const ke=ne=>new Date(ne).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"});p(`${ke(d)} s/d ${ke(f)}`)}catch(P){console.error("Error calc rekap",P)}finally{C(!1)}},z=P=>{P.preventDefault(),R(),r(!1)},L=P=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(P),H=()=>{const P=window;if(!P.jspdf){alert("Library PDF sedang dimuat, coba sesaat lagi.");return}j(!0);try{const{jsPDF:Q}=P.jspdf,se=new Q("landscape","mm","a4");se.setFontSize(16),se.setFont("helvetica","bold"),se.text("PT. REDONE BERKAH MANDIRI UTAMA",14,15),se.setFontSize(12),se.setFont("helvetica","normal"),se.text("REKAPITULASI UPAH BORONGAN",14,21),se.setFontSize(10),se.text(`Periode: ${b}`,14,27),se.line(14,30,283,30);const pe=["ID Karyawan","Nama Karyawan","Total Upah (+)","Total Dibayar (-)","Sisa Saldo (=)"],ke=[];i.forEach(_=>{const G=[_.employeeId,_.name,L(_.totalUpah),L(_.totalDibayar),L(_.saldo)];ke.push(G)});const ne=i.reduce((_,G)=>_+G.totalUpah,0),je=i.reduce((_,G)=>_+G.totalDibayar,0),he=i.reduce((_,G)=>_+G.saldo,0);ke.push([{content:"TOTAL PERIODE",colSpan:2,styles:{halign:"right",fontStyle:"bold"}},{content:L(ne),styles:{fontStyle:"bold"}},{content:L(je),styles:{fontStyle:"bold"}},{content:L(he),styles:{fontStyle:"bold",fillColor:[240,240,240]}}]),se.autoTable({head:[pe],body:ke,startY:35,theme:"grid",headStyles:{fillColor:[22,163,74],textColor:255,fontStyle:"bold",halign:"center"},styles:{fontSize:10,cellPadding:3,textColor:20},columnStyles:{0:{halign:"left",cellWidth:30},1:{halign:"left"},2:{halign:"right",font:"courier"},3:{halign:"right",font:"courier"},4:{halign:"right",font:"courier",fontStyle:"bold"}},didDrawPage:_=>{}});const Z=se.lastAutoTable.finalY+20;Z>170&&se.addPage();const ge=Z>170?40:Z;se.setFont("helvetica","normal"),se.setFontSize(10),se.text("Mengetahui,",40,ge,{align:"center"}),se.text("Manager",40,ge+5,{align:"center"}),se.text("(________________________)",40,ge+30,{align:"center"}),se.text("Dibuat Oleh,",240,ge,{align:"center"}),se.text("Admin Keuangan",240,ge+5,{align:"center"}),se.text("(________________________)",240,ge+30,{align:"center"}),se.save(`Rekap_Borongan_${d}_sd_${f}.pdf`)}catch(Q){console.error(Q),alert("Gagal membuat PDF. Pastikan browser mendukung.")}finally{j(!1)}},Y=i.reduce((P,Q)=>P+Q.totalUpah,0),$=i.reduce((P,Q)=>P+Q.totalDibayar,0),F=i.reduce((P,Q)=>P+Q.saldo,0),le=({title:P,value:Q,icon:se,colorClass:pe,textClass:ke})=>u.jsxs("div",{className:"bg-white dark:bg-dark-card p-3.5 md:p-4 rounded-xl border border-slate-100 dark:border-dark-border shadow-sm flex items-center justify-between no-print",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-medium mb-1",children:P}),u.jsx("h3",{className:`text-lg font-bold ${ke}`,children:L(Q)})]}),u.jsx("div",{className:`p-2 rounded-lg ${pe}`,children:u.jsx(se,{size:20})})]});return u.jsxs("div",{className:"space-y-4 md:space-y-6 relative animate-fade-in",children:[v&&u.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black/80 flex flex-col items-center justify-center text-white backdrop-blur-sm",children:[u.jsx(Et,{size:48,className:"animate-spin mb-4 text-primary-500"}),u.jsx("p",{className:"text-lg font-bold",children:"Sedang Membuat Dokumen PDF..."})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 no-print",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Rekapitulasi Hasil"}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mt-0.5",children:[u.jsx(wc,{size:14}),u.jsxs("span",{children:["Periode: ",u.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:b})]})]})]}),u.jsxs("div",{className:"flex w-full sm:w-auto gap-2",children:[u.jsxs("button",{onClick:()=>r(!0),className:"flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-2 bg-white dark:bg-dark-card border border-slate-200 dark:border-dark-border text-slate-700 dark:text-slate-300 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-800 transition-all text-sm font-medium",children:[u.jsx(tr,{size:16})," Ganti Periode"]}),u.jsxs("button",{onClick:H,className:"flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-2 bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900 rounded-xl hover:bg-slate-900 dark:hover:bg-white shadow-lg shadow-slate-800/20 transition-all text-sm font-medium",children:[u.jsx(bs,{size:16})," Print / PDF"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 no-print",children:[u.jsx(le,{title:"Total Hasil Kerja (Upah)",value:Y,icon:fv,colorClass:"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400",textClass:"text-green-600 dark:text-green-400"}),u.jsx(le,{title:"Total Telah Dibayar",value:$,icon:Qm,colorClass:"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400",textClass:"text-orange-600 dark:text-orange-400"}),u.jsx(le,{title:"Sisa Saldo Gaji",value:F,icon:Ai,colorClass:"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400",textClass:"text-blue-600 dark:text-blue-400"})]}),N?u.jsx("div",{className:"p-12 flex justify-center",children:u.jsx(Et,{className:"animate-spin text-green-500",size:40})}):u.jsx(u.Fragment,{children:u.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-2xl border border-slate-200 dark:border-dark-border shadow-sm overflow-hidden",children:[u.jsx("div",{className:"hidden md:block overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-dark-border",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Nama Karyawan"}),u.jsx("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase tracking-wider text-right text-green-600",children:"Total Upah (+)"}),u.jsx("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase tracking-wider text-right text-orange-600",children:"Total Dibayar (-)"}),u.jsx("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase tracking-wider text-right text-blue-600",children:"Sisa Saldo (=)"})]})}),u.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-dark-border",children:[i.map(P=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[u.jsxs("td",{className:"px-6 py-3 text-sm font-medium text-slate-800 dark:text-slate-200",children:[P.name," ",u.jsxs("span",{className:"text-[10px] text-slate-400 ml-1 font-mono no-print",children:["#",P.employeeId]})]}),u.jsx("td",{className:"px-6 py-3 text-sm text-right font-medium text-green-600 dark:text-green-400 font-mono",children:L(P.totalUpah)}),u.jsx("td",{className:"px-6 py-3 text-sm text-right font-medium text-orange-600 dark:text-orange-400 font-mono",children:L(P.totalDibayar)}),u.jsx("td",{className:"px-6 py-3 text-sm text-right font-bold text-slate-800 dark:text-slate-100 font-mono bg-slate-50/50 dark:bg-slate-800/50",children:L(P.saldo)})]},P.employeeId)),i.length===0&&u.jsx("tr",{children:u.jsxs("td",{colSpan:4,className:"px-6 py-12 text-center text-slate-500 italic",children:[u.jsx(nr,{size:32,className:"mx-auto mb-2 opacity-20"}),"Tidak ada data transaksi pada periode ini."]})})]}),u.jsx("tfoot",{className:"bg-slate-50 dark:bg-slate-800 border-t-2 border-slate-200 dark:border-dark-border font-bold",children:u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-3 text-right uppercase text-xs text-slate-500",children:"Total Periode"}),u.jsx("td",{className:"px-6 py-3 text-right text-green-700 dark:text-green-400 text-sm",children:L(Y)}),u.jsx("td",{className:"px-6 py-3 text-right text-orange-700 dark:text-orange-400 text-sm",children:L($)}),u.jsx("td",{className:"px-6 py-3 text-right text-slate-900 dark:text-slate-100 text-base",children:L(F)})]})})]})}),u.jsx("div",{className:"md:hidden no-print",children:i.map(P=>u.jsxs("div",{className:"p-3.5 border-b border-slate-100 dark:border-dark-border last:border-0",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100",children:P.name}),u.jsx("span",{className:`text-sm font-bold px-2 py-0.5 rounded ${P.saldo>=0?"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400":"bg-red-50 text-red-700"}`,children:L(P.saldo)})]}),u.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"block text-slate-400 mb-0.5",children:"Total Upah"}),u.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:L(P.totalUpah)})]}),u.jsx("div",{className:"w-px h-8 bg-slate-100 dark:bg-slate-800"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"block text-slate-400 mb-0.5",children:"Dibayar"}),u.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:L(P.totalDibayar)})]})]})]},P.employeeId))})]})}),l&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in no-print",children:u.jsxs("div",{className:"bg-white dark:bg-dark-card w-full max-w-md rounded-2xl shadow-2xl border border-slate-100 dark:border-dark-border overflow-hidden transform transition-all",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-dark-border flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 rounded-lg",children:u.jsx(wc,{size:18})}),u.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100",children:"Filter Periode"})]}),u.jsx("button",{onClick:()=>r(!1),className:"p-1 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-400 transition-colors",children:u.jsx(pa,{size:20})})]}),u.jsx("div",{className:"p-6",children:u.jsxs("form",{onSubmit:z,children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1.5 block",children:"Dari Tanggal"}),u.jsx("input",{type:"date",required:!0,value:d,onChange:P=>h(P.target.value),className:"w-full px-3 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm font-medium"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1.5 block",children:"Sampai Tanggal"}),u.jsx("input",{type:"date",required:!0,value:f,onChange:P=>g(P.target.value),className:"w-full px-3 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm font-medium"})]})]}),u.jsxs("div",{className:"flex gap-3 border-t border-slate-100 dark:border-dark-border pt-4",children:[u.jsx("button",{type:"button",onClick:()=>r(!1),className:"flex-1 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:"Batal"}),u.jsx("button",{type:"submit",className:"flex-1 py-2.5 text-sm font-bold text-white bg-primary-600 hover:bg-primary-700 rounded-xl shadow-lg shadow-primary-600/20 transition-all",children:"Terapkan"})]})]})})]})})]})},jv=({view:i,icon:s,label:l,isActive:r,onClick:d})=>u.jsxs("button",{onClick:d,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group ${r?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-dark-border"}`,children:[u.jsx(s,{size:20,className:r?"text-white":"text-slate-500 group-hover:text-primary-600 dark:text-slate-400"}),u.jsx("span",{className:"font-medium",children:l})]}),kv=()=>{var ge;const{user:i,logout:s}=Ps(),[l,r]=B.useState(ut.DASHBOARD),[d,h]=B.useState(!0),[f,g]=B.useState(!0),[b,p]=B.useState(0),[v,j]=B.useState(!1),[N,C]=B.useState(!1),R=B.useRef(null),[z,L]=B.useState(!1),[H,Y]=B.useState({old:"",new:"",confirm:""}),[$,F]=B.useState(""),[le,P]=B.useState("");B.useEffect(()=>{window.innerWidth<768&&h(!1)},[]),B.useEffect(()=>{f?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[f]);const Q=()=>g(!f),pe=[{view:ut.DASHBOARD,icon:ov,label:"Home",roles:["ADMIN","USER"]},{view:ut.PRODUCTION,icon:iv,label:"Produksi",roles:["ADMIN","USER"]},{view:ut.PAYMENTS,icon:Ai,label:"Pembayaran",roles:["ADMIN","USER"]},{view:ut.EMPLOYEES,icon:Zm,label:"Karyawan",roles:["ADMIN"]},{view:ut.COMPONENTS,icon:zi,label:"Komponen",roles:["ADMIN","USER"]},{view:ut.REKAP,icon:rv,label:"Rekap",roles:["ADMIN"]}].filter(_=>_.roles.includes((i==null?void 0:i.role)||"USER")),ke=_=>{r(_),window.innerWidth<768&&h(!1)},ne=()=>{C(!1),j(!0)},je=()=>{s(),j(!1)},he=()=>{Y({old:"",new:"",confirm:""}),F(""),P(""),L(!0),C(!1)},Z=async _=>{if(_.preventDefault(),F(""),P(""),H.new.length<5){F("Password baru minimal 5 karakter");return}if(H.new!==H.confirm){F("Konfirmasi password tidak cocok");return}try{await Ne.updatePassword((i==null?void 0:i.username)||"",H.old,H.new),P("Password berhasil diubah!"),Y({old:"",new:"",confirm:""}),setTimeout(()=>{L(!1)},1500)}catch(G){F(G.message||"Gagal mengubah password")}};return u.jsxs("div",{className:"h-screen flex bg-slate-50 dark:bg-dark-bg text-slate-900 dark:text-slate-100 overflow-hidden print:overflow-visible print:h-auto animate-fade-in",children:[u.jsx(Ys,{isOpen:v,title:"Konfirmasi Logout",message:"Apakah Anda yakin ingin keluar dari aplikasi?",onConfirm:je,onCancel:()=>j(!1),confirmText:"Logout",cancelText:"Batal",type:"danger"}),z&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm animate-fade-in",children:u.jsxs("div",{className:"bg-white dark:bg-dark-card w-full max-w-md rounded-2xl p-6 shadow-2xl border border-slate-100 dark:border-dark-border",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[u.jsx(uv,{size:20,className:"text-primary-500"})," Ganti Password"]}),u.jsx("button",{onClick:()=>L(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-500",children:u.jsx(pa,{size:20})})]}),$&&u.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-xl font-medium",children:$}),le&&u.jsxs("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 text-sm rounded-xl font-medium flex items-center gap-2",children:[u.jsx(Xn,{size:16})," ",le]}),u.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Password Lama"}),u.jsx("input",{type:"password",required:!0,value:H.old,onChange:_=>Y({...H,old:_.target.value}),className:"w-full px-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Ketik password lama"})]}),u.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-800 my-2 pt-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Password Baru"}),u.jsx("input",{type:"password",required:!0,value:H.new,onChange:_=>Y({...H,new:_.target.value}),className:"w-full px-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Ketik password baru"})]}),u.jsxs("div",{className:"mt-3",children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-1",children:"Konfirmasi Password Baru"}),u.jsx("input",{type:"password",required:!0,value:H.confirm,onChange:_=>Y({...H,confirm:_.target.value}),className:"w-full px-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-dark-card focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Ulangi password baru"})]})]}),u.jsxs("div",{className:"flex gap-3 mt-6 pt-2",children:[u.jsx("button",{type:"button",onClick:()=>L(!1),className:"flex-1 px-4 py-2.5 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl font-medium transition-colors",children:"Batal"}),u.jsxs("button",{type:"submit",className:"flex-1 flex justify-center items-center gap-2 px-6 py-2.5 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold transition-all shadow-lg shadow-primary-600/20",children:[u.jsx(Xn,{size:18})," Simpan"]})]})]})]})}),d&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-[80] md:hidden backdrop-blur-sm",onClick:()=>h(!1)}),u.jsx("aside",{className:`fixed md:static inset-y-0 left-0 z-[90] w-64 bg-white dark:bg-dark-card border-r border-slate-200 dark:border-dark-border transform transition-transform duration-300 ease-in-out print:hidden flex flex-col ${d?"translate-x-0":"-translate-x-full md:translate-x-0"} md:block`,children:u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-dark-border flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white font-bold",children:"R"}),u.jsxs("span",{className:"font-bold text-lg tracking-tight",children:["Redone",u.jsx("span",{className:"text-primary-600",children:"Paypro"})]})]}),u.jsx("button",{onClick:()=>h(!1),className:"md:hidden text-slate-400",children:u.jsx(pa,{size:20})})]}),u.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto custom-scrollbar",children:[u.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 px-4 pt-2",children:"Menu Utama"}),pe.map(_=>u.jsx(jv,{view:_.view,icon:_.icon,label:_.label==="Home"?"Dashboard":_.label,isActive:l===_.view,onClick:()=>ke(_.view)},_.view))]}),u.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-dark-border space-y-2",children:u.jsxs("button",{onClick:ne,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[u.jsx(pm,{size:20}),u.jsx("span",{className:"font-medium",children:"Logout"})]})})]})}),u.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden relative print:h-auto print:overflow-visible",children:[u.jsxs("header",{className:"h-16 bg-white/80 dark:bg-dark-card/80 backdrop-blur-md border-b border-slate-200 dark:border-dark-border flex items-center justify-between px-4 md:px-6 z-[40] relative print:hidden shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white font-bold text-sm",children:"R"}),u.jsxs("span",{className:"font-bold text-lg tracking-tight",children:["Redone",u.jsx("span",{className:"text-primary-600",children:"Paypro"})]})]}),u.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 hidden md:block",children:[(i==null?void 0:i.role)==="ADMIN"?"Administrator":"Karyawan"," Panel"]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:Q,className:"p-2 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-yellow-400 hover:ring-2 ring-primary-500/50 transition-all",children:f?u.jsx(hv,{size:18}):u.jsx(dv,{size:18})}),u.jsxs("div",{className:"flex items-center gap-2 pl-4 border-l border-slate-200 dark:border-slate-700 relative",ref:R,children:[u.jsxs("div",{className:"flex items-center gap-3 cursor-pointer p-1.5 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",onClick:()=>C(!N),children:[u.jsxs("div",{className:"text-right hidden sm:block",children:[u.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 leading-none",children:i==null?void 0:i.fullName}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-none mt-1",children:i==null?void 0:i.role})]}),u.jsx("div",{className:"w-9 h-9 rounded-full bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 flex items-center justify-center border-2 border-transparent hover:border-primary-500 transition-all",children:u.jsx(lv,{size:22})}),u.jsx(ps,{size:14,className:`text-slate-400 transition-transform duration-200 ${N?"rotate-180":""}`})]}),N&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-[50] bg-transparent",onClick:()=>C(!1)}),u.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 sm:w-64 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 z-[60] overflow-hidden animate-fade-in origin-top-right ring-1 ring-black/5",children:[u.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 sm:hidden bg-slate-50 dark:bg-slate-900/50",children:[u.jsx("p",{className:"font-bold text-slate-800 dark:text-white truncate",children:i==null?void 0:i.fullName}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 capitalize mt-0.5",children:(ge=i==null?void 0:i.role)==null?void 0:ge.toLowerCase()})]}),u.jsxs("div",{className:"p-2",children:[u.jsxs("button",{onClick:_=>{_.stopPropagation(),he()},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700/50 rounded-lg transition-colors",children:[u.jsx(ji,{size:18,className:"text-slate-400 dark:text-slate-500"}),"Ganti Password"]}),u.jsxs("button",{onClick:_=>{_.stopPropagation(),ne()},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[u.jsx(pm,{size:18}),"Logout"]})]})]})]})]})]})]}),u.jsx("div",{className:"flex-1 overflow-auto p-3 md:p-8 relative print:p-0 print:overflow-visible pb-24 md:pb-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto space-y-4 md:space-y-6 print:max-w-none print:pb-0",children:[l===ut.DASHBOARD&&u.jsx(bv,{onViewChange:r},b),l===ut.EMPLOYEES&&(i==null?void 0:i.role)==="ADMIN"&&u.jsx(yv,{},b),l===ut.COMPONENTS&&u.jsx(xv,{},b),l===ut.PRODUCTION&&u.jsx(vv,{},b),l===ut.PAYMENTS&&u.jsx(wv,{},b),l===ut.FINANCE&&(i==null?void 0:i.role)==="ADMIN"&&u.jsx(_v,{},b),l===ut.REKAP&&(i==null?void 0:i.role)==="ADMIN"&&u.jsx(Sv,{},b),!pe.find(_=>_.view===l)&&u.jsx("div",{className:"p-8 text-center text-slate-500",children:"Akses tidak diizinkan untuk halaman ini."})]})}),u.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-dark-card border-t border-slate-200 dark:border-dark-border z-40 pb-safe shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] print:hidden",children:u.jsx("div",{className:"flex items-center justify-around px-2 py-2",children:pe.filter(_=>_.view!==ut.EMPLOYEES&&_.view!==ut.COMPONENTS).slice(0,4).map(_=>{const G=_.icon,ee=l===_.view;return u.jsxs("button",{onClick:()=>r(_.view),className:`flex flex-col items-center justify-center w-full py-1 rounded-lg transition-all ${ee?"text-primary-600 dark:text-primary-400":"text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300"}`,children:[u.jsx("div",{className:`p-1.5 rounded-2xl mb-1 transition-all duration-300 ${ee?"bg-primary-100 dark:bg-primary-900/30 -translate-y-1":""}`,children:u.jsx(G,{size:24,strokeWidth:ee?2.5:2})}),u.jsx("span",{className:`text-[10px] font-medium leading-none transition-all ${ee?"opacity-100 font-bold":"opacity-80"}`,children:_.label})]},_.view)})})})]})]})},Nv=()=>(B.useEffect(()=>{(async()=>{await Ne.init()})()},[]),u.jsx(Wx,{children:u.jsx(Ev,{})})),Ev=()=>{const{isAuthenticated:i}=Ps();return i?u.jsx(kv,{}):u.jsx(pv,{})},Tv=_b.createRoot(document.getElementById("root"));Tv.render(u.jsx(gb.StrictMode,{children:u.jsx(Nv,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(i=>{console.log("PWA Service Worker registered with scope:",i.scope)}).catch(i=>{console.error("PWA Service Worker registration failed:",i)})});
